<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STM32L4xx_HAL_Driver: Initialization and de-initialization functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">STM32L4xx_HAL_Driver
   &#160;<span id="projectnumber">1.14.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__RCC__Exported__Functions__Group1.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Initialization and de-initialization functions<div class="ingroups"><a class="el" href="group__STM32L4xx__HAL__Driver.html">STM32L4xx_HAL_Driver</a> &raquo; <a class="el" href="group__RCC.html">RCC</a> &raquo; <a class="el" href="group__RCC__Exported__Functions.html">RCC Exported Functions</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Initialization and Configuration functions.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga064f7d9878ecdc1d4852cba2b9e6a52e"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RCC__Exported__Functions__Group1.html#ga064f7d9878ecdc1d4852cba2b9e6a52e">HAL_RCC_DeInit</a> (void)</td></tr>
<tr class="memdesc:ga064f7d9878ecdc1d4852cba2b9e6a52e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the RCC clock configuration to the default reset state.  <a href="group__RCC__Exported__Functions__Group1.html#ga064f7d9878ecdc1d4852cba2b9e6a52e">More...</a><br /></td></tr>
<tr class="separator:ga064f7d9878ecdc1d4852cba2b9e6a52e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9c504088722e03830df6caad932ad06b"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RCC__Exported__Functions__Group1.html#ga9c504088722e03830df6caad932ad06b">HAL_RCC_OscConfig</a> (<a class="el" href="stm32l4xx__hal__rcc_8h.html#structRCC__OscInitTypeDef">RCC_OscInitTypeDef</a> *RCC_OscInitStruct)</td></tr>
<tr class="memdesc:ga9c504088722e03830df6caad932ad06b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the RCC Oscillators according to the specified parameters in the <a class="el" href="stm32l4xx__hal__rcc_8h.html#structRCC__OscInitTypeDef" title="RCC Internal/External Oscillator (HSE, HSI, MSI, LSE and LSI) configuration structure definition.">RCC_OscInitTypeDef</a>.  <a href="group__RCC__Exported__Functions__Group1.html#ga9c504088722e03830df6caad932ad06b">More...</a><br /></td></tr>
<tr class="separator:ga9c504088722e03830df6caad932ad06b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad0a4b5c7459219fafc15f3f867563ef3"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RCC__Exported__Functions__Group1.html#gad0a4b5c7459219fafc15f3f867563ef3">HAL_RCC_ClockConfig</a> (<a class="el" href="stm32l4xx__hal__rcc_8h.html#structRCC__ClkInitTypeDef">RCC_ClkInitTypeDef</a> *RCC_ClkInitStruct, uint32_t FLatency)</td></tr>
<tr class="memdesc:gad0a4b5c7459219fafc15f3f867563ef3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the CPU, AHB and APB busses clocks according to the specified parameters in the RCC_ClkInitStruct.  <a href="group__RCC__Exported__Functions__Group1.html#gad0a4b5c7459219fafc15f3f867563ef3">More...</a><br /></td></tr>
<tr class="separator:gad0a4b5c7459219fafc15f3f867563ef3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Initialization and Configuration functions. </p>
<pre class="fragment">===============================================================================
          ##### Initialization and de-initialization functions #####
===============================================================================
   [..]
     This section provides functions allowing to configure the internal and external oscillators
     (HSE, HSI, LSE, MSI, LSI, PLL, CSS and MCO) and the System busses clocks (SYSCLK, AHB, APB1
      and APB2).

   [..] Internal/external clock and PLL configuration
        (+) HSI (high-speed internal): 16 MHz factory-trimmed RC used directly or through
            the PLL as System clock source.

        (+) MSI (Mutiple Speed Internal): Its frequency is software trimmable from 100KHZ to 48MHZ.
            It can be used to generate the clock for the USB OTG FS (48 MHz).
            The number of flash wait states is automatically adjusted when MSI range is updated with
            HAL_RCC_OscConfig() and the MSI is used as System clock source.

        (+) LSI (low-speed internal): 32 KHz low consumption RC used as IWDG and/or RTC
            clock source.

        (+) HSE (high-speed external): 4 to 48 MHz crystal oscillator used directly or
            through the PLL as System clock source. Can be used also optionally as RTC clock source.

        (+) LSE (low-speed external): 32.768 KHz oscillator used optionally as RTC clock source.

        (+) PLL (clocked by HSI, HSE or MSI) providing up to three independent output clocks:
          (++) The first output is used to generate the high speed system clock (up to 80MHz).
          (++) The second output is used to generate the clock for the USB OTG FS (48 MHz),
               the random analog generator (&lt;=48 MHz) and the SDMMC1 (&lt;= 48 MHz).
          (++) The third output is used to generate an accurate clock to achieve
               high-quality audio performance on SAI interface.

        (+) PLLSAI1 (clocked by HSI, HSE or MSI) providing up to three independent output clocks:
          (++) The first output is used to generate SAR ADC1 clock.
          (++) The second output is used to generate the clock for the USB OTG FS (48 MHz),
               the random analog generator (&lt;=48 MHz) and the SDMMC1 (&lt;= 48 MHz).
          (++) The Third output is used to generate an accurate clock to achieve
               high-quality audio performance on SAI interface.

        (+) PLLSAI2 (clocked by HSI, HSE or MSI) providing up to two independent output clocks:
          (++) The first output is used to generate SAR ADC2 clock.
          (++) The second  output is used to generate an accurate clock to achieve
               high-quality audio performance on SAI interface.

        (+) CSS (Clock security system): once enabled, if a HSE clock failure occurs
           (HSE used directly or through PLL as System clock source), the System clock
            is automatically switched to HSI and an interrupt is generated if enabled.
            The interrupt is linked to the Cortex-M4 NMI (Non-Maskable Interrupt)
            exception vector.

        (+) MCO (microcontroller clock output): used to output MSI, LSI, HSI, LSE, HSE or
            main PLL clock (through a configurable prescaler) on PA8 pin.

   [..] System, AHB and APB busses clocks configuration
        (+) Several clock sources can be used to drive the System clock (SYSCLK): MSI, HSI,
            HSE and main PLL.
            The AHB clock (HCLK) is derived from System clock through configurable
            prescaler and used to clock the CPU, memory and peripherals mapped
            on AHB bus (DMA, GPIO...). APB1 (PCLK1) and APB2 (PCLK2) clocks are derived
            from AHB clock through configurable prescalers and used to clock
            the peripherals mapped on these busses. You can use
            "HAL_RCC_GetSysClockFreq()" function to retrieve the frequencies of these clocks.

        -@- All the peripheral clocks are derived from the System clock (SYSCLK) except:

          (+@) SAI: the SAI clock can be derived either from a specific PLL (PLLSAI1) or (PLLSAI2) or
               from an external clock mapped on the SAI_CKIN pin.
               You have to use HAL_RCCEx_PeriphCLKConfig() function to configure this clock.
          (+@) RTC: the RTC clock can be derived either from the LSI, LSE or HSE clock
               divided by 2 to 31.
               You have to use __HAL_RCC_RTC_ENABLE() and HAL_RCCEx_PeriphCLKConfig() function
               to configure this clock.
          (+@) USB OTG FS, SDMMC1 and RNG: USB OTG FS requires a frequency equal to 48 MHz
               to work correctly, while the SDMMC1 and RNG peripherals require a frequency
               equal or lower than to 48 MHz. This clock is derived of the main PLL or PLLSAI1
               through PLLQ divider. You have to enable the peripheral clock and use
               HAL_RCCEx_PeriphCLKConfig() function to configure this clock.
          (+@) IWDG clock which is always the LSI clock.


        (+) The maximum frequency of the SYSCLK, HCLK, PCLK1 and PCLK2 is 80 MHz.
            The clock source frequency should be adapted depending on the device voltage range
            as listed in the Reference Manual "Clock source frequency versus voltage scaling" chapter.</pre> <pre class="fragment">     Table 1. HCLK clock frequency for STM32L4Rx/STM32L4Sx devices
     +--------------------------------------------------------+
     | Latency         |     HCLK clock frequency (MHz)       |
     |                 |--------------------------------------|
     |                 |  voltage range 1  | voltage range 2  |
     |                 |       1.2 V       |     1.0 V        |
     |-----------------|-------------------|------------------|
     |0WS(1 CPU cycles)|   0 &lt; HCLK &lt;= 20  |  0 &lt; HCLK &lt;= 8   |
     |-----------------|-------------------|------------------|
     |1WS(2 CPU cycles)|  20 &lt; HCLK &lt;= 40  |  8 &lt; HCLK &lt;= 16  |
     |-----------------|-------------------|------------------|
     |2WS(3 CPU cycles)|  40 &lt; HCLK &lt;= 60  | 16 &lt; HCLK &lt;= 26  |
     |-----------------|-------------------|------------------|
     |3WS(4 CPU cycles)|  60 &lt; HCLK &lt;= 80  | 16 &lt; HCLK &lt;= 26  |
     |-----------------|-------------------|------------------|
     |4WS(5 CPU cycles)|  80 &lt; HCLK &lt;= 100 | 16 &lt; HCLK &lt;= 26  |
     |-----------------|-------------------|------------------|
     |5WS(6 CPU cycles)| 100 &lt; HCLK &lt;= 120 | 16 &lt; HCLK &lt;= 26  |
     +--------------------------------------------------------+

     Table 2. HCLK clock frequency for other STM32L4 devices
     +-------------------------------------------------------+
     | Latency         |    HCLK clock frequency (MHz)       |
     |                 |-------------------------------------|
     |                 | voltage range 1  | voltage range 2  |
     |                 |      1.2 V       |     1.0 V        |
     |-----------------|------------------|------------------|
     |0WS(1 CPU cycles)|  0 &lt; HCLK &lt;= 16  |  0 &lt; HCLK &lt;= 6   |
     |-----------------|------------------|------------------|
     |1WS(2 CPU cycles)| 16 &lt; HCLK &lt;= 32  |  6 &lt; HCLK &lt;= 12  |
     |-----------------|------------------|------------------|
     |2WS(3 CPU cycles)| 32 &lt; HCLK &lt;= 48  | 12 &lt; HCLK &lt;= 18  |
     |-----------------|------------------|------------------|
     |3WS(4 CPU cycles)| 48 &lt; HCLK &lt;= 64  | 18 &lt; HCLK &lt;= 26  |
     |-----------------|------------------|------------------|
     |4WS(5 CPU cycles)| 64 &lt; HCLK &lt;= 80  | 18 &lt; HCLK &lt;= 26  |
     +-------------------------------------------------------+
</pre> <h2 class="groupheader">Function Documentation</h2>
<a id="gad0a4b5c7459219fafc15f3f867563ef3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad0a4b5c7459219fafc15f3f867563ef3">&#9670;&nbsp;</a></span>HAL_RCC_ClockConfig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_RCC_ClockConfig </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stm32l4xx__hal__rcc_8h.html#structRCC__ClkInitTypeDef">RCC_ClkInitTypeDef</a> *&#160;</td>
          <td class="paramname"><em>RCC_ClkInitStruct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>FLatency</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the CPU, AHB and APB busses clocks according to the specified parameters in the RCC_ClkInitStruct. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">RCC_ClkInitStruct</td><td>pointer to an <a class="el" href="stm32l4xx__hal__rcc_8h.html#structRCC__OscInitTypeDef" title="RCC Internal/External Oscillator (HSE, HSI, MSI, LSE and LSI) configuration structure definition.">RCC_OscInitTypeDef</a> structure that contains the configuration information for the RCC peripheral. </td></tr>
    <tr><td class="paramname">FLatency</td><td>FLASH Latency This parameter can be one of the following values: <ul>
<li>FLASH_LATENCY_0 FLASH 0 Latency cycle </li>
<li>FLASH_LATENCY_1 FLASH 1 Latency cycle </li>
<li>FLASH_LATENCY_2 FLASH 2 Latency cycles </li>
<li>FLASH_LATENCY_3 FLASH 3 Latency cycles </li>
<li>FLASH_LATENCY_4 FLASH 4 Latency cycles</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The SystemCoreClock CMSIS variable is used to store System Clock Frequency and updated by <a class="el" href="group__RCC__Exported__Functions__Group2.html#ga38d6c5c7a5d8758849912c9aa0a2156d" title="Return the HCLK frequency.">HAL_RCC_GetHCLKFreq()</a> function called within this function</dd>
<dd>
The MSI is used by default as system clock source after startup from Reset, wake-up from STANDBY mode. After restart from Reset, the MSI frequency is set to its default value 4 MHz.</dd>
<dd>
The HSI can be selected as system clock source after from STOP modes or in case of failure of the HSE used directly or indirectly as system clock (if the Clock Security System CSS is enabled).</dd>
<dd>
A switch from one clock source to another occurs only if the target clock source is ready (clock stable after startup delay or PLL locked). If a clock source which is not yet ready is selected, the switch will occur when the clock source is ready.</dd>
<dd>
You can use <a class="el" href="group__RCC__Exported__Functions__Group2.html#gabc95375dfca279d88b9ded9d063d2323" title="Configure the RCC_ClkInitStruct according to the internal RCC configuration registers.">HAL_RCC_GetClockConfig()</a> function to know which clock is currently used as system clock source.</dd>
<dd>
Depending on the device voltage range, the software has to set correctly HPRE[3:0] bits to ensure that HCLK not exceed the maximum allowed frequency (for more details refer to section above "Initialization/de-initialization functions") </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__rcc_8c_source.html#l01055">1055</a> of file <a class="el" href="stm32l4xx__hal__rcc_8c_source.html">stm32l4xx_hal_rcc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;{</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  uint32_t tickstart;</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;<span class="preprocessor">#if defined(STM32L4R5xx) || defined(STM32L4R7xx) || defined(STM32L4R9xx) || defined(STM32L4S5xx) || defined(STM32L4S7xx) || defined(STM32L4S9xx)</span></div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;  uint32_t hpre = RCC_SYSCLK_DIV1;</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;  HAL_StatusTypeDef status;</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160; </div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;  <span class="comment">/* Check Null pointer */</span></div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;  <span class="keywordflow">if</span>(RCC_ClkInitStruct == NULL)</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;  {</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;  }</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160; </div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_RCC_CLOCKTYPE(RCC_ClkInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a93a53676a1cfc5b55b8b990e7ff4dac5">ClockType</a>));</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_FLASH_LATENCY(FLatency));</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160; </div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  <span class="comment">/* To correctly read data from FLASH memory, the number of wait states (LATENCY)</span></div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;<span class="comment">    must be correctly programmed according to the frequency of the CPU clock</span></div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;<span class="comment">    (HCLK) and the supply voltage of the device. */</span></div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160; </div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  <span class="comment">/* Increasing the number of wait states because of higher CPU frequency */</span></div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;  <span class="keywordflow">if</span>(FLatency &gt; __HAL_FLASH_GET_LATENCY())</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;  {</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <span class="comment">/* Program the new number of wait states to the LATENCY bits in the FLASH_ACR register */</span></div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    __HAL_FLASH_SET_LATENCY(FLatency);</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160; </div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    <span class="comment">/* Check that the new number of wait states is taken into account to access the Flash</span></div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;<span class="comment">    memory by reading the FLASH_ACR register */</span></div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <span class="keywordflow">if</span>(__HAL_FLASH_GET_LATENCY() != FLatency)</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    {</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;      <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    }</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  }</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160; </div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  <span class="comment">/*------------------------- SYSCLK Configuration ---------------------------*/</span></div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;  <span class="keywordflow">if</span>(((RCC_ClkInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a93a53676a1cfc5b55b8b990e7ff4dac5">ClockType</a>) &amp; RCC_CLOCKTYPE_SYSCLK) == RCC_CLOCKTYPE_SYSCLK)</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;  {</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_RCC_SYSCLKSOURCE(RCC_ClkInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a4ceff1fdbf423e347c63052ca2c1d7e1">SYSCLKSource</a>));</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160; </div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <span class="comment">/* PLL is selected as System Clock Source */</span></div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <span class="keywordflow">if</span>(RCC_ClkInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a4ceff1fdbf423e347c63052ca2c1d7e1">SYSCLKSource</a> == RCC_SYSCLKSOURCE_PLLCLK)</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    {</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;      <span class="comment">/* Check the PLL ready flag */</span></div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;      <span class="keywordflow">if</span>(READ_BIT(RCC-&gt;CR, RCC_CR_PLLRDY) == 0U)</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;      {</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;        <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;      }</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;<span class="preprocessor">#if defined(STM32L4R5xx) || defined(STM32L4R7xx) || defined(STM32L4R9xx) || defined(STM32L4S5xx) || defined(STM32L4S7xx) || defined(STM32L4S9xx)</span></div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;      <span class="comment">/* Undershoot management when selection PLL as SYSCLK source and frequency above 80Mhz */</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;      <span class="comment">/* Compute target PLL output frequency */</span></div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="group__RCC__Private__Functions.html#ga755d03504e1a9811cc0936b6f9f67117">RCC_GetSysClockFreqFromPLLSource</a>() &gt; 80000000U)</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;      {</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;        <span class="keywordflow">if</span>(READ_BIT(RCC-&gt;CFGR, RCC_CFGR_HPRE) == RCC_SYSCLK_DIV1)</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;        {</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;          <span class="comment">/* Intermediate step with HCLK prescaler 2 necessary before to go over 80Mhz */</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;          <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#gaf0bea6a9989d50f8ffa9b2afc911fc4b">MODIFY_REG</a>(RCC-&gt;CFGR, RCC_CFGR_HPRE, RCC_SYSCLK_DIV2);</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;          hpre = RCC_SYSCLK_DIV2;</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;        }</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>((((RCC_ClkInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a93a53676a1cfc5b55b8b990e7ff4dac5">ClockType</a>) &amp; RCC_CLOCKTYPE_HCLK) == RCC_CLOCKTYPE_HCLK) &amp;&amp; (RCC_ClkInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#abd9bcaa8dcf4b816462ee2930ab3e993">AHBCLKDivider</a> == RCC_SYSCLK_DIV1))</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;        {</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;          <span class="comment">/* Intermediate step with HCLK prescaler 2 necessary before to go over 80Mhz */</span></div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;          <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#gaf0bea6a9989d50f8ffa9b2afc911fc4b">MODIFY_REG</a>(RCC-&gt;CFGR, RCC_CFGR_HPRE, RCC_SYSCLK_DIV2);</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;          hpre = RCC_SYSCLK_DIV2;</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;        }</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;        {</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;          <span class="comment">/* nothing to do */</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;        }</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;      }</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    }</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    {</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;      <span class="comment">/* HSE is selected as System Clock Source */</span></div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;      <span class="keywordflow">if</span>(RCC_ClkInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a4ceff1fdbf423e347c63052ca2c1d7e1">SYSCLKSource</a> == RCC_SYSCLKSOURCE_HSE)</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;      {</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;        <span class="comment">/* Check the HSE ready flag */</span></div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        <span class="keywordflow">if</span>(READ_BIT(RCC-&gt;CR, RCC_CR_HSERDY) == 0U)</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;        {</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;          <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;        }</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;      }</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;      <span class="comment">/* MSI is selected as System Clock Source */</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(RCC_ClkInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a4ceff1fdbf423e347c63052ca2c1d7e1">SYSCLKSource</a> == RCC_SYSCLKSOURCE_MSI)</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;      {</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;        <span class="comment">/* Check the MSI ready flag */</span></div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;        <span class="keywordflow">if</span>(READ_BIT(RCC-&gt;CR, RCC_CR_MSIRDY) == 0U)</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;        {</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;          <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;        }</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;      }</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;      <span class="comment">/* HSI is selected as System Clock Source */</span></div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;      {</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;        <span class="comment">/* Check the HSI ready flag */</span></div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        <span class="keywordflow">if</span>(READ_BIT(RCC-&gt;CR, RCC_CR_HSIRDY) == 0U)</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;        {</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;          <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;        }</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;      }</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;<span class="preprocessor">#if defined(STM32L4R5xx) || defined(STM32L4R7xx) || defined(STM32L4R9xx) || defined(STM32L4S5xx) || defined(STM32L4S7xx) || defined(STM32L4S9xx)</span></div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;      <span class="comment">/* Overshoot management when going down from PLL as SYSCLK source and frequency above 80Mhz */</span></div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="group__RCC__Exported__Functions__Group2.html#ga887cafe88b21a059061b077a1e3fa7d8">HAL_RCC_GetSysClockFreq</a>() &gt; 80000000U)</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;      {</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;        <span class="comment">/* Intermediate step with HCLK prescaler 2 necessary before to go under 80Mhz */</span></div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;        <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#gaf0bea6a9989d50f8ffa9b2afc911fc4b">MODIFY_REG</a>(RCC-&gt;CFGR, RCC_CFGR_HPRE, RCC_SYSCLK_DIV2);</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;        hpre = RCC_SYSCLK_DIV2;</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;      }</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160; </div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    }</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160; </div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#gaf0bea6a9989d50f8ffa9b2afc911fc4b">MODIFY_REG</a>(RCC-&gt;CFGR, RCC_CFGR_SW, RCC_ClkInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a4ceff1fdbf423e347c63052ca2c1d7e1">SYSCLKSource</a>);</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160; </div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    <span class="comment">/* Get Start Tick*/</span></div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    tickstart = <a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>();</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160; </div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    <span class="keywordflow">while</span>(__HAL_RCC_GET_SYSCLK_SOURCE() != (RCC_ClkInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a4ceff1fdbf423e347c63052ca2c1d7e1">SYSCLKSource</a> &lt;&lt; RCC_CFGR_SWS_Pos))</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    {</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;      <span class="keywordflow">if</span>((<a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>() - tickstart) &gt; CLOCKSWITCH_TIMEOUT_VALUE)</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;      {</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;        <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;      }</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    }</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;  }</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160; </div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;  <span class="comment">/*-------------------------- HCLK Configuration --------------------------*/</span></div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;  <span class="keywordflow">if</span>(((RCC_ClkInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a93a53676a1cfc5b55b8b990e7ff4dac5">ClockType</a>) &amp; RCC_CLOCKTYPE_HCLK) == RCC_CLOCKTYPE_HCLK)</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  {</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_RCC_HCLK(RCC_ClkInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#abd9bcaa8dcf4b816462ee2930ab3e993">AHBCLKDivider</a>));</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#gaf0bea6a9989d50f8ffa9b2afc911fc4b">MODIFY_REG</a>(RCC-&gt;CFGR, RCC_CFGR_HPRE, RCC_ClkInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#abd9bcaa8dcf4b816462ee2930ab3e993">AHBCLKDivider</a>);</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;  }</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;<span class="preprocessor">#if defined(STM32L4R5xx) || defined(STM32L4R7xx) || defined(STM32L4R9xx) || defined(STM32L4S5xx) || defined(STM32L4S7xx) || defined(STM32L4S9xx)</span></div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;  {</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    <span class="comment">/* Is intermediate HCLK prescaler 2 applied internally, complete with HCLK prescaler 1 */</span></div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    <span class="keywordflow">if</span>(hpre == RCC_SYSCLK_DIV2)</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    {</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#gaf0bea6a9989d50f8ffa9b2afc911fc4b">MODIFY_REG</a>(RCC-&gt;CFGR, RCC_CFGR_HPRE, RCC_SYSCLK_DIV1);</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    }</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  }</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160; </div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;  <span class="comment">/* Decreasing the number of wait states because of lower CPU frequency */</span></div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;  <span class="keywordflow">if</span>(FLatency &lt; __HAL_FLASH_GET_LATENCY())</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;  {</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    <span class="comment">/* Program the new number of wait states to the LATENCY bits in the FLASH_ACR register */</span></div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    __HAL_FLASH_SET_LATENCY(FLatency);</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160; </div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <span class="comment">/* Check that the new number of wait states is taken into account to access the Flash</span></div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;<span class="comment">    memory by reading the FLASH_ACR register */</span></div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <span class="keywordflow">if</span>(__HAL_FLASH_GET_LATENCY() != FLatency)</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    {</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;      <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    }</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;  }</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160; </div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;  <span class="comment">/*-------------------------- PCLK1 Configuration ---------------------------*/</span></div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;  <span class="keywordflow">if</span>(((RCC_ClkInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a93a53676a1cfc5b55b8b990e7ff4dac5">ClockType</a>) &amp; RCC_CLOCKTYPE_PCLK1) == RCC_CLOCKTYPE_PCLK1)</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;  {</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_RCC_PCLK(RCC_ClkInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a21ceb024102adc3c4dc7eb270cf02ebd">APB1CLKDivider</a>));</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#gaf0bea6a9989d50f8ffa9b2afc911fc4b">MODIFY_REG</a>(RCC-&gt;CFGR, RCC_CFGR_PPRE1, RCC_ClkInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a21ceb024102adc3c4dc7eb270cf02ebd">APB1CLKDivider</a>);</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;  }</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160; </div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;  <span class="comment">/*-------------------------- PCLK2 Configuration ---------------------------*/</span></div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;  <span class="keywordflow">if</span>(((RCC_ClkInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a93a53676a1cfc5b55b8b990e7ff4dac5">ClockType</a>) &amp; RCC_CLOCKTYPE_PCLK2) == RCC_CLOCKTYPE_PCLK2)</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;  {</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_RCC_PCLK(RCC_ClkInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#aa75c110cd93855d49249f38da8cf94f7">APB2CLKDivider</a>));</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#gaf0bea6a9989d50f8ffa9b2afc911fc4b">MODIFY_REG</a>(RCC-&gt;CFGR, RCC_CFGR_PPRE2, ((RCC_ClkInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#aa75c110cd93855d49249f38da8cf94f7">APB2CLKDivider</a>) &lt;&lt; 3U));</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;  }</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160; </div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;  <span class="comment">/* Update the SystemCoreClock global variable */</span></div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;  SystemCoreClock = <a class="code" href="group__RCC__Exported__Functions__Group2.html#ga887cafe88b21a059061b077a1e3fa7d8">HAL_RCC_GetSysClockFreq</a>() &gt;&gt; (AHBPrescTable[READ_BIT(RCC-&gt;CFGR, RCC_CFGR_HPRE) &gt;&gt; RCC_CFGR_HPRE_Pos] &amp; 0x1FU);</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160; </div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;  <span class="comment">/* Configure the source of time base considering new system clocks settings*/</span></div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;  status = <a class="code" href="group__HAL__Exported__Functions__Group1.html#ga44d1542f9985b2243b14a41070cc41cc">HAL_InitTick</a>(<a class="code" href="group__HAL__Exported__Variables.html#ga3000c5e83924ed2debb1849c738d4be2">uwTickPrio</a>);</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160; </div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  <span class="keywordflow">return</span> status;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga064f7d9878ecdc1d4852cba2b9e6a52e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga064f7d9878ecdc1d4852cba2b9e6a52e">&#9670;&nbsp;</a></span>HAL_RCC_DeInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_RCC_DeInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset the RCC clock configuration to the default reset state. </p>
<dl class="section note"><dt>Note</dt><dd>The default reset state of the clock configuration is given below:<ul>
<li>MSI ON and used as system clock source</li>
<li>HSE, HSI, PLL, PLLSAI1 and PLLSAI2 OFF</li>
<li>AHB, APB1 and APB2 prescalers set to 1.</li>
<li>CSS, MCO1 OFF</li>
<li>All interrupts disabled</li>
<li>All interrupt and reset flags cleared </li>
</ul>
</dd>
<dd>
This function does not modify the configuration of the<ul>
<li>Peripheral clock sources</li>
<li>LSI, LSE and RTC clocks (Backup domain) </li>
</ul>
</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__rcc_8c_source.html#l00264">264</a> of file <a class="el" href="stm32l4xx__hal__rcc_8c_source.html">stm32l4xx_hal_rcc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;{</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  uint32_t tickstart;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="comment">/* Reset to default System clock */</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="comment">/* Set MSION bit */</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  SET_BIT(RCC-&gt;CR, RCC_CR_MSION);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="comment">/* Insure MSIRDY bit is set before writing default MSIRANGE value */</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <span class="comment">/* Get start tick */</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  tickstart = <a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>();</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <span class="comment">/* Wait till MSI is ready */</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="keywordflow">while</span>(READ_BIT(RCC-&gt;CR, RCC_CR_MSIRDY) == 0U)</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  {</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordflow">if</span>((<a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>() - tickstart) &gt; MSI_TIMEOUT_VALUE)</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    }</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  }</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="comment">/* Set MSIRANGE default value */</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#gaf0bea6a9989d50f8ffa9b2afc911fc4b">MODIFY_REG</a>(RCC-&gt;CR, RCC_CR_MSIRANGE, RCC_MSIRANGE_6);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="comment">/* Reset CFGR register (MSI is selected as system clock source) */</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  CLEAR_REG(RCC-&gt;CFGR);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160; </div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="comment">/* Update the SystemCoreClock global variable for MSI as system clock source */</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  SystemCoreClock = MSI_VALUE;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="comment">/* Configure the source of time base considering new system clock settings  */</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="group__HAL__Exported__Functions__Group1.html#ga44d1542f9985b2243b14a41070cc41cc">HAL_InitTick</a>(<a class="code" href="group__HAL__Exported__Variables.html#ga3000c5e83924ed2debb1849c738d4be2">uwTickPrio</a>) != <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  }</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <span class="comment">/* Insure MSI selected as system clock source */</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="comment">/* Get start tick */</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  tickstart = <a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>();</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <span class="comment">/* Wait till system clock source is ready */</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <span class="keywordflow">while</span>(READ_BIT(RCC-&gt;CFGR, RCC_CFGR_SWS) != RCC_CFGR_SWS_MSI)</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  {</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keywordflow">if</span>((<a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>() - tickstart) &gt; CLOCKSWITCH_TIMEOUT_VALUE)</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    {</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    }</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  }</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160; </div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <span class="comment">/* Reset HSION, HSIKERON, HSIASFS, HSEON, HSECSSON, PLLON, PLLSAIxON bits */</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="preprocessor">#if defined(RCC_PLLSAI2_SUPPORT)</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(RCC-&gt;CR, RCC_CR_HSEON | RCC_CR_HSION | RCC_CR_HSIKERON| RCC_CR_HSIASFS | RCC_CR_PLLON | RCC_CR_PLLSAI1ON | RCC_CR_PLLSAI2ON);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160; </div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="preprocessor">#elif defined(RCC_PLLSAI1_SUPPORT)</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160; </div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(RCC-&gt;CR, RCC_CR_HSEON | RCC_CR_HSION | RCC_CR_HSIKERON| RCC_CR_HSIASFS | RCC_CR_PLLON | RCC_CR_PLLSAI1ON);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160; </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160; </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(RCC-&gt;CR, RCC_CR_HSEON | RCC_CR_HSION | RCC_CR_HSIKERON| RCC_CR_HSIASFS | RCC_CR_PLLON);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160; </div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* RCC_PLLSAI2_SUPPORT */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160; </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <span class="comment">/* Insure PLLRDY, PLLSAI1RDY and PLLSAI2RDY (if present) are reset */</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <span class="comment">/* Get start tick */</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  tickstart = <a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>();</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="preprocessor">#if defined(RCC_PLLSAI2_SUPPORT)</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160; </div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <span class="keywordflow">while</span>(READ_BIT(RCC-&gt;CR, RCC_CR_PLLRDY | RCC_CR_PLLSAI1RDY | RCC_CR_PLLSAI2RDY) != 0U)</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160; </div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="preprocessor">#elif defined(RCC_PLLSAI1_SUPPORT)</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160; </div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <span class="keywordflow">while</span>(READ_BIT(RCC-&gt;CR, RCC_CR_PLLRDY | RCC_CR_PLLSAI1RDY) != 0U)</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160; </div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <span class="keywordflow">while</span>(READ_BIT(RCC-&gt;CR, RCC_CR_PLLRDY) != 0U)</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160; </div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  {</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordflow">if</span>((<a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>() - tickstart) &gt; PLL_TIMEOUT_VALUE)</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    {</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    }</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  }</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160; </div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <span class="comment">/* Reset PLLCFGR register */</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  CLEAR_REG(RCC-&gt;PLLCFGR);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  SET_BIT(RCC-&gt;PLLCFGR, RCC_PLLCFGR_PLLN_4 );</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; </div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="preprocessor">#if defined(RCC_PLLSAI1_SUPPORT)</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160; </div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <span class="comment">/* Reset PLLSAI1CFGR register */</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  CLEAR_REG(RCC-&gt;PLLSAI1CFGR);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  SET_BIT(RCC-&gt;PLLSAI1CFGR,  RCC_PLLSAI1CFGR_PLLSAI1N_4 );</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* RCC_PLLSAI1_SUPPORT */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160; </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="preprocessor">#if defined(RCC_PLLSAI2_SUPPORT)</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160; </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <span class="comment">/* Reset PLLSAI2CFGR register */</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  CLEAR_REG(RCC-&gt;PLLSAI2CFGR);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  SET_BIT(RCC-&gt;PLLSAI2CFGR,  RCC_PLLSAI2CFGR_PLLSAI2N_4 );</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160; </div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* RCC_PLLSAI2_SUPPORT */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160; </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <span class="comment">/* Reset HSEBYP bit */</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(RCC-&gt;CR, RCC_CR_HSEBYP);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160; </div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <span class="comment">/* Disable all interrupts */</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  CLEAR_REG(RCC-&gt;CIER);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160; </div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="comment">/* Clear all interrupt flags */</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  WRITE_REG(RCC-&gt;CICR, 0xFFFFFFFFU);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160; </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="comment">/* Clear all reset flags */</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  SET_BIT(RCC-&gt;CSR, RCC_CSR_RMVF);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160; </div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga9c504088722e03830df6caad932ad06b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9c504088722e03830df6caad932ad06b">&#9670;&nbsp;</a></span>HAL_RCC_OscConfig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_RCC_OscConfig </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stm32l4xx__hal__rcc_8h.html#structRCC__OscInitTypeDef">RCC_OscInitTypeDef</a> *&#160;</td>
          <td class="paramname"><em>RCC_OscInitStruct</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the RCC Oscillators according to the specified parameters in the <a class="el" href="stm32l4xx__hal__rcc_8h.html#structRCC__OscInitTypeDef" title="RCC Internal/External Oscillator (HSE, HSI, MSI, LSE and LSI) configuration structure definition.">RCC_OscInitTypeDef</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">RCC_OscInitStruct</td><td>pointer to an <a class="el" href="stm32l4xx__hal__rcc_8h.html#structRCC__OscInitTypeDef" title="RCC Internal/External Oscillator (HSE, HSI, MSI, LSE and LSI) configuration structure definition.">RCC_OscInitTypeDef</a> structure that contains the configuration information for the RCC Oscillators. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The PLL is not disabled when used as system clock. </dd>
<dd>
Transitions LSE Bypass to LSE On and LSE On to LSE Bypass are not supported by this macro. User should request a transition to LSE Off first and then LSE On or LSE Bypass. </dd>
<dd>
Transition HSE Bypass to HSE On and HSE On to HSE Bypass are not supported by this macro. User should request a transition to HSE Off first and then HSE On or HSE Bypass. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__rcc_8c_source.html#l00401">401</a> of file <a class="el" href="stm32l4xx__hal__rcc_8c_source.html">stm32l4xx_hal_rcc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;{</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  uint32_t tickstart;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  HAL_StatusTypeDef status;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  uint32_t sysclk_source, pll_config;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160; </div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <span class="comment">/* Check Null pointer */</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <span class="keywordflow">if</span>(RCC_OscInitStruct == NULL)</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  {</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  }</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160; </div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_RCC_OSCILLATORTYPE(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#af9e7bc89cab81c1705d94c74c7a81088">OscillatorType</a>));</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160; </div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  sysclk_source = __HAL_RCC_GET_SYSCLK_SOURCE();</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  pll_config = __HAL_RCC_GET_PLL_OSCSOURCE();</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160; </div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <span class="comment">/*----------------------------- MSI Configuration --------------------------*/</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="keywordflow">if</span>(((RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#af9e7bc89cab81c1705d94c74c7a81088">OscillatorType</a>) &amp; RCC_OSCILLATORTYPE_MSI) == RCC_OSCILLATORTYPE_MSI)</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  {</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_RCC_MSI(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#ae195d3c855a814b931f7cf57e4fc3fe6">MSIState</a>));</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_RCC_MSICALIBRATION_VALUE(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a62152a6e80ade492afa6753ea2acc673">MSICalibrationValue</a>));</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_RCC_MSI_CLOCK_RANGE(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#adaab402d37223348fcc96aeaf7643045">MSIClockRange</a>));</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160; </div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="comment">/* Check if MSI is used as system clock or as PLL source when PLL is selected as system clock */</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordflow">if</span>((sysclk_source == RCC_CFGR_SWS_MSI) ||</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;       ((sysclk_source == RCC_CFGR_SWS_PLL) &amp;&amp; (pll_config == RCC_PLLSOURCE_MSI)))</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    {</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      <span class="keywordflow">if</span>((READ_BIT(RCC-&gt;CR, RCC_CR_MSIRDY) != 0U) &amp;&amp; (RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#ae195d3c855a814b931f7cf57e4fc3fe6">MSIState</a> == RCC_MSI_OFF))</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      {</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      }</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160; </div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;       <span class="comment">/* Otherwise, just the calibration and MSI range change are allowed */</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;      {</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        <span class="comment">/* To correctly read data from FLASH memory, the number of wait states (LATENCY)</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment">           must be correctly programmed according to the frequency of the CPU clock</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment">           (HCLK) and the supply voltage of the device. */</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <span class="keywordflow">if</span>(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#adaab402d37223348fcc96aeaf7643045">MSIClockRange</a> &gt; __HAL_RCC_GET_MSI_RANGE())</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        {</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;          <span class="comment">/* First increase number of wait states update if necessary */</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;          <span class="keywordflow">if</span>(<a class="code" href="group__RCC__Private__Functions.html#ga679aa994397abfe61358ec8974a0b6ed">RCC_SetFlashLatencyFromMSIRange</a>(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#adaab402d37223348fcc96aeaf7643045">MSIClockRange</a>) != <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;          {</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;          }</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160; </div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;          <span class="comment">/* Selects the Multiple Speed oscillator (MSI) clock range .*/</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;          __HAL_RCC_MSI_RANGE_CONFIG(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#adaab402d37223348fcc96aeaf7643045">MSIClockRange</a>);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;          <span class="comment">/* Adjusts the Multiple Speed oscillator (MSI) calibration value.*/</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;          __HAL_RCC_MSI_CALIBRATIONVALUE_ADJUST(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a62152a6e80ade492afa6753ea2acc673">MSICalibrationValue</a>);</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        }</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;          <span class="comment">/* Else, keep current flash latency while decreasing applies */</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;          <span class="comment">/* Selects the Multiple Speed oscillator (MSI) clock range .*/</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;          __HAL_RCC_MSI_RANGE_CONFIG(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#adaab402d37223348fcc96aeaf7643045">MSIClockRange</a>);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;          <span class="comment">/* Adjusts the Multiple Speed oscillator (MSI) calibration value.*/</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;          __HAL_RCC_MSI_CALIBRATIONVALUE_ADJUST(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a62152a6e80ade492afa6753ea2acc673">MSICalibrationValue</a>);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160; </div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;          <span class="comment">/* Decrease number of wait states update if necessary */</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;          <span class="keywordflow">if</span>(<a class="code" href="group__RCC__Private__Functions.html#ga679aa994397abfe61358ec8974a0b6ed">RCC_SetFlashLatencyFromMSIRange</a>(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#adaab402d37223348fcc96aeaf7643045">MSIClockRange</a>) != <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;          {</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;            <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;          }</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        }</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160; </div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        <span class="comment">/* Update the SystemCoreClock global variable */</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        SystemCoreClock = <a class="code" href="group__RCC__Exported__Functions__Group2.html#ga887cafe88b21a059061b077a1e3fa7d8">HAL_RCC_GetSysClockFreq</a>() &gt;&gt; (AHBPrescTable[READ_BIT(RCC-&gt;CFGR, RCC_CFGR_HPRE) &gt;&gt; RCC_CFGR_HPRE_Pos] &amp; 0x1FU);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160; </div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <span class="comment">/* Configure the source of time base considering new system clocks settings*/</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        status = <a class="code" href="group__HAL__Exported__Functions__Group1.html#ga44d1542f9985b2243b14a41070cc41cc">HAL_InitTick</a>(<a class="code" href="group__HAL__Exported__Variables.html#ga3000c5e83924ed2debb1849c738d4be2">uwTickPrio</a>);</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <span class="keywordflow">if</span>(status != <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        {</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;          <span class="keywordflow">return</span> status;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        }</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      }</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    }</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    {</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      <span class="comment">/* Check the MSI State */</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      <span class="keywordflow">if</span>(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#ae195d3c855a814b931f7cf57e4fc3fe6">MSIState</a> != RCC_MSI_OFF)</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      {</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        <span class="comment">/* Enable the Internal High Speed oscillator (MSI). */</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        __HAL_RCC_MSI_ENABLE();</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160; </div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        <span class="comment">/* Get timeout */</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        tickstart = <a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>();</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160; </div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        <span class="comment">/* Wait till MSI is ready */</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        <span class="keywordflow">while</span>(READ_BIT(RCC-&gt;CR, RCC_CR_MSIRDY) == 0U)</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        {</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;          <span class="keywordflow">if</span>((<a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>() - tickstart) &gt; MSI_TIMEOUT_VALUE)</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;          {</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;            <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;          }</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        }</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;         <span class="comment">/* Selects the Multiple Speed oscillator (MSI) clock range .*/</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        __HAL_RCC_MSI_RANGE_CONFIG(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#adaab402d37223348fcc96aeaf7643045">MSIClockRange</a>);</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;         <span class="comment">/* Adjusts the Multiple Speed oscillator (MSI) calibration value.*/</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        __HAL_RCC_MSI_CALIBRATIONVALUE_ADJUST(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a62152a6e80ade492afa6753ea2acc673">MSICalibrationValue</a>);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160; </div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;      }</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      {</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        <span class="comment">/* Disable the Internal High Speed oscillator (MSI). */</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        __HAL_RCC_MSI_DISABLE();</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160; </div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="comment">/* Get timeout */</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        tickstart = <a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>();</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160; </div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <span class="comment">/* Wait till MSI is ready */</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        <span class="keywordflow">while</span>(READ_BIT(RCC-&gt;CR, RCC_CR_MSIRDY) != 0U)</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        {</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;          <span class="keywordflow">if</span>((<a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>() - tickstart) &gt; MSI_TIMEOUT_VALUE)</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;          {</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;            <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;          }</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        }</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      }</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    }</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  }</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <span class="comment">/*------------------------------- HSE Configuration ------------------------*/</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  <span class="keywordflow">if</span>(((RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#af9e7bc89cab81c1705d94c74c7a81088">OscillatorType</a>) &amp; RCC_OSCILLATORTYPE_HSE) == RCC_OSCILLATORTYPE_HSE)</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  {</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_RCC_HSE(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a7e05d6eec98ed8cdaba00ca3d167ff72">HSEState</a>));</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160; </div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="comment">/* When the HSE is used as system clock or clock source for PLL in these cases it is not allowed to be disabled */</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="keywordflow">if</span>((sysclk_source == RCC_CFGR_SWS_HSE) ||</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;       ((sysclk_source == RCC_CFGR_SWS_PLL) &amp;&amp; (pll_config == RCC_PLLSOURCE_HSE)))</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    {</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;      <span class="keywordflow">if</span>((READ_BIT(RCC-&gt;CR, RCC_CR_HSERDY) != 0U) &amp;&amp; (RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a7e05d6eec98ed8cdaba00ca3d167ff72">HSEState</a> == RCC_HSE_OFF))</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;      {</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      }</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    }</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    {</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;      <span class="comment">/* Set the new HSE configuration ---------------------------------------*/</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;      __HAL_RCC_HSE_CONFIG(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a7e05d6eec98ed8cdaba00ca3d167ff72">HSEState</a>);</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160; </div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;      <span class="comment">/* Check the HSE State */</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;      <span class="keywordflow">if</span>(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a7e05d6eec98ed8cdaba00ca3d167ff72">HSEState</a> != RCC_HSE_OFF)</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;      {</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        <span class="comment">/* Get Start Tick*/</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        tickstart = <a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>();</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160; </div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        <span class="comment">/* Wait till HSE is ready */</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <span class="keywordflow">while</span>(READ_BIT(RCC-&gt;CR, RCC_CR_HSERDY) == 0U)</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        {</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;          <span class="keywordflow">if</span>((<a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>() - tickstart) &gt; HSE_TIMEOUT_VALUE)</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;          {</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;          }</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        }</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      }</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;      {</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <span class="comment">/* Get Start Tick*/</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        tickstart = <a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>();</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160; </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <span class="comment">/* Wait till HSE is disabled */</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        <span class="keywordflow">while</span>(READ_BIT(RCC-&gt;CR, RCC_CR_HSERDY) != 0U)</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        {</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;          <span class="keywordflow">if</span>((<a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>() - tickstart) &gt; HSE_TIMEOUT_VALUE)</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;          {</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;          }</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        }</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      }</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    }</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  }</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <span class="comment">/*----------------------------- HSI Configuration --------------------------*/</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <span class="keywordflow">if</span>(((RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#af9e7bc89cab81c1705d94c74c7a81088">OscillatorType</a>) &amp; RCC_OSCILLATORTYPE_HSI) == RCC_OSCILLATORTYPE_HSI)</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  {</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_RCC_HSI(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a39b62cae65fe7a251000354e5bba8cb6">HSIState</a>));</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_RCC_HSI_CALIBRATION_VALUE(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a9b2e48e452d0c334f2b9473216064560">HSICalibrationValue</a>));</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160; </div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <span class="comment">/* Check if HSI is used as system clock or as PLL source when PLL is selected as system clock */</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="keywordflow">if</span>((sysclk_source == RCC_CFGR_SWS_HSI) ||</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;       ((sysclk_source == RCC_CFGR_SWS_PLL) &amp;&amp; (pll_config == RCC_PLLSOURCE_HSI)))</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    {</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;      <span class="comment">/* When HSI is used as system clock it will not be disabled */</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;      <span class="keywordflow">if</span>((READ_BIT(RCC-&gt;CR, RCC_CR_HSIRDY) != 0U) &amp;&amp; (RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a39b62cae65fe7a251000354e5bba8cb6">HSIState</a> == RCC_HSI_OFF))</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;      {</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;      }</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;      <span class="comment">/* Otherwise, just the calibration is allowed */</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      {</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        <span class="comment">/* Adjusts the Internal High Speed oscillator (HSI) calibration value.*/</span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        __HAL_RCC_HSI_CALIBRATIONVALUE_ADJUST(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a9b2e48e452d0c334f2b9473216064560">HSICalibrationValue</a>);</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      }</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    }</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    {</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      <span class="comment">/* Check the HSI State */</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;      <span class="keywordflow">if</span>(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a39b62cae65fe7a251000354e5bba8cb6">HSIState</a> != RCC_HSI_OFF)</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      {</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <span class="comment">/* Enable the Internal High Speed oscillator (HSI). */</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        __HAL_RCC_HSI_ENABLE();</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160; </div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        <span class="comment">/* Get Start Tick*/</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        tickstart = <a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>();</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160; </div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        <span class="comment">/* Wait till HSI is ready */</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        <span class="keywordflow">while</span>(READ_BIT(RCC-&gt;CR, RCC_CR_HSIRDY) == 0U)</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        {</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;          <span class="keywordflow">if</span>((<a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>() - tickstart) &gt; HSI_TIMEOUT_VALUE)</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;          {</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;            <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;          }</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        }</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160; </div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        <span class="comment">/* Adjusts the Internal High Speed oscillator (HSI) calibration value.*/</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        __HAL_RCC_HSI_CALIBRATIONVALUE_ADJUST(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a9b2e48e452d0c334f2b9473216064560">HSICalibrationValue</a>);</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;      }</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;      {</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        <span class="comment">/* Disable the Internal High Speed oscillator (HSI). */</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        __HAL_RCC_HSI_DISABLE();</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160; </div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        <span class="comment">/* Get Start Tick*/</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        tickstart = <a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>();</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160; </div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        <span class="comment">/* Wait till HSI is disabled */</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        <span class="keywordflow">while</span>(READ_BIT(RCC-&gt;CR, RCC_CR_HSIRDY) != 0U)</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        {</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;          <span class="keywordflow">if</span>((<a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>() - tickstart) &gt; HSI_TIMEOUT_VALUE)</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;          {</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;            <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;          }</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        }</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;      }</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    }</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  }</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <span class="comment">/*------------------------------ LSI Configuration -------------------------*/</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  <span class="keywordflow">if</span>(((RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#af9e7bc89cab81c1705d94c74c7a81088">OscillatorType</a>) &amp; RCC_OSCILLATORTYPE_LSI) == RCC_OSCILLATORTYPE_LSI)</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  {</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_RCC_LSI(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a955de90db8882fde02c4fb59c7c000f0">LSIState</a>));</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160; </div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="comment">/* Check the LSI State */</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="keywordflow">if</span>(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a955de90db8882fde02c4fb59c7c000f0">LSIState</a> != RCC_LSI_OFF)</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    {</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;<span class="preprocessor">#if defined(RCC_CSR_LSIPREDIV)</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      uint32_t csr_temp = RCC-&gt;CSR;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160; </div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      <span class="comment">/* Check LSI division factor */</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_RCC_LSIDIV(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a78101ed8114d9c8e6e5e68965549328e">LSIDiv</a>));</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160; </div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;      <span class="keywordflow">if</span> (RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a78101ed8114d9c8e6e5e68965549328e">LSIDiv</a> != (csr_temp &amp; RCC_CSR_LSIPREDIV))</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;      {</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        <span class="keywordflow">if</span> (((csr_temp &amp; RCC_CSR_LSIRDY) == RCC_CSR_LSIRDY) &amp;&amp; \</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;            ((csr_temp &amp; RCC_CSR_LSION) != RCC_CSR_LSION))</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        {</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;           <span class="comment">/* If LSIRDY is set while LSION is not enabled,</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="comment">              LSIPREDIV can&#39;t be updated  */</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;          <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        }</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160; </div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        <span class="comment">/* Turn off LSI before changing RCC_CSR_LSIPREDIV */</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        <span class="keywordflow">if</span> ((csr_temp &amp; RCC_CSR_LSION) == RCC_CSR_LSION)</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        {</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;          __HAL_RCC_LSI_DISABLE();</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160; </div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;          <span class="comment">/* Get Start Tick*/</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;          tickstart = <a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>();</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160; </div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;          <span class="comment">/* Wait till LSI is disabled */</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;          <span class="keywordflow">while</span>(READ_BIT(RCC-&gt;CSR, RCC_CSR_LSIRDY) != 0U)</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;          {</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;            <span class="keywordflow">if</span>((<a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>() - tickstart) &gt; LSI_TIMEOUT_VALUE)</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;            {</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;              <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            }</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;          }</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        }</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160; </div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        <span class="comment">/* Set LSI division factor */</span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#gaf0bea6a9989d50f8ffa9b2afc911fc4b">MODIFY_REG</a>(RCC-&gt;CSR, RCC_CSR_LSIPREDIV, RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a78101ed8114d9c8e6e5e68965549328e">LSIDiv</a>);</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;      }</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* RCC_CSR_LSIPREDIV */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160; </div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      <span class="comment">/* Enable the Internal Low Speed oscillator (LSI). */</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;      __HAL_RCC_LSI_ENABLE();</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160; </div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;      <span class="comment">/* Get Start Tick*/</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;      tickstart = <a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>();</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160; </div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;      <span class="comment">/* Wait till LSI is ready */</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;      <span class="keywordflow">while</span>(READ_BIT(RCC-&gt;CSR, RCC_CSR_LSIRDY) == 0U)</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;      {</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        <span class="keywordflow">if</span>((<a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>() - tickstart) &gt; LSI_TIMEOUT_VALUE)</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        {</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;          <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        }</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;      }</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    }</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    {</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;      <span class="comment">/* Disable the Internal Low Speed oscillator (LSI). */</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;      __HAL_RCC_LSI_DISABLE();</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160; </div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;      <span class="comment">/* Get Start Tick*/</span></div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;      tickstart = <a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>();</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160; </div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;      <span class="comment">/* Wait till LSI is disabled */</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;      <span class="keywordflow">while</span>(READ_BIT(RCC-&gt;CSR, RCC_CSR_LSIRDY) != 0U)</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;      {</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        <span class="keywordflow">if</span>((<a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>() - tickstart) &gt; LSI_TIMEOUT_VALUE)</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        {</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;          <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        }</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      }</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    }</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  }</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  <span class="comment">/*------------------------------ LSE Configuration -------------------------*/</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <span class="keywordflow">if</span>(((RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#af9e7bc89cab81c1705d94c74c7a81088">OscillatorType</a>) &amp; RCC_OSCILLATORTYPE_LSE) == RCC_OSCILLATORTYPE_LSE)</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  {</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    FlagStatus       pwrclkchanged = RESET;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160; </div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_RCC_LSE(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a7c1294e9407e69e80fe034caf35fe7ea">LSEState</a>));</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160; </div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <span class="comment">/* Update LSE configuration in Backup Domain control register    */</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="comment">/* Requires to enable write access to Backup Domain of necessary */</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="keywordflow">if</span>(HAL_IS_BIT_CLR(RCC-&gt;APB1ENR1, RCC_APB1ENR1_PWREN))</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    {</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      __HAL_RCC_PWR_CLK_ENABLE();</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      pwrclkchanged = SET;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    }</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160; </div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="keywordflow">if</span>(HAL_IS_BIT_CLR(PWR-&gt;CR1, PWR_CR1_DBP))</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    {</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;      <span class="comment">/* Enable write access to Backup domain */</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      SET_BIT(PWR-&gt;CR1, PWR_CR1_DBP);</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160; </div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      <span class="comment">/* Wait for Backup domain Write protection disable */</span></div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;      tickstart = <a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>();</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160; </div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;      <span class="keywordflow">while</span>(HAL_IS_BIT_CLR(PWR-&gt;CR1, PWR_CR1_DBP))</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;      {</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;        <span class="keywordflow">if</span>((<a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>() - tickstart) &gt; RCC_DBP_TIMEOUT_VALUE)</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        {</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;          <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        }</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      }</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    }</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160; </div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="comment">/* Set the new LSE configuration -----------------------------------------*/</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="preprocessor">#if defined(RCC_BDCR_LSESYSDIS)</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="keywordflow">if</span>((RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a7c1294e9407e69e80fe034caf35fe7ea">LSEState</a> &amp; RCC_BDCR_LSEON) != 0U)</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    {</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;      <span class="comment">/* Set LSESYSDIS bit according to LSE propagation option (enabled or disabled) */</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#gaf0bea6a9989d50f8ffa9b2afc911fc4b">MODIFY_REG</a>(RCC-&gt;BDCR, RCC_BDCR_LSESYSDIS, (RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a7c1294e9407e69e80fe034caf35fe7ea">LSEState</a> &amp; RCC_BDCR_LSESYSDIS));</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160; </div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      <span class="keywordflow">if</span>((RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a7c1294e9407e69e80fe034caf35fe7ea">LSEState</a> &amp; RCC_BDCR_LSEBYP) != 0U)</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;      {</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        <span class="comment">/* LSE oscillator bypass enable */</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        SET_BIT(RCC-&gt;BDCR, RCC_BDCR_LSEBYP);</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        SET_BIT(RCC-&gt;BDCR, RCC_BDCR_LSEON);</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;      }</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;      {</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        <span class="comment">/* LSE oscillator enable */</span></div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        SET_BIT(RCC-&gt;BDCR, RCC_BDCR_LSEON);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;      }</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    }</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    {</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(RCC-&gt;BDCR, RCC_BDCR_LSEON);</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(RCC-&gt;BDCR, RCC_BDCR_LSEBYP);</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    }</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    __HAL_RCC_LSE_CONFIG(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a7c1294e9407e69e80fe034caf35fe7ea">LSEState</a>);</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* RCC_BDCR_LSESYSDIS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160; </div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="comment">/* Check the LSE State */</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <span class="keywordflow">if</span>(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a7c1294e9407e69e80fe034caf35fe7ea">LSEState</a> != RCC_LSE_OFF)</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    {</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;      <span class="comment">/* Get Start Tick*/</span></div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;      tickstart = <a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>();</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160; </div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;      <span class="comment">/* Wait till LSE is ready */</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;      <span class="keywordflow">while</span>(READ_BIT(RCC-&gt;BDCR, RCC_BDCR_LSERDY) == 0U)</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      {</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;        <span class="keywordflow">if</span>((<a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>() - tickstart) &gt; RCC_LSE_TIMEOUT_VALUE)</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        {</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;          <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        }</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;      }</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    }</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    {</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;      <span class="comment">/* Get Start Tick*/</span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;      tickstart = <a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>();</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160; </div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;      <span class="comment">/* Wait till LSE is disabled */</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;      <span class="keywordflow">while</span>(READ_BIT(RCC-&gt;BDCR, RCC_BDCR_LSERDY) != 0U)</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;      {</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;        <span class="keywordflow">if</span>((<a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>() - tickstart) &gt; RCC_LSE_TIMEOUT_VALUE)</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;        {</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;          <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;        }</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;      }</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160; </div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;<span class="preprocessor">#if defined(RCC_BDCR_LSESYSDIS)</span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;      <span class="comment">/* By default, stop disabling LSE propagation */</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(RCC-&gt;BDCR, RCC_BDCR_LSESYSDIS);</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* RCC_BDCR_LSESYSDIS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    }</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160; </div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <span class="comment">/* Restore clock configuration if changed */</span></div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <span class="keywordflow">if</span>(pwrclkchanged == SET)</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    {</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;      __HAL_RCC_PWR_CLK_DISABLE();</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    }</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  }</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="preprocessor">#if defined(RCC_HSI48_SUPPORT)</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  <span class="comment">/*------------------------------ HSI48 Configuration -----------------------*/</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  <span class="keywordflow">if</span>(((RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#af9e7bc89cab81c1705d94c74c7a81088">OscillatorType</a>) &amp; RCC_OSCILLATORTYPE_HSI48) == RCC_OSCILLATORTYPE_HSI48)</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;  {</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_RCC_HSI48(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a8055a66f494074422f14b2b7def4cd2f">HSI48State</a>));</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160; </div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    <span class="comment">/* Check the LSI State */</span></div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="keywordflow">if</span>(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#a8055a66f494074422f14b2b7def4cd2f">HSI48State</a> != RCC_HSI48_OFF)</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    {</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;      <span class="comment">/* Enable the Internal Low Speed oscillator (HSI48). */</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;      __HAL_RCC_HSI48_ENABLE();</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160; </div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;      <span class="comment">/* Get Start Tick*/</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;      tickstart = <a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>();</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160; </div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;      <span class="comment">/* Wait till HSI48 is ready */</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;      <span class="keywordflow">while</span>(READ_BIT(RCC-&gt;CRRCR, RCC_CRRCR_HSI48RDY) == 0U)</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;      {</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        <span class="keywordflow">if</span>((<a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>() - tickstart) &gt; HSI48_TIMEOUT_VALUE)</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        {</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;          <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        }</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;      }</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    }</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    {</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;      <span class="comment">/* Disable the Internal Low Speed oscillator (HSI48). */</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;      __HAL_RCC_HSI48_DISABLE();</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160; </div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;      <span class="comment">/* Get Start Tick*/</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;      tickstart = <a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>();</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160; </div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;      <span class="comment">/* Wait till HSI48 is disabled */</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;      <span class="keywordflow">while</span>(READ_BIT(RCC-&gt;CRRCR, RCC_CRRCR_HSI48RDY) != 0U)</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;      {</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        <span class="keywordflow">if</span>((<a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>() - tickstart) &gt; HSI48_TIMEOUT_VALUE)</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        {</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;          <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        }</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;      }</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    }</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  }</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* RCC_HSI48_SUPPORT */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  <span class="comment">/*-------------------------------- PLL Configuration -----------------------*/</span></div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_RCC_PLL(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#af76de5ee86798f0c3a4c83c84dfa58be">PLL</a>.PLLState));</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160; </div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  <span class="keywordflow">if</span>(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#af76de5ee86798f0c3a4c83c84dfa58be">PLL</a>.PLLState != RCC_PLL_NONE)</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;  {</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <span class="comment">/* Check if the PLL is used as system clock or not */</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    <span class="keywordflow">if</span>(sysclk_source != RCC_CFGR_SWS_PLL)</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    {</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      <span class="keywordflow">if</span>(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#af76de5ee86798f0c3a4c83c84dfa58be">PLL</a>.PLLState == RCC_PLL_ON)</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;      {</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;        <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_RCC_PLLSOURCE(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#af76de5ee86798f0c3a4c83c84dfa58be">PLL</a>.PLLSource));</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;        <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_RCC_PLLM_VALUE(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#af76de5ee86798f0c3a4c83c84dfa58be">PLL</a>.PLLM));</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;        <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_RCC_PLLN_VALUE(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#af76de5ee86798f0c3a4c83c84dfa58be">PLL</a>.PLLN));</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;<span class="preprocessor">#if defined(RCC_PLLP_SUPPORT)</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;        <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_RCC_PLLP_VALUE(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#af76de5ee86798f0c3a4c83c84dfa58be">PLL</a>.PLLP));</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* RCC_PLLP_SUPPORT */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;        <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_RCC_PLLQ_VALUE(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#af76de5ee86798f0c3a4c83c84dfa58be">PLL</a>.PLLQ));</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_RCC_PLLR_VALUE(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#af76de5ee86798f0c3a4c83c84dfa58be">PLL</a>.PLLR));</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160; </div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        <span class="comment">/* Disable the main PLL. */</span></div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        __HAL_RCC_PLL_DISABLE();</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160; </div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        <span class="comment">/* Get Start Tick*/</span></div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        tickstart = <a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>();</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160; </div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        <span class="comment">/* Wait till PLL is ready */</span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        <span class="keywordflow">while</span>(READ_BIT(RCC-&gt;CR, RCC_CR_PLLRDY) != 0U)</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        {</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;          <span class="keywordflow">if</span>((<a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>() - tickstart) &gt; PLL_TIMEOUT_VALUE)</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;          {</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;            <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;          }</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        }</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160; </div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        <span class="comment">/* Configure the main PLL clock source, multiplication and division factors. */</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        __HAL_RCC_PLL_CONFIG(RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#af76de5ee86798f0c3a4c83c84dfa58be">PLL</a>.PLLSource,</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;                             RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#af76de5ee86798f0c3a4c83c84dfa58be">PLL</a>.PLLM,</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;                             RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#af76de5ee86798f0c3a4c83c84dfa58be">PLL</a>.PLLN,</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;#<span class="keywordflow">if</span> defined(RCC_PLLP_SUPPORT)</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                             RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#af76de5ee86798f0c3a4c83c84dfa58be">PLL</a>.PLLP,</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;#<a class="code" href="group__ADC__Exported__Types.html#structendif">endif</a></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                             RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#af76de5ee86798f0c3a4c83c84dfa58be">PLL</a>.PLLQ,</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                             RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#af76de5ee86798f0c3a4c83c84dfa58be">PLL</a>.PLLR);</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160; </div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        <span class="comment">/* Enable the main PLL. */</span></div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;        __HAL_RCC_PLL_ENABLE();</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160; </div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        <span class="comment">/* Enable PLL System Clock output. */</span></div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;        __HAL_RCC_PLLCLKOUT_ENABLE(RCC_PLL_SYSCLK);</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160; </div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        <span class="comment">/* Get Start Tick*/</span></div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        tickstart = <a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>();</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160; </div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        <span class="comment">/* Wait till PLL is ready */</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;        <span class="keywordflow">while</span>(READ_BIT(RCC-&gt;CR, RCC_CR_PLLRDY) == 0U)</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;        {</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;          <span class="keywordflow">if</span>((<a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>() - tickstart) &gt; PLL_TIMEOUT_VALUE)</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;          {</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;            <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;          }</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        }</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;      }</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;      {</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        <span class="comment">/* Disable the main PLL. */</span></div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;        __HAL_RCC_PLL_DISABLE();</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160; </div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;        <span class="comment">/* Disable all PLL outputs to save power if no PLLs on */</span></div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;<span class="preprocessor">#if defined(RCC_PLLSAI1_SUPPORT) &amp;&amp; defined(RCC_CR_PLLSAI2RDY)</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        <span class="keywordflow">if</span>(READ_BIT(RCC-&gt;CR, (RCC_CR_PLLSAI1RDY | RCC_CR_PLLSAI2RDY)) == 0U)</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        {</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;          <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#gaf0bea6a9989d50f8ffa9b2afc911fc4b">MODIFY_REG</a>(RCC-&gt;PLLCFGR, RCC_PLLCFGR_PLLSRC, RCC_PLLSOURCE_NONE);</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        }</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;<span class="preprocessor">#elif defined(RCC_PLLSAI1_SUPPORT)</span></div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;        <span class="keywordflow">if</span>(READ_BIT(RCC-&gt;CR, RCC_CR_PLLSAI1RDY) == 0U)</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        {</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;          <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#gaf0bea6a9989d50f8ffa9b2afc911fc4b">MODIFY_REG</a>(RCC-&gt;PLLCFGR, RCC_PLLCFGR_PLLSRC, RCC_PLLSOURCE_NONE);</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;        }</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;        <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#gaf0bea6a9989d50f8ffa9b2afc911fc4b">MODIFY_REG</a>(RCC-&gt;PLLCFGR, RCC_PLLCFGR_PLLSRC, RCC_PLLSOURCE_NONE);</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* RCC_PLLSAI1_SUPPORT &amp;&amp; RCC_CR_PLLSAI2RDY */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160; </div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;<span class="preprocessor">#if defined(RCC_PLLSAI2_SUPPORT)</span></div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;        __HAL_RCC_PLLCLKOUT_DISABLE(RCC_PLL_SYSCLK | RCC_PLL_48M1CLK | RCC_PLL_SAI3CLK);</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;<span class="preprocessor">#elif defined(RCC_PLLSAI1_SUPPORT)</span></div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;        __HAL_RCC_PLLCLKOUT_DISABLE(RCC_PLL_SYSCLK | RCC_PLL_48M1CLK | RCC_PLL_SAI2CLK);</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;        __HAL_RCC_PLLCLKOUT_DISABLE(RCC_PLL_SYSCLK | RCC_PLL_48M1CLK);</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* RCC_PLLSAI2_SUPPORT */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160; </div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;        <span class="comment">/* Get Start Tick*/</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;        tickstart = <a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>();</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160; </div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;        <span class="comment">/* Wait till PLL is disabled */</span></div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;        <span class="keywordflow">while</span>(READ_BIT(RCC-&gt;CR, RCC_CR_PLLRDY) != 0U)</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;        {</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;          <span class="keywordflow">if</span>((<a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>() - tickstart) &gt; PLL_TIMEOUT_VALUE)</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;          {</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;            <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;          }</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;        }</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;      }</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    }</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    {</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;      <span class="comment">/* Check if there is a request to disable the PLL used as System clock source */</span></div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;      <span class="keywordflow">if</span>((RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#af76de5ee86798f0c3a4c83c84dfa58be">PLL</a>.PLLState) == RCC_PLL_OFF)</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;      {</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;      }</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;      {</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        pll_config = RCC-&gt;PLLCFGR;</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;        <span class="comment">/* Do not return HAL_ERROR if request repeats the current configuration */</span></div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;        <span class="keywordflow">if</span>((READ_BIT(pll_config, RCC_PLLCFGR_PLLSRC)  != RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#af76de5ee86798f0c3a4c83c84dfa58be">PLL</a>.PLLSource) ||</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;           (READ_BIT(pll_config, RCC_PLLCFGR_PLLM)    != ((RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#af76de5ee86798f0c3a4c83c84dfa58be">PLL</a>.PLLM - 1U) &lt;&lt; RCC_PLLCFGR_PLLM_Pos)) ||</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;           (READ_BIT(pll_config, RCC_PLLCFGR_PLLN)    != (RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#af76de5ee86798f0c3a4c83c84dfa58be">PLL</a>.PLLN &lt;&lt; RCC_PLLCFGR_PLLN_Pos)) ||</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;#<span class="keywordflow">if</span> defined(RCC_PLLP_SUPPORT)</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;#<span class="keywordflow">if</span> defined(RCC_PLLP_DIV_2_31_SUPPORT)</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;           (READ_BIT(pll_config, RCC_PLLCFGR_PLLPDIV) != (RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#af76de5ee86798f0c3a4c83c84dfa58be">PLL</a>.PLLP &lt;&lt; RCC_PLLCFGR_PLLPDIV_Pos)) ||</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;#<a class="code" href="group__LPUART__LL__EF__Configuration.html#ga0544c3fe466e421738dae463968b70ba">else</a></div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;           (READ_BIT(pll_config, RCC_PLLCFGR_PLLP)    != ((RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#af76de5ee86798f0c3a4c83c84dfa58be">PLL</a>.PLLP == RCC_PLLP_DIV7) ? 0U : 1U)) ||</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;#<a class="code" href="group__ADC__Exported__Types.html#structendif">endif</a></div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;#<a class="code" href="group__ADC__Exported__Types.html#structendif">endif</a></div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;           (READ_BIT(pll_config, RCC_PLLCFGR_PLLQ)    != ((((RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#af76de5ee86798f0c3a4c83c84dfa58be">PLL</a>.PLLQ) &gt;&gt; 1U) - 1U) &lt;&lt; RCC_PLLCFGR_PLLQ_Pos)) ||</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;           (READ_BIT(pll_config, RCC_PLLCFGR_PLLR)    != ((((RCC_OscInitStruct-&gt;<a class="code" href="stm32l4xx__hal__rcc_8h.html#af76de5ee86798f0c3a4c83c84dfa58be">PLL</a>.PLLR) &gt;&gt; 1U) - 1U) &lt;&lt; RCC_PLLCFGR_PLLR_Pos)))</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;        {</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;          <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;        }</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;      }</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    }</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  }</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="astm32l4xx__hal__rcc_8h_html_a93a53676a1cfc5b55b8b990e7ff4dac5"><div class="ttname"><a href="stm32l4xx__hal__rcc_8h.html#a93a53676a1cfc5b55b8b990e7ff4dac5">RCC_ClkInitTypeDef::ClockType</a></div><div class="ttdeci">uint32_t ClockType</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__rcc_8h_source.html#l00127">stm32l4xx_hal_rcc.h:127</a></div></div>
<div class="ttc" id="astm32l4xx__hal__rcc_8h_html_ae195d3c855a814b931f7cf57e4fc3fe6"><div class="ttname"><a href="stm32l4xx__hal__rcc_8h.html#ae195d3c855a814b931f7cf57e4fc3fe6">RCC_OscInitTypeDef::MSIState</a></div><div class="ttdeci">uint32_t MSIState</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__rcc_8h_source.html#l00106">stm32l4xx_hal_rcc.h:106</a></div></div>
<div class="ttc" id="agroup__RTCEx__Exported__Functions__Group2_html_ga4734c37dd6682d79ce748b9bff126f66"><div class="ttname"><a href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a></div><div class="ttdeci">CLEAR_BIT(hrtc-&gt;Instance-&gt;CR, RTC_CR_WUTE)</div></div>
<div class="ttc" id="astm32l4xx__hal__rcc_8h_html_a7e05d6eec98ed8cdaba00ca3d167ff72"><div class="ttname"><a href="stm32l4xx__hal__rcc_8h.html#a7e05d6eec98ed8cdaba00ca3d167ff72">RCC_OscInitTypeDef::HSEState</a></div><div class="ttdeci">uint32_t HSEState</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__rcc_8h_source.html#l00085">stm32l4xx_hal_rcc.h:85</a></div></div>
<div class="ttc" id="astm32l4xx__hal__rcc_8h_html_adaab402d37223348fcc96aeaf7643045"><div class="ttname"><a href="stm32l4xx__hal__rcc_8h.html#adaab402d37223348fcc96aeaf7643045">RCC_OscInitTypeDef::MSIClockRange</a></div><div class="ttdeci">uint32_t MSIClockRange</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__rcc_8h_source.html#l00112">stm32l4xx_hal_rcc.h:112</a></div></div>
<div class="ttc" id="agroup__HAL__Exported__Functions__Group2_html_gac9b3a85a73735ac840d0dcb59bc0fdd6"><div class="ttname"><a href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a></div><div class="ttdeci">uint32_t HAL_GetTick(void)</div><div class="ttdoc">Provide a tick value in millisecond.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal_8c_source.html#l00337">stm32l4xx_hal.c:337</a></div></div>
<div class="ttc" id="agroup__RCC__Private__Functions_html_ga679aa994397abfe61358ec8974a0b6ed"><div class="ttname"><a href="group__RCC__Private__Functions.html#ga679aa994397abfe61358ec8974a0b6ed">RCC_SetFlashLatencyFromMSIRange</a></div><div class="ttdeci">static HAL_StatusTypeDef RCC_SetFlashLatencyFromMSIRange(uint32_t msirange)</div><div class="ttdoc">Update number of Flash wait states in line with MSI range and current voltage range.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__rcc_8c_source.html#l01716">stm32l4xx_hal_rcc.c:1716</a></div></div>
<div class="ttc" id="astm32l4xx__hal__rcc_8h_html_a955de90db8882fde02c4fb59c7c000f0"><div class="ttname"><a href="stm32l4xx__hal__rcc_8h.html#a955de90db8882fde02c4fb59c7c000f0">RCC_OscInitTypeDef::LSIState</a></div><div class="ttdeci">uint32_t LSIState</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__rcc_8h_source.html#l00098">stm32l4xx_hal_rcc.h:98</a></div></div>
<div class="ttc" id="agroup__HAL__Exported__Variables_html_ga3000c5e83924ed2debb1849c738d4be2"><div class="ttname"><a href="group__HAL__Exported__Variables.html#ga3000c5e83924ed2debb1849c738d4be2">uwTickPrio</a></div><div class="ttdeci">uint32_t uwTickPrio</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal_8c_source.html#l00091">stm32l4xx_hal.c:91</a></div></div>
<div class="ttc" id="astm32l4xx__hal__rcc_8h_html_a62152a6e80ade492afa6753ea2acc673"><div class="ttname"><a href="stm32l4xx__hal__rcc_8h.html#a62152a6e80ade492afa6753ea2acc673">RCC_OscInitTypeDef::MSICalibrationValue</a></div><div class="ttdeci">uint32_t MSICalibrationValue</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__rcc_8h_source.html#l00109">stm32l4xx_hal_rcc.h:109</a></div></div>
<div class="ttc" id="astm32l4xx__hal__rcc_8h_html_a39b62cae65fe7a251000354e5bba8cb6"><div class="ttname"><a href="stm32l4xx__hal__rcc_8h.html#a39b62cae65fe7a251000354e5bba8cb6">RCC_OscInitTypeDef::HSIState</a></div><div class="ttdeci">uint32_t HSIState</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__rcc_8h_source.html#l00091">stm32l4xx_hal_rcc.h:91</a></div></div>
<div class="ttc" id="astm32l4xx__hal__rcc_8h_html_a4ceff1fdbf423e347c63052ca2c1d7e1"><div class="ttname"><a href="stm32l4xx__hal__rcc_8h.html#a4ceff1fdbf423e347c63052ca2c1d7e1">RCC_ClkInitTypeDef::SYSCLKSource</a></div><div class="ttdeci">uint32_t SYSCLKSource</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__rcc_8h_source.html#l00130">stm32l4xx_hal_rcc.h:130</a></div></div>
<div class="ttc" id="agroup__RTCEx__Exported__Functions__Group2_html_ga05dcbf41f5c5e42a592e9ad9e351391e"><div class="ttname"><a href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a></div><div class="ttdeci">return HAL_OK</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__rtc__ex_8c_source.html#l00885">stm32l4xx_hal_rtc_ex.c:885</a></div></div>
<div class="ttc" id="astm32l4xx__hal__rcc_8h_html_af76de5ee86798f0c3a4c83c84dfa58be"><div class="ttname"><a href="stm32l4xx__hal__rcc_8h.html#af76de5ee86798f0c3a4c83c84dfa58be">RCC_OscInitTypeDef::PLL</a></div><div class="ttdeci">RCC_PLLInitTypeDef PLL</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__rcc_8h_source.html#l00118">stm32l4xx_hal_rcc.h:118</a></div></div>
<div class="ttc" id="astm32l4xx__hal__rcc_8h_html_af9e7bc89cab81c1705d94c74c7a81088"><div class="ttname"><a href="stm32l4xx__hal__rcc_8h.html#af9e7bc89cab81c1705d94c74c7a81088">RCC_OscInitTypeDef::OscillatorType</a></div><div class="ttdeci">uint32_t OscillatorType</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__rcc_8h_source.html#l00082">stm32l4xx_hal_rcc.h:82</a></div></div>
<div class="ttc" id="astm32l4xx__hal__rcc_8h_html_aa75c110cd93855d49249f38da8cf94f7"><div class="ttname"><a href="stm32l4xx__hal__rcc_8h.html#aa75c110cd93855d49249f38da8cf94f7">RCC_ClkInitTypeDef::APB2CLKDivider</a></div><div class="ttdeci">uint32_t APB2CLKDivider</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__rcc_8h_source.html#l00139">stm32l4xx_hal_rcc.h:139</a></div></div>
<div class="ttc" id="agroup__RCC__Private__Functions_html_ga755d03504e1a9811cc0936b6f9f67117"><div class="ttname"><a href="group__RCC__Private__Functions.html#ga755d03504e1a9811cc0936b6f9f67117">RCC_GetSysClockFreqFromPLLSource</a></div><div class="ttdeci">static uint32_t RCC_GetSysClockFreqFromPLLSource(void)</div><div class="ttdoc">Compute SYSCLK frequency based on PLL SYSCLK source.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__rcc_8c_source.html#l01807">stm32l4xx_hal_rcc.c:1807</a></div></div>
<div class="ttc" id="astm32l4xx__hal__rcc_8h_html_a78101ed8114d9c8e6e5e68965549328e"><div class="ttname"><a href="stm32l4xx__hal__rcc_8h.html#a78101ed8114d9c8e6e5e68965549328e">RCC_OscInitTypeDef::LSIDiv</a></div><div class="ttdeci">uint32_t LSIDiv</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__rcc_8h_source.html#l00102">stm32l4xx_hal_rcc.h:102</a></div></div>
<div class="ttc" id="agroup__RTCEx__Exported__Functions__Group2_html_gaf0bea6a9989d50f8ffa9b2afc911fc4b"><div class="ttname"><a href="group__RTCEx__Exported__Functions__Group2.html#gaf0bea6a9989d50f8ffa9b2afc911fc4b">MODIFY_REG</a></div><div class="ttdeci">MODIFY_REG(hrtc-&gt;Instance-&gt;CR, RTC_CR_WUCKSEL,(uint32_t) WakeUpClock)</div></div>
<div class="ttc" id="agroup__LPUART__LL__EF__Configuration_html_ga0544c3fe466e421738dae463968b70ba"><div class="ttname"><a href="group__LPUART__LL__EF__Configuration.html#ga0544c3fe466e421738dae463968b70ba">else</a></div><div class="ttdeci">else</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__ll__lpuart_8h_source.html#l01488">stm32l4xx_ll_lpuart.h:1488</a></div></div>
<div class="ttc" id="agroup__HAL__Exported__Functions__Group1_html_ga44d1542f9985b2243b14a41070cc41cc"><div class="ttname"><a href="group__HAL__Exported__Functions__Group1.html#ga44d1542f9985b2243b14a41070cc41cc">HAL_InitTick</a></div><div class="ttdeci">HAL_StatusTypeDef HAL_InitTick(uint32_t TickPriority)</div><div class="ttdoc">This function configures the source of the time base: The time source is configured to have 1ms time ...</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal_8c_source.html#l00259">stm32l4xx_hal.c:259</a></div></div>
<div class="ttc" id="agroup__RCC__Exported__Functions__Group2_html_ga887cafe88b21a059061b077a1e3fa7d8"><div class="ttname"><a href="group__RCC__Exported__Functions__Group2.html#ga887cafe88b21a059061b077a1e3fa7d8">HAL_RCC_GetSysClockFreq</a></div><div class="ttdeci">uint32_t HAL_RCC_GetSysClockFreq(void)</div><div class="ttdoc">Return the SYSCLK frequency.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__rcc_8c_source.html#l01346">stm32l4xx_hal_rcc.c:1346</a></div></div>
<div class="ttc" id="astm32l4xx__hal__rcc_8h_html_a8055a66f494074422f14b2b7def4cd2f"><div class="ttname"><a href="stm32l4xx__hal__rcc_8h.html#a8055a66f494074422f14b2b7def4cd2f">RCC_OscInitTypeDef::HSI48State</a></div><div class="ttdeci">uint32_t HSI48State</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__rcc_8h_source.html#l00115">stm32l4xx_hal_rcc.h:115</a></div></div>
<div class="ttc" id="agroup__ADC__Exported__Types_html_structendif"><div class="ttname"><a href="group__ADC__Exported__Types.html#structendif">endif</a></div><div class="ttdoc">ADC handle Structure definition.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__adc_8h_source.html#l00360">stm32l4xx_hal_adc.h:360</a></div></div>
<div class="ttc" id="astm32l4xx__hal__rcc_8h_html_a21ceb024102adc3c4dc7eb270cf02ebd"><div class="ttname"><a href="stm32l4xx__hal__rcc_8h.html#a21ceb024102adc3c4dc7eb270cf02ebd">RCC_ClkInitTypeDef::APB1CLKDivider</a></div><div class="ttdeci">uint32_t APB1CLKDivider</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__rcc_8h_source.html#l00136">stm32l4xx_hal_rcc.h:136</a></div></div>
<div class="ttc" id="agroup__RTCEx__Exported__Functions__Group2_html_ga2b23ae77e9ce099e35aaa5e9e0daba7b"><div class="ttname"><a href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a></div><div class="ttdeci">assert_param(IS_RTC_WAKEUP_CLOCK(WakeUpClock))</div></div>
<div class="ttc" id="astm32l4xx__hal__rcc_8h_html_a9b2e48e452d0c334f2b9473216064560"><div class="ttname"><a href="stm32l4xx__hal__rcc_8h.html#a9b2e48e452d0c334f2b9473216064560">RCC_OscInitTypeDef::HSICalibrationValue</a></div><div class="ttdeci">uint32_t HSICalibrationValue</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__rcc_8h_source.html#l00094">stm32l4xx_hal_rcc.h:94</a></div></div>
<div class="ttc" id="astm32l4xx__hal__rcc_8h_html_a7c1294e9407e69e80fe034caf35fe7ea"><div class="ttname"><a href="stm32l4xx__hal__rcc_8h.html#a7c1294e9407e69e80fe034caf35fe7ea">RCC_OscInitTypeDef::LSEState</a></div><div class="ttdeci">uint32_t LSEState</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__rcc_8h_source.html#l00088">stm32l4xx_hal_rcc.h:88</a></div></div>
<div class="ttc" id="astm32l4xx__hal__rcc_8h_html_abd9bcaa8dcf4b816462ee2930ab3e993"><div class="ttname"><a href="stm32l4xx__hal__rcc_8h.html#abd9bcaa8dcf4b816462ee2930ab3e993">RCC_ClkInitTypeDef::AHBCLKDivider</a></div><div class="ttdeci">uint32_t AHBCLKDivider</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__rcc_8h_source.html#l00133">stm32l4xx_hal_rcc.h:133</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.16 </li>
  </ul>
</div>
</body>
</html>
