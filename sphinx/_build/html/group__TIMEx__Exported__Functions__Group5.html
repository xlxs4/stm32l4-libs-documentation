<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STM32L4xx_HAL_Driver: Extended Peripheral Control functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">STM32L4xx_HAL_Driver
   &#160;<span id="projectnumber">1.14.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__TIMEx__Exported__Functions__Group5.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Extended Peripheral Control functions<div class="ingroups"><a class="el" href="group__STM32L4xx__HAL__Driver.html">STM32L4xx_HAL_Driver</a> &raquo; <a class="el" href="group__TIMEx.html">TIMEx</a> &raquo; <a class="el" href="group__TIMEx__Exported__Functions.html">TIM Extended Exported Functions</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Peripheral Control functions.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gab5802aa4b8b5a79b93b209b0277622ac"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMEx__Exported__Functions__Group5.html#gab5802aa4b8b5a79b93b209b0277622ac">HAL_TIMEx_ConfigCommutEvent</a> (<a class="el" href="group__TIM__Exported__Types.html#ga6351113789ff85eed99bab88cebcc76a">TIM_HandleTypeDef</a> *htim, uint32_t InputTrigger, uint32_t CommutationSource)</td></tr>
<tr class="memdesc:gab5802aa4b8b5a79b93b209b0277622ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the TIM commutation event sequence.  <a href="group__TIMEx__Exported__Functions__Group5.html#gab5802aa4b8b5a79b93b209b0277622ac">More...</a><br /></td></tr>
<tr class="separator:gab5802aa4b8b5a79b93b209b0277622ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad9f5f717a203adafb70e66451b4f0472"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMEx__Exported__Functions__Group5.html#gad9f5f717a203adafb70e66451b4f0472">HAL_TIMEx_ConfigCommutEvent_IT</a> (<a class="el" href="group__TIM__Exported__Types.html#ga6351113789ff85eed99bab88cebcc76a">TIM_HandleTypeDef</a> *htim, uint32_t InputTrigger, uint32_t CommutationSource)</td></tr>
<tr class="memdesc:gad9f5f717a203adafb70e66451b4f0472"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the TIM commutation event sequence with interrupt.  <a href="group__TIMEx__Exported__Functions__Group5.html#gad9f5f717a203adafb70e66451b4f0472">More...</a><br /></td></tr>
<tr class="separator:gad9f5f717a203adafb70e66451b4f0472"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6ab2af489cfc5783e4ddd76a35edde31"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMEx__Exported__Functions__Group5.html#ga6ab2af489cfc5783e4ddd76a35edde31">HAL_TIMEx_ConfigCommutEvent_DMA</a> (<a class="el" href="group__TIM__Exported__Types.html#ga6351113789ff85eed99bab88cebcc76a">TIM_HandleTypeDef</a> *htim, uint32_t InputTrigger, uint32_t CommutationSource)</td></tr>
<tr class="memdesc:ga6ab2af489cfc5783e4ddd76a35edde31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the TIM commutation event sequence with DMA.  <a href="group__TIMEx__Exported__Functions__Group5.html#ga6ab2af489cfc5783e4ddd76a35edde31">More...</a><br /></td></tr>
<tr class="separator:ga6ab2af489cfc5783e4ddd76a35edde31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga056fd97d3be6c60dcfa12963f6ec8aad"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMEx__Exported__Functions__Group5.html#ga056fd97d3be6c60dcfa12963f6ec8aad">HAL_TIMEx_MasterConfigSynchronization</a> (<a class="el" href="group__TIM__Exported__Types.html#ga6351113789ff85eed99bab88cebcc76a">TIM_HandleTypeDef</a> *htim, <a class="el" href="group__TIM__Exported__Types.html#structTIM__MasterConfigTypeDef">TIM_MasterConfigTypeDef</a> *sMasterConfig)</td></tr>
<tr class="memdesc:ga056fd97d3be6c60dcfa12963f6ec8aad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the TIM in master mode.  <a href="group__TIMEx__Exported__Functions__Group5.html#ga056fd97d3be6c60dcfa12963f6ec8aad">More...</a><br /></td></tr>
<tr class="separator:ga056fd97d3be6c60dcfa12963f6ec8aad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4414f3b3dcbed3f21ee3b06d6db9ffa4"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMEx__Exported__Functions__Group5.html#ga4414f3b3dcbed3f21ee3b06d6db9ffa4">HAL_TIMEx_ConfigBreakDeadTime</a> (<a class="el" href="group__TIM__Exported__Types.html#ga6351113789ff85eed99bab88cebcc76a">TIM_HandleTypeDef</a> *htim, <a class="el" href="group__TIM__Exported__Types.html#structTIM__BreakDeadTimeConfigTypeDef">TIM_BreakDeadTimeConfigTypeDef</a> *sBreakDeadTimeConfig)</td></tr>
<tr class="memdesc:ga4414f3b3dcbed3f21ee3b06d6db9ffa4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the Break feature, dead time, Lock level, OSSI/OSSR State and the AOE(automatic output enable).  <a href="group__TIMEx__Exported__Functions__Group5.html#ga4414f3b3dcbed3f21ee3b06d6db9ffa4">More...</a><br /></td></tr>
<tr class="separator:ga4414f3b3dcbed3f21ee3b06d6db9ffa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7cd64073fccb41470171d9599ffb699c"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMEx__Exported__Functions__Group5.html#ga7cd64073fccb41470171d9599ffb699c">HAL_TIMEx_ConfigBreakInput</a> (<a class="el" href="group__TIM__Exported__Types.html#ga6351113789ff85eed99bab88cebcc76a">TIM_HandleTypeDef</a> *htim, uint32_t BreakInput, <a class="el" href="group__TIMEx__Exported__Types.html#structTIMEx__BreakInputConfigTypeDef">TIMEx_BreakInputConfigTypeDef</a> *sBreakInputConfig)</td></tr>
<tr class="memdesc:ga7cd64073fccb41470171d9599ffb699c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the break input source.  <a href="group__TIMEx__Exported__Functions__Group5.html#ga7cd64073fccb41470171d9599ffb699c">More...</a><br /></td></tr>
<tr class="separator:ga7cd64073fccb41470171d9599ffb699c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8aef10325df17a0d17a3a0a7ebfae383"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMEx__Exported__Functions__Group5.html#ga8aef10325df17a0d17a3a0a7ebfae383">HAL_TIMEx_GroupChannel5</a> (<a class="el" href="group__TIM__Exported__Types.html#ga6351113789ff85eed99bab88cebcc76a">TIM_HandleTypeDef</a> *htim, uint32_t Channels)</td></tr>
<tr class="memdesc:ga8aef10325df17a0d17a3a0a7ebfae383"><td class="mdescLeft">&#160;</td><td class="mdescRight">Group channel 5 and channel 1, 2 or 3.  <a href="group__TIMEx__Exported__Functions__Group5.html#ga8aef10325df17a0d17a3a0a7ebfae383">More...</a><br /></td></tr>
<tr class="separator:ga8aef10325df17a0d17a3a0a7ebfae383"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga683118282daf3aa2e319eb8eea93af31"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TIMEx__Exported__Functions__Group5.html#ga683118282daf3aa2e319eb8eea93af31">HAL_TIMEx_RemapConfig</a> (<a class="el" href="group__TIM__Exported__Types.html#ga6351113789ff85eed99bab88cebcc76a">TIM_HandleTypeDef</a> *htim, uint32_t Remap)</td></tr>
<tr class="separator:ga683118282daf3aa2e319eb8eea93af31"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Peripheral Control functions. </p>
<pre class="fragment">  ==============================================================================
                    ##### Peripheral Control functions #####
  ==============================================================================
  [..]
    This section provides functions allowing to:
      (+) Configure the commutation event in case of use of the Hall sensor interface.
      (+) Configure Output channels for OC and PWM mode.

      (+) Configure Complementary channels, break features and dead time.
      (+) Configure Master synchronization.
      (+) Configure timer remapping capabilities.
      (+) Enable or disable channel grouping.</pre> <h2 class="groupheader">Function Documentation</h2>
<a id="ga4414f3b3dcbed3f21ee3b06d6db9ffa4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4414f3b3dcbed3f21ee3b06d6db9ffa4">&#9670;&nbsp;</a></span>HAL_TIMEx_ConfigBreakDeadTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_TIMEx_ConfigBreakDeadTime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIM__Exported__Types.html#ga6351113789ff85eed99bab88cebcc76a">TIM_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>htim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__TIM__Exported__Types.html#structTIM__BreakDeadTimeConfigTypeDef">TIM_BreakDeadTimeConfigTypeDef</a> *&#160;</td>
          <td class="paramname"><em>sBreakDeadTimeConfig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures the Break feature, dead time, Lock level, OSSI/OSSR State and the AOE(automatic output enable). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">htim</td><td>TIM handle </td></tr>
    <tr><td class="paramname">sBreakDeadTimeConfig</td><td>pointer to a TIM_ConfigBreakDeadConfigTypeDef structure that contains the BDTR Register configuration information for the TIM peripheral. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__tim__ex_8c_source.html#l01699">1699</a> of file <a class="el" href="stm32l4xx__hal__tim__ex_8c_source.html">stm32l4xx_hal_tim_ex.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;{</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;  <span class="comment">/* Keep this variable initialized to 0 as it is used to configure BDTR register */</span></div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;  uint32_t tmpbdtr = 0U;</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160; </div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_TIM_BREAK_INSTANCE(htim-&gt;Instance));</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_TIM_OSSR_STATE(sBreakDeadTimeConfig-&gt;<a class="code" href="group__TIM__Exported__Types.html#a5e97751b5e397414e2a5120eb5cef7c6">OffStateRunMode</a>));</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_TIM_OSSI_STATE(sBreakDeadTimeConfig-&gt;<a class="code" href="group__TIM__Exported__Types.html#a49f39e31ac019b9b7a20751bfd01c6c4">OffStateIDLEMode</a>));</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_TIM_LOCK_LEVEL(sBreakDeadTimeConfig-&gt;<a class="code" href="group__TIM__Exported__Types.html#ab00ae9fa5c6daa6319883863dee6e40a">LockLevel</a>));</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_TIM_DEADTIME(sBreakDeadTimeConfig-&gt;<a class="code" href="group__TIM__Exported__Types.html#a4bdc5aec84be4b728b55028491f261d4">DeadTime</a>));</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_TIM_BREAK_STATE(sBreakDeadTimeConfig-&gt;<a class="code" href="group__TIM__Exported__Types.html#a8962430194b43ac28a14c96dd9cc44e6">BreakState</a>));</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_TIM_BREAK_POLARITY(sBreakDeadTimeConfig-&gt;<a class="code" href="group__TIM__Exported__Types.html#ae15ddbf3087f9a2129a52a1317339ea7">BreakPolarity</a>));</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_TIM_BREAK_FILTER(sBreakDeadTimeConfig-&gt;<a class="code" href="group__TIM__Exported__Types.html#aad8158e694a62f6c071975ee4c2e5b6a">BreakFilter</a>));</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_TIM_AUTOMATIC_OUTPUT_STATE(sBreakDeadTimeConfig-&gt;<a class="code" href="group__TIM__Exported__Types.html#ae591f2368d0be5b77d8a746e73eabe71">AutomaticOutput</a>));</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160; </div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;  <span class="comment">/* Check input state */</span></div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(htim);</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160; </div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;  <span class="comment">/* Set the Lock level, the Break enable Bit and the Polarity, the OSSR State,</span></div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;<span class="comment">     the OSSI State, the dead time value and the Automatic Output Enable Bit */</span></div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160; </div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;  <span class="comment">/* Set the BDTR bits */</span></div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#gaf0bea6a9989d50f8ffa9b2afc911fc4b">MODIFY_REG</a>(tmpbdtr, TIM_BDTR_DTG, sBreakDeadTimeConfig-&gt;<a class="code" href="group__TIM__Exported__Types.html#a4bdc5aec84be4b728b55028491f261d4">DeadTime</a>);</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#gaf0bea6a9989d50f8ffa9b2afc911fc4b">MODIFY_REG</a>(tmpbdtr, TIM_BDTR_LOCK, sBreakDeadTimeConfig-&gt;<a class="code" href="group__TIM__Exported__Types.html#ab00ae9fa5c6daa6319883863dee6e40a">LockLevel</a>);</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#gaf0bea6a9989d50f8ffa9b2afc911fc4b">MODIFY_REG</a>(tmpbdtr, TIM_BDTR_OSSI, sBreakDeadTimeConfig-&gt;<a class="code" href="group__TIM__Exported__Types.html#a49f39e31ac019b9b7a20751bfd01c6c4">OffStateIDLEMode</a>);</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#gaf0bea6a9989d50f8ffa9b2afc911fc4b">MODIFY_REG</a>(tmpbdtr, TIM_BDTR_OSSR, sBreakDeadTimeConfig-&gt;<a class="code" href="group__TIM__Exported__Types.html#a5e97751b5e397414e2a5120eb5cef7c6">OffStateRunMode</a>);</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#gaf0bea6a9989d50f8ffa9b2afc911fc4b">MODIFY_REG</a>(tmpbdtr, TIM_BDTR_BKE, sBreakDeadTimeConfig-&gt;<a class="code" href="group__TIM__Exported__Types.html#a8962430194b43ac28a14c96dd9cc44e6">BreakState</a>);</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#gaf0bea6a9989d50f8ffa9b2afc911fc4b">MODIFY_REG</a>(tmpbdtr, TIM_BDTR_BKP, sBreakDeadTimeConfig-&gt;<a class="code" href="group__TIM__Exported__Types.html#ae15ddbf3087f9a2129a52a1317339ea7">BreakPolarity</a>);</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#gaf0bea6a9989d50f8ffa9b2afc911fc4b">MODIFY_REG</a>(tmpbdtr, TIM_BDTR_AOE, sBreakDeadTimeConfig-&gt;<a class="code" href="group__TIM__Exported__Types.html#ae591f2368d0be5b77d8a746e73eabe71">AutomaticOutput</a>);</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#gaf0bea6a9989d50f8ffa9b2afc911fc4b">MODIFY_REG</a>(tmpbdtr, TIM_BDTR_BKF, (sBreakDeadTimeConfig-&gt;<a class="code" href="group__TIM__Exported__Types.html#aad8158e694a62f6c071975ee4c2e5b6a">BreakFilter</a> &lt;&lt; TIM_BDTR_BKF_Pos));</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160; </div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;  <span class="keywordflow">if</span> (IS_TIM_BKIN2_INSTANCE(htim-&gt;Instance))</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;  {</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;    <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_TIM_BREAK2_STATE(sBreakDeadTimeConfig-&gt;<a class="code" href="group__TIM__Exported__Types.html#ab9a983671c730c9b33852c9aa60846fb">Break2State</a>));</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_TIM_BREAK2_POLARITY(sBreakDeadTimeConfig-&gt;<a class="code" href="group__TIM__Exported__Types.html#af492d4b9f5e974abb51abe58d413cd17">Break2Polarity</a>));</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_TIM_BREAK_FILTER(sBreakDeadTimeConfig-&gt;<a class="code" href="group__TIM__Exported__Types.html#a3c90aabc31a34864525dad4bd3547c86">Break2Filter</a>));</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160; </div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;    <span class="comment">/* Set the BREAK2 input related BDTR bits */</span></div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#gaf0bea6a9989d50f8ffa9b2afc911fc4b">MODIFY_REG</a>(tmpbdtr, TIM_BDTR_BK2F, (sBreakDeadTimeConfig-&gt;<a class="code" href="group__TIM__Exported__Types.html#a3c90aabc31a34864525dad4bd3547c86">Break2Filter</a> &lt;&lt; TIM_BDTR_BK2F_Pos));</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#gaf0bea6a9989d50f8ffa9b2afc911fc4b">MODIFY_REG</a>(tmpbdtr, TIM_BDTR_BK2E, sBreakDeadTimeConfig-&gt;<a class="code" href="group__TIM__Exported__Types.html#ab9a983671c730c9b33852c9aa60846fb">Break2State</a>);</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#gaf0bea6a9989d50f8ffa9b2afc911fc4b">MODIFY_REG</a>(tmpbdtr, TIM_BDTR_BK2P, sBreakDeadTimeConfig-&gt;<a class="code" href="group__TIM__Exported__Types.html#af492d4b9f5e974abb51abe58d413cd17">Break2Polarity</a>);</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;  }</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160; </div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;  <span class="comment">/* Set TIMx_BDTR */</span></div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;  htim-&gt;Instance-&gt;BDTR = tmpbdtr;</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160; </div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(htim);</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160; </div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga7cd64073fccb41470171d9599ffb699c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7cd64073fccb41470171d9599ffb699c">&#9670;&nbsp;</a></span>HAL_TIMEx_ConfigBreakInput()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_TIMEx_ConfigBreakInput </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIM__Exported__Types.html#ga6351113789ff85eed99bab88cebcc76a">TIM_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>htim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>BreakInput</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__TIMEx__Exported__Types.html#structTIMEx__BreakInputConfigTypeDef">TIMEx_BreakInputConfigTypeDef</a> *&#160;</td>
          <td class="paramname"><em>sBreakInputConfig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures the break input source. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">htim</td><td>TIM handle. </td></tr>
    <tr><td class="paramname">BreakInput</td><td>Break input to configure This parameter can be one of the following values: <ul>
<li>TIM_BREAKINPUT_BRK: Timer break input </li>
<li>TIM_BREAKINPUT_BRK2: Timer break 2 input </li>
</ul>
</td></tr>
    <tr><td class="paramname">sBreakInputConfig</td><td>Break input source configuration </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__tim__ex_8c_source.html#l01763">1763</a> of file <a class="el" href="stm32l4xx__hal__tim__ex_8c_source.html">stm32l4xx_hal_tim_ex.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;{</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;  uint32_t tmporx;</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;  uint32_t bkin_enable_mask = 0U;</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;  uint32_t bkin_polarity_mask = 0U;</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;  uint32_t bkin_enable_bitpos = 0U;</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;  uint32_t bkin_polarity_bitpos = 0U;</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160; </div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_TIM_BREAK_INSTANCE(htim-&gt;Instance));</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_TIM_BREAKINPUT(BreakInput));</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_TIM_BREAKINPUTSOURCE(sBreakInputConfig-&gt;<a class="code" href="group__TIMEx__Exported__Types.html#a3d1b8869f7f410dc243bdda8fc9d2fdb">Source</a>));</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_TIM_BREAKINPUTSOURCE_STATE(sBreakInputConfig-&gt;<a class="code" href="group__TIMEx__Exported__Types.html#aae44103064e81e3743526577be9e1821">Enable</a>));</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;<span class="preprocessor">#if defined(DFSDM1_Channel0)</span></div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;  <span class="keywordflow">if</span> (sBreakInputConfig-&gt;<a class="code" href="group__TIMEx__Exported__Types.html#a3d1b8869f7f410dc243bdda8fc9d2fdb">Source</a> != TIM_BREAKINPUTSOURCE_DFSDM1)</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;  {</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_TIM_BREAKINPUTSOURCE_POLARITY(sBreakInputConfig-&gt;<a class="code" href="group__TIMEx__Exported__Types.html#a5728344a45eaea5dff727979573e45e7">Polarity</a>));</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;  }</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_TIM_BREAKINPUTSOURCE_POLARITY(sBreakInputConfig-&gt;<a class="code" href="group__TIMEx__Exported__Types.html#a5728344a45eaea5dff727979573e45e7">Polarity</a>));</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DFSDM1_Channel0 */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160; </div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;  <span class="comment">/* Check input state */</span></div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(htim);</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160; </div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;  <span class="keywordflow">switch</span> (sBreakInputConfig-&gt;<a class="code" href="group__TIMEx__Exported__Types.html#a3d1b8869f7f410dc243bdda8fc9d2fdb">Source</a>)</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;  {</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;    <span class="keywordflow">case</span> TIM_BREAKINPUTSOURCE_BKIN:</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;    {</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;      bkin_enable_mask = TIM1_OR2_BKINE;</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;      bkin_enable_bitpos = TIM1_OR2_BKINE_Pos;</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;      bkin_polarity_mask = TIM1_OR2_BKINP;</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;      bkin_polarity_bitpos = TIM1_OR2_BKINP_Pos;</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;    }</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;    <span class="keywordflow">case</span> TIM_BREAKINPUTSOURCE_COMP1:</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;    {</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;      bkin_enable_mask = TIM1_OR2_BKCMP1E;</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;      bkin_enable_bitpos = TIM1_OR2_BKCMP1E_Pos;</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;      bkin_polarity_mask = TIM1_OR2_BKCMP1P;</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;      bkin_polarity_bitpos = TIM1_OR2_BKCMP1P_Pos;</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;    }</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;    <span class="keywordflow">case</span> TIM_BREAKINPUTSOURCE_COMP2:</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;    {</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;      bkin_enable_mask = TIM1_OR2_BKCMP2E;</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;      bkin_enable_bitpos = TIM1_OR2_BKCMP2E_Pos;</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;      bkin_polarity_mask = TIM1_OR2_BKCMP2P;</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;      bkin_polarity_bitpos = TIM1_OR2_BKCMP2P_Pos;</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    }</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;<span class="preprocessor">#if defined(DFSDM1_Channel0)</span></div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;    <span class="keywordflow">case</span> TIM_BREAKINPUTSOURCE_DFSDM1:</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    {</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;      bkin_enable_mask = TIM1_OR2_BKDF1BK0E;</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;      bkin_enable_bitpos = 8U;</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;    }</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DFSDM1_Channel0 */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160; </div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;  }</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160; </div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;  <span class="keywordflow">switch</span> (BreakInput)</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;  {</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;    <span class="keywordflow">case</span> TIM_BREAKINPUT_BRK:</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;    {</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;      <span class="comment">/* Get the TIMx_OR2 register value */</span></div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;      tmporx = htim-&gt;Instance-&gt;OR2;</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160; </div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;      <span class="comment">/* Enable the break input */</span></div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;      tmporx &amp;= ~bkin_enable_mask;</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;      tmporx |= (sBreakInputConfig-&gt;<a class="code" href="group__TIMEx__Exported__Types.html#aae44103064e81e3743526577be9e1821">Enable</a> &lt;&lt; bkin_enable_bitpos) &amp; bkin_enable_mask;</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160; </div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;      <span class="comment">/* Set the break input polarity */</span></div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;<span class="preprocessor">#if defined(DFSDM1_Channel0)</span></div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;      <span class="keywordflow">if</span> (sBreakInputConfig-&gt;<a class="code" href="group__TIMEx__Exported__Types.html#a3d1b8869f7f410dc243bdda8fc9d2fdb">Source</a> != TIM_BREAKINPUTSOURCE_DFSDM1)</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DFSDM1_Channel0 */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;      {</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;        tmporx &amp;= ~bkin_polarity_mask;</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;        tmporx |= (sBreakInputConfig-&gt;<a class="code" href="group__TIMEx__Exported__Types.html#a5728344a45eaea5dff727979573e45e7">Polarity</a> &lt;&lt; bkin_polarity_bitpos) &amp; bkin_polarity_mask;</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;      }</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160; </div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;      <span class="comment">/* Set TIMx_OR2 */</span></div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;      htim-&gt;Instance-&gt;OR2 = tmporx;</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;    }</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;    <span class="keywordflow">case</span> TIM_BREAKINPUT_BRK2:</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;    {</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;      <span class="comment">/* Get the TIMx_OR3 register value */</span></div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;      tmporx = htim-&gt;Instance-&gt;OR3;</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160; </div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;      <span class="comment">/* Enable the break input */</span></div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;      tmporx &amp;= ~bkin_enable_mask;</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;      tmporx |= (sBreakInputConfig-&gt;<a class="code" href="group__TIMEx__Exported__Types.html#aae44103064e81e3743526577be9e1821">Enable</a> &lt;&lt; bkin_enable_bitpos) &amp; bkin_enable_mask;</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160; </div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;      <span class="comment">/* Set the break input polarity */</span></div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;<span class="preprocessor">#if defined(DFSDM1_Channel0)</span></div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;      <span class="keywordflow">if</span> (sBreakInputConfig-&gt;<a class="code" href="group__TIMEx__Exported__Types.html#a3d1b8869f7f410dc243bdda8fc9d2fdb">Source</a> != TIM_BREAKINPUTSOURCE_DFSDM1)</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DFSDM1_Channel0 */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;      {</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;        tmporx &amp;= ~bkin_polarity_mask;</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;        tmporx |= (sBreakInputConfig-&gt;<a class="code" href="group__TIMEx__Exported__Types.html#a5728344a45eaea5dff727979573e45e7">Polarity</a> &lt;&lt; bkin_polarity_bitpos) &amp; bkin_polarity_mask;</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;      }</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160; </div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;      <span class="comment">/* Set TIMx_OR3 */</span></div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;      htim-&gt;Instance-&gt;OR3 = tmporx;</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    }</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;  }</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160; </div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(htim);</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160; </div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gab5802aa4b8b5a79b93b209b0277622ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab5802aa4b8b5a79b93b209b0277622ac">&#9670;&nbsp;</a></span>HAL_TIMEx_ConfigCommutEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_TIMEx_ConfigCommutEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIM__Exported__Types.html#ga6351113789ff85eed99bab88cebcc76a">TIM_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>htim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>InputTrigger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>CommutationSource</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure the TIM commutation event sequence. </p>
<dl class="section note"><dt>Note</dt><dd>This function is mandatory to use the commutation event in order to update the configuration at each commutation detection on the TRGI input of the Timer, the typical use of this feature is with the use of another Timer(interface Timer) configured in Hall sensor interface, this interface Timer will generate the commutation at its TRGO output (connected to Timer used in this function) each time the TI1 of the Interface Timer detect a commutation at its input TI1. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">htim</td><td>TIM handle </td></tr>
    <tr><td class="paramname">InputTrigger</td><td>the Internal trigger corresponding to the Timer Interfacing with the Hall sensor This parameter can be one of the following values: <ul>
<li>TIM_TS_ITR0: Internal trigger 0 selected </li>
<li>TIM_TS_ITR1: Internal trigger 1 selected </li>
<li>TIM_TS_ITR2: Internal trigger 2 selected </li>
<li>TIM_TS_ITR3: Internal trigger 3 selected </li>
<li>TIM_TS_NONE: No trigger is needed </li>
</ul>
</td></tr>
    <tr><td class="paramname">CommutationSource</td><td>the Commutation Event source This parameter can be one of the following values: <ul>
<li>TIM_COMMUTATION_TRGI: Commutation source is the TRGI of the Interface Timer </li>
<li>TIM_COMMUTATION_SOFTWARE: Commutation source is set by software using the COMG bit </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__tim__ex_8c_source.html#l01470">1470</a> of file <a class="el" href="stm32l4xx__hal__tim__ex_8c_source.html">stm32l4xx_hal_tim_ex.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;{</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_TIM_COMMUTATION_EVENT_INSTANCE(htim-&gt;Instance));</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_TIM_INTERNAL_TRIGGEREVENT_SELECTION(InputTrigger));</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160; </div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(htim);</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160; </div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;  <span class="keywordflow">if</span> ((InputTrigger == TIM_TS_ITR0) || (InputTrigger == TIM_TS_ITR1) ||</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;      (InputTrigger == TIM_TS_ITR2) || (InputTrigger == TIM_TS_ITR3))</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;  {</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    <span class="comment">/* Select the Input trigger */</span></div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;    htim-&gt;Instance-&gt;SMCR &amp;= ~TIM_SMCR_TS;</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    htim-&gt;Instance-&gt;SMCR |= InputTrigger;</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;  }</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160; </div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;  <span class="comment">/* Select the Capture Compare preload feature */</span></div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;  htim-&gt;Instance-&gt;CR2 |= TIM_CR2_CCPC;</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;  <span class="comment">/* Select the Commutation event source */</span></div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;  htim-&gt;Instance-&gt;CR2 &amp;= ~TIM_CR2_CCUS;</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;  htim-&gt;Instance-&gt;CR2 |= CommutationSource;</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160; </div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;  <span class="comment">/* Disable Commutation Interrupt */</span></div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;  __HAL_TIM_DISABLE_IT(htim, TIM_IT_COM);</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160; </div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;  <span class="comment">/* Disable Commutation DMA request */</span></div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;  __HAL_TIM_DISABLE_DMA(htim, TIM_DMA_COM);</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160; </div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(htim);</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160; </div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga6ab2af489cfc5783e4ddd76a35edde31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6ab2af489cfc5783e4ddd76a35edde31">&#9670;&nbsp;</a></span>HAL_TIMEx_ConfigCommutEvent_DMA()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_TIMEx_ConfigCommutEvent_DMA </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIM__Exported__Types.html#ga6351113789ff85eed99bab88cebcc76a">TIM_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>htim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>InputTrigger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>CommutationSource</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure the TIM commutation event sequence with DMA. </p>
<dl class="section note"><dt>Note</dt><dd>This function is mandatory to use the commutation event in order to update the configuration at each commutation detection on the TRGI input of the Timer, the typical use of this feature is with the use of another Timer(interface Timer) configured in Hall sensor interface, this interface Timer will generate the commutation at its TRGO output (connected to Timer used in this function) each time the TI1 of the Interface Timer detect a commutation at its input TI1. </dd>
<dd>
The user should configure the DMA in his own software, in This function only the COMDE bit is set </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">htim</td><td>TIM handle </td></tr>
    <tr><td class="paramname">InputTrigger</td><td>the Internal trigger corresponding to the Timer Interfacing with the Hall sensor This parameter can be one of the following values: <ul>
<li>TIM_TS_ITR0: Internal trigger 0 selected </li>
<li>TIM_TS_ITR1: Internal trigger 1 selected </li>
<li>TIM_TS_ITR2: Internal trigger 2 selected </li>
<li>TIM_TS_ITR3: Internal trigger 3 selected </li>
<li>TIM_TS_NONE: No trigger is needed </li>
</ul>
</td></tr>
    <tr><td class="paramname">CommutationSource</td><td>the Commutation Event source This parameter can be one of the following values: <ul>
<li>TIM_COMMUTATION_TRGI: Commutation source is the TRGI of the Interface Timer </li>
<li>TIM_COMMUTATION_SOFTWARE: Commutation source is set by software using the COMG bit </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__tim__ex_8c_source.html#l01583">1583</a> of file <a class="el" href="stm32l4xx__hal__tim__ex_8c_source.html">stm32l4xx_hal_tim_ex.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;{</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_TIM_COMMUTATION_EVENT_INSTANCE(htim-&gt;Instance));</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_TIM_INTERNAL_TRIGGEREVENT_SELECTION(InputTrigger));</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160; </div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(htim);</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160; </div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;  <span class="keywordflow">if</span> ((InputTrigger == TIM_TS_ITR0) || (InputTrigger == TIM_TS_ITR1) ||</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;      (InputTrigger == TIM_TS_ITR2) || (InputTrigger == TIM_TS_ITR3))</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;  {</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    <span class="comment">/* Select the Input trigger */</span></div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    htim-&gt;Instance-&gt;SMCR &amp;= ~TIM_SMCR_TS;</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    htim-&gt;Instance-&gt;SMCR |= InputTrigger;</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;  }</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160; </div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;  <span class="comment">/* Select the Capture Compare preload feature */</span></div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;  htim-&gt;Instance-&gt;CR2 |= TIM_CR2_CCPC;</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;  <span class="comment">/* Select the Commutation event source */</span></div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;  htim-&gt;Instance-&gt;CR2 &amp;= ~TIM_CR2_CCUS;</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;  htim-&gt;Instance-&gt;CR2 |= CommutationSource;</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160; </div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;  <span class="comment">/* Enable the Commutation DMA Request */</span></div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;  <span class="comment">/* Set the DMA Commutation Callback */</span></div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;  htim-&gt;hdma[TIM_DMA_ID_COMMUTATION]-&gt;XferCpltCallback = <a class="code" href="group__TIMEx__Private__Functions.html#gaf473fa38254d62a74a006a781fe0aeb8">TIMEx_DMACommutationCplt</a>;</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;  htim-&gt;hdma[TIM_DMA_ID_COMMUTATION]-&gt;XferHalfCpltCallback = <a class="code" href="group__TIMEx__Private__Functions.html#ga65b7244a1ee94cf20081543377ba8d2a">TIMEx_DMACommutationHalfCplt</a>;</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;  <span class="comment">/* Set the DMA error callback */</span></div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;  htim-&gt;hdma[TIM_DMA_ID_COMMUTATION]-&gt;XferErrorCallback = <a class="code" href="group__TIM__Private__Functions.html#gaa112bee5279feee040c1ea9e283f7378">TIM_DMAError</a>;</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160; </div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;  <span class="comment">/* Disable Commutation Interrupt */</span></div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;  __HAL_TIM_DISABLE_IT(htim, TIM_IT_COM);</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160; </div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;  <span class="comment">/* Enable the Commutation DMA Request */</span></div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;  __HAL_TIM_ENABLE_DMA(htim, TIM_DMA_COM);</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160; </div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(htim);</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160; </div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gad9f5f717a203adafb70e66451b4f0472"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad9f5f717a203adafb70e66451b4f0472">&#9670;&nbsp;</a></span>HAL_TIMEx_ConfigCommutEvent_IT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_TIMEx_ConfigCommutEvent_IT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIM__Exported__Types.html#ga6351113789ff85eed99bab88cebcc76a">TIM_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>htim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>InputTrigger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>CommutationSource</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure the TIM commutation event sequence with interrupt. </p>
<dl class="section note"><dt>Note</dt><dd>This function is mandatory to use the commutation event in order to update the configuration at each commutation detection on the TRGI input of the Timer, the typical use of this feature is with the use of another Timer(interface Timer) configured in Hall sensor interface, this interface Timer will generate the commutation at its TRGO output (connected to Timer used in this function) each time the TI1 of the Interface Timer detect a commutation at its input TI1. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">htim</td><td>TIM handle </td></tr>
    <tr><td class="paramname">InputTrigger</td><td>the Internal trigger corresponding to the Timer Interfacing with the Hall sensor This parameter can be one of the following values: <ul>
<li>TIM_TS_ITR0: Internal trigger 0 selected </li>
<li>TIM_TS_ITR1: Internal trigger 1 selected </li>
<li>TIM_TS_ITR2: Internal trigger 2 selected </li>
<li>TIM_TS_ITR3: Internal trigger 3 selected </li>
<li>TIM_TS_NONE: No trigger is needed </li>
</ul>
</td></tr>
    <tr><td class="paramname">CommutationSource</td><td>the Commutation Event source This parameter can be one of the following values: <ul>
<li>TIM_COMMUTATION_TRGI: Commutation source is the TRGI of the Interface Timer </li>
<li>TIM_COMMUTATION_SOFTWARE: Commutation source is set by software using the COMG bit </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__tim__ex_8c_source.html#l01526">1526</a> of file <a class="el" href="stm32l4xx__hal__tim__ex_8c_source.html">stm32l4xx_hal_tim_ex.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;{</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_TIM_COMMUTATION_EVENT_INSTANCE(htim-&gt;Instance));</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_TIM_INTERNAL_TRIGGEREVENT_SELECTION(InputTrigger));</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160; </div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(htim);</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160; </div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;  <span class="keywordflow">if</span> ((InputTrigger == TIM_TS_ITR0) || (InputTrigger == TIM_TS_ITR1) ||</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;      (InputTrigger == TIM_TS_ITR2) || (InputTrigger == TIM_TS_ITR3))</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;  {</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <span class="comment">/* Select the Input trigger */</span></div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    htim-&gt;Instance-&gt;SMCR &amp;= ~TIM_SMCR_TS;</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;    htim-&gt;Instance-&gt;SMCR |= InputTrigger;</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;  }</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160; </div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;  <span class="comment">/* Select the Capture Compare preload feature */</span></div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;  htim-&gt;Instance-&gt;CR2 |= TIM_CR2_CCPC;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;  <span class="comment">/* Select the Commutation event source */</span></div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;  htim-&gt;Instance-&gt;CR2 &amp;= ~TIM_CR2_CCUS;</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;  htim-&gt;Instance-&gt;CR2 |= CommutationSource;</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160; </div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;  <span class="comment">/* Disable Commutation DMA request */</span></div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;  __HAL_TIM_DISABLE_DMA(htim, TIM_DMA_COM);</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160; </div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;  <span class="comment">/* Enable the Commutation Interrupt */</span></div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;  __HAL_TIM_ENABLE_IT(htim, TIM_IT_COM);</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160; </div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(htim);</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160; </div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga8aef10325df17a0d17a3a0a7ebfae383"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8aef10325df17a0d17a3a0a7ebfae383">&#9670;&nbsp;</a></span>HAL_TIMEx_GroupChannel5()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_TIMEx_GroupChannel5 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIM__Exported__Types.html#ga6351113789ff85eed99bab88cebcc76a">TIM_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>htim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>Channels</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Group channel 5 and channel 1, 2 or 3. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">htim</td><td>TIM handle. </td></tr>
    <tr><td class="paramname">Channels</td><td>specifies the reference signal(s) the OC5REF is combined with. This parameter can be any combination of the following values: TIM_GROUPCH5_NONE: No effect of OC5REF on OC1REFC, OC2REFC and OC3REFC TIM_GROUPCH5_OC1REFC: OC1REFC is the logical AND of OC1REFC and OC5REF TIM_GROUPCH5_OC2REFC: OC2REFC is the logical AND of OC2REFC and OC5REF TIM_GROUPCH5_OC3REFC: OC3REFC is the logical AND of OC3REFC and OC5REF </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__tim__ex_8c_source.html#l02152">2152</a> of file <a class="el" href="stm32l4xx__hal__tim__ex_8c_source.html">stm32l4xx_hal_tim_ex.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;{</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;  <span class="comment">/* Check parameters */</span></div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_TIM_COMBINED3PHASEPWM_INSTANCE(htim-&gt;Instance));</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_TIM_GROUPCH5(Channels));</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160; </div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;  <span class="comment">/* Process Locked */</span></div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(htim);</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160; </div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;  htim-&gt;State = <a class="code" href="group__TIM__Exported__Types.html#ggae0994cf5970e56ca4903e9151f40010ca1ddbfef19ad0562eb8143919b710cc12">HAL_TIM_STATE_BUSY</a>;</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160; </div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;  <span class="comment">/* Clear GC5Cx bit fields */</span></div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;  htim-&gt;Instance-&gt;CCR5 &amp;= ~(TIM_CCR5_GC5C3 | TIM_CCR5_GC5C2 | TIM_CCR5_GC5C1);</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160; </div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;  <span class="comment">/* Set GC5Cx bit fields */</span></div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;  htim-&gt;Instance-&gt;CCR5 |= Channels;</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160; </div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;  <span class="comment">/* Change the htim state */</span></div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;  htim-&gt;State = <a class="code" href="group__TIM__Exported__Types.html#ggae0994cf5970e56ca4903e9151f40010ca4545554d7fa04d17e78d69d17cb7e4b3">HAL_TIM_STATE_READY</a>;</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160; </div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(htim);</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160; </div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga056fd97d3be6c60dcfa12963f6ec8aad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga056fd97d3be6c60dcfa12963f6ec8aad">&#9670;&nbsp;</a></span>HAL_TIMEx_MasterConfigSynchronization()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_TIMEx_MasterConfigSynchronization </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIM__Exported__Types.html#ga6351113789ff85eed99bab88cebcc76a">TIM_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>htim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__TIM__Exported__Types.html#structTIM__MasterConfigTypeDef">TIM_MasterConfigTypeDef</a> *&#160;</td>
          <td class="paramname"><em>sMasterConfig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures the TIM in master mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">htim</td><td>TIM handle. </td></tr>
    <tr><td class="paramname">sMasterConfig</td><td>pointer to a <a class="el" href="group__TIM__Exported__Types.html#structTIM__MasterConfigTypeDef" title="TIM Master configuration Structure definition.">TIM_MasterConfigTypeDef</a> structure that contains the selected trigger output (TRGO) and the Master/Slave mode. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__tim__ex_8c_source.html#l01632">1632</a> of file <a class="el" href="stm32l4xx__hal__tim__ex_8c_source.html">stm32l4xx_hal_tim_ex.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;{</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;  uint32_t tmpcr2;</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;  uint32_t tmpsmcr;</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160; </div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_TIM_SYNCHRO_INSTANCE(htim-&gt;Instance));</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_TIM_TRGO_SOURCE(sMasterConfig-&gt;<a class="code" href="group__TIM__Exported__Types.html#a908a6c1b46cb203c0b8b59b490e1114e">MasterOutputTrigger</a>));</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_TIM_MSM_STATE(sMasterConfig-&gt;<a class="code" href="group__TIM__Exported__Types.html#a45ddfca310a1180e19fc24b36f8e9585">MasterSlaveMode</a>));</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160; </div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;  <span class="comment">/* Check input state */</span></div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(htim);</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160; </div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;  <span class="comment">/* Change the handler state */</span></div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;  htim-&gt;State = <a class="code" href="group__TIM__Exported__Types.html#ggae0994cf5970e56ca4903e9151f40010ca1ddbfef19ad0562eb8143919b710cc12">HAL_TIM_STATE_BUSY</a>;</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160; </div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;  <span class="comment">/* Get the TIMx CR2 register value */</span></div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;  tmpcr2 = htim-&gt;Instance-&gt;CR2;</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160; </div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;  <span class="comment">/* Get the TIMx SMCR register value */</span></div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;  tmpsmcr = htim-&gt;Instance-&gt;SMCR;</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160; </div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;  <span class="comment">/* If the timer supports ADC synchronization through TRGO2, set the master mode selection 2 */</span></div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;  <span class="keywordflow">if</span> (IS_TIM_TRGO2_INSTANCE(htim-&gt;Instance))</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;  {</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_TIM_TRGO2_SOURCE(sMasterConfig-&gt;<a class="code" href="group__TIM__Exported__Types.html#a5c9db1837051b5b2927bc4d726e980fe">MasterOutputTrigger2</a>));</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160; </div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;    <span class="comment">/* Clear the MMS2 bits */</span></div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;    tmpcr2 &amp;= ~TIM_CR2_MMS2;</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;    <span class="comment">/* Select the TRGO2 source*/</span></div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    tmpcr2 |= sMasterConfig-&gt;<a class="code" href="group__TIM__Exported__Types.html#a5c9db1837051b5b2927bc4d726e980fe">MasterOutputTrigger2</a>;</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;  }</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160; </div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;  <span class="comment">/* Reset the MMS Bits */</span></div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;  tmpcr2 &amp;= ~TIM_CR2_MMS;</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;  <span class="comment">/* Select the TRGO source */</span></div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;  tmpcr2 |=  sMasterConfig-&gt;<a class="code" href="group__TIM__Exported__Types.html#a908a6c1b46cb203c0b8b59b490e1114e">MasterOutputTrigger</a>;</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160; </div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;  <span class="comment">/* Reset the MSM Bit */</span></div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;  tmpsmcr &amp;= ~TIM_SMCR_MSM;</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;  <span class="comment">/* Set master mode */</span></div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;  tmpsmcr |= sMasterConfig-&gt;<a class="code" href="group__TIM__Exported__Types.html#a45ddfca310a1180e19fc24b36f8e9585">MasterSlaveMode</a>;</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160; </div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;  <span class="comment">/* Update TIMx CR2 */</span></div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;  htim-&gt;Instance-&gt;CR2 = tmpcr2;</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160; </div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;  <span class="comment">/* Update TIMx SMCR */</span></div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;  htim-&gt;Instance-&gt;SMCR = tmpsmcr;</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160; </div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;  <span class="comment">/* Change the htim state */</span></div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;  htim-&gt;State = <a class="code" href="group__TIM__Exported__Types.html#ggae0994cf5970e56ca4903e9151f40010ca4545554d7fa04d17e78d69d17cb7e4b3">HAL_TIM_STATE_READY</a>;</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160; </div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(htim);</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160; </div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga683118282daf3aa2e319eb8eea93af31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga683118282daf3aa2e319eb8eea93af31">&#9670;&nbsp;</a></span>HAL_TIMEx_RemapConfig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_TIMEx_RemapConfig </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TIM__Exported__Types.html#ga6351113789ff85eed99bab88cebcc76a">TIM_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>htim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>Remap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief  Configures the TIMx Remapping input capabilities.
@param  htim TIM handle.
@param  Remap specifies the TIM remapping source.
@if STM32L422xx
        For TIM1, the parameter is a combination of 2 fields (field1 | field2):

                  field1 can have the following values:
           @arg TIM_TIM1_ETR_ADC1_NONE:           TIM1_ETR is not connected to any ADC1 AWD (analog watchdog)
           @arg TIM_TIM1_ETR_ADC1_AWD1:           TIM1_ETR is connected to ADC1 AWD1
           @arg TIM_TIM1_ETR_ADC1_AWD2:           TIM1_ETR is connected to ADC1 AWD2
           @arg TIM_TIM1_ETR_ADC1_AWD3:           TIM1_ETR is connected to ADC1 AWD3

                  field2 can have the following values:
           @arg TIM_TIM1_TI1_GPIO:                TIM1 TI1 is connected to GPIO
           @arg TIM_TIM1_TI1_COMP1:               TIM1 TI1 is connected to COMP1 output
</pre><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__tim__ex_8c_source.html#l02107">2107</a> of file <a class="el" href="stm32l4xx__hal__tim__ex_8c_source.html">stm32l4xx_hal_tim_ex.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;{</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;  uint32_t tmpor1 = 0U;</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;  uint32_t tmpor2 = 0U;</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160; </div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(htim);</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160; </div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;  <span class="comment">/* Check parameters */</span></div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_TIM_REMAP_INSTANCE(htim-&gt;Instance));</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_TIM_REMAP(Remap));</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160; </div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;  <span class="comment">/* Set ETR_SEL bit field (if required) */</span></div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;  <span class="keywordflow">if</span> (IS_TIM_ETRSEL_INSTANCE(htim-&gt;Instance))</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;  {</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;    tmpor2 = htim-&gt;Instance-&gt;OR2;</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;    tmpor2 &amp;= ~TIM1_OR2_ETRSEL_Msk;</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;    tmpor2 |= (Remap &amp; TIM1_OR2_ETRSEL_Msk);</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160; </div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;    <span class="comment">/* Set TIMx_OR2 */</span></div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;    htim-&gt;Instance-&gt;OR2 = tmpor2;</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;  }</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160; </div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;  <span class="comment">/* Set other remapping capabilities */</span></div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;  tmpor1 = Remap;</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;  tmpor1 &amp;= ~TIM1_OR2_ETRSEL_Msk;</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160; </div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;  <span class="comment">/* Set TIMx_OR1 */</span></div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;  htim-&gt;Instance-&gt;OR1 = tmpor1;</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160; </div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(htim);</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160; </div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="agroup__TIM__Exported__Types_html_aad8158e694a62f6c071975ee4c2e5b6a"><div class="ttname"><a href="group__TIM__Exported__Types.html#aad8158e694a62f6c071975ee4c2e5b6a">TIM_BreakDeadTimeConfigTypeDef::BreakFilter</a></div><div class="ttdeci">uint32_t BreakFilter</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__tim_8h_source.html#l00278">stm32l4xx_hal_tim.h:278</a></div></div>
<div class="ttc" id="agroup__RTCEx__Exported__Functions__Group2_html_ga3feac430acb1b5e74ad139639f3af9ca"><div class="ttname"><a href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a></div><div class="ttdeci">__HAL_UNLOCK(hrtc)</div></div>
<div class="ttc" id="agroup__TIM__Exported__Types_html_a5c9db1837051b5b2927bc4d726e980fe"><div class="ttname"><a href="group__TIM__Exported__Types.html#a5c9db1837051b5b2927bc4d726e980fe">TIM_MasterConfigTypeDef::MasterOutputTrigger2</a></div><div class="ttdeci">uint32_t MasterOutputTrigger2</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__tim_8h_source.html#l00235">stm32l4xx_hal_tim.h:235</a></div></div>
<div class="ttc" id="agroup__TIMEx__Private__Functions_html_gaf473fa38254d62a74a006a781fe0aeb8"><div class="ttname"><a href="group__TIMEx__Private__Functions.html#gaf473fa38254d62a74a006a781fe0aeb8">TIMEx_DMACommutationCplt</a></div><div class="ttdeci">void TIMEx_DMACommutationCplt(DMA_HandleTypeDef *hdma)</div><div class="ttdoc">TIM DMA Commutation callback.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__tim__ex_8c_source.html#l02302">stm32l4xx_hal_tim_ex.c:2302</a></div></div>
<div class="ttc" id="agroup__TIM__Private__Functions_html_gaa112bee5279feee040c1ea9e283f7378"><div class="ttname"><a href="group__TIM__Private__Functions.html#gaa112bee5279feee040c1ea9e283f7378">TIM_DMAError</a></div><div class="ttdeci">void TIM_DMAError(DMA_HandleTypeDef *hdma)</div><div class="ttdoc">TIM DMA error callback.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__tim_8c_source.html#l05696">stm32l4xx_hal_tim.c:5696</a></div></div>
<div class="ttc" id="agroup__TIM__Exported__Types_html_af492d4b9f5e974abb51abe58d413cd17"><div class="ttname"><a href="group__TIM__Exported__Types.html#af492d4b9f5e974abb51abe58d413cd17">TIM_BreakDeadTimeConfigTypeDef::Break2Polarity</a></div><div class="ttdeci">uint32_t Break2Polarity</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__tim_8h_source.html#l00282">stm32l4xx_hal_tim.h:282</a></div></div>
<div class="ttc" id="agroup__TIM__Exported__Types_html_ae591f2368d0be5b77d8a746e73eabe71"><div class="ttname"><a href="group__TIM__Exported__Types.html#ae591f2368d0be5b77d8a746e73eabe71">TIM_BreakDeadTimeConfigTypeDef::AutomaticOutput</a></div><div class="ttdeci">uint32_t AutomaticOutput</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__tim_8h_source.html#l00286">stm32l4xx_hal_tim.h:286</a></div></div>
<div class="ttc" id="agroup__TIM__Exported__Types_html_a49f39e31ac019b9b7a20751bfd01c6c4"><div class="ttname"><a href="group__TIM__Exported__Types.html#a49f39e31ac019b9b7a20751bfd01c6c4">TIM_BreakDeadTimeConfigTypeDef::OffStateIDLEMode</a></div><div class="ttdeci">uint32_t OffStateIDLEMode</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__tim_8h_source.html#l00268">stm32l4xx_hal_tim.h:268</a></div></div>
<div class="ttc" id="agroup__TIM__Exported__Types_html_a8962430194b43ac28a14c96dd9cc44e6"><div class="ttname"><a href="group__TIM__Exported__Types.html#a8962430194b43ac28a14c96dd9cc44e6">TIM_BreakDeadTimeConfigTypeDef::BreakState</a></div><div class="ttdeci">uint32_t BreakState</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__tim_8h_source.html#l00274">stm32l4xx_hal_tim.h:274</a></div></div>
<div class="ttc" id="agroup__RTCEx__Exported__Functions__Group2_html_ga05dcbf41f5c5e42a592e9ad9e351391e"><div class="ttname"><a href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a></div><div class="ttdeci">return HAL_OK</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__rtc__ex_8c_source.html#l00885">stm32l4xx_hal_rtc_ex.c:885</a></div></div>
<div class="ttc" id="agroup__TIM__Exported__Types_html_ab9a983671c730c9b33852c9aa60846fb"><div class="ttname"><a href="group__TIM__Exported__Types.html#ab9a983671c730c9b33852c9aa60846fb">TIM_BreakDeadTimeConfigTypeDef::Break2State</a></div><div class="ttdeci">uint32_t Break2State</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__tim_8h_source.html#l00280">stm32l4xx_hal_tim.h:280</a></div></div>
<div class="ttc" id="agroup__TIM__Exported__Types_html_ab00ae9fa5c6daa6319883863dee6e40a"><div class="ttname"><a href="group__TIM__Exported__Types.html#ab00ae9fa5c6daa6319883863dee6e40a">TIM_BreakDeadTimeConfigTypeDef::LockLevel</a></div><div class="ttdeci">uint32_t LockLevel</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__tim_8h_source.html#l00270">stm32l4xx_hal_tim.h:270</a></div></div>
<div class="ttc" id="agroup__TIMEx__Exported__Types_html_a3d1b8869f7f410dc243bdda8fc9d2fdb"><div class="ttname"><a href="group__TIMEx__Exported__Types.html#a3d1b8869f7f410dc243bdda8fc9d2fdb">TIMEx_BreakInputConfigTypeDef::Source</a></div><div class="ttdeci">uint32_t Source</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__tim__ex_8h_source.html#l00068">stm32l4xx_hal_tim_ex.h:68</a></div></div>
<div class="ttc" id="agroup__RTCEx__Exported__Functions__Group2_html_gaf0bea6a9989d50f8ffa9b2afc911fc4b"><div class="ttname"><a href="group__RTCEx__Exported__Functions__Group2.html#gaf0bea6a9989d50f8ffa9b2afc911fc4b">MODIFY_REG</a></div><div class="ttdeci">MODIFY_REG(hrtc-&gt;Instance-&gt;CR, RTC_CR_WUCKSEL,(uint32_t) WakeUpClock)</div></div>
<div class="ttc" id="agroup__TIM__Exported__Types_html_a908a6c1b46cb203c0b8b59b490e1114e"><div class="ttname"><a href="group__TIM__Exported__Types.html#a908a6c1b46cb203c0b8b59b490e1114e">TIM_MasterConfigTypeDef::MasterOutputTrigger</a></div><div class="ttdeci">uint32_t MasterOutputTrigger</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__tim_8h_source.html#l00233">stm32l4xx_hal_tim.h:233</a></div></div>
<div class="ttc" id="agroup__TIM__Exported__Types_html_a5e97751b5e397414e2a5120eb5cef7c6"><div class="ttname"><a href="group__TIM__Exported__Types.html#a5e97751b5e397414e2a5120eb5cef7c6">TIM_BreakDeadTimeConfigTypeDef::OffStateRunMode</a></div><div class="ttdeci">uint32_t OffStateRunMode</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__tim_8h_source.html#l00266">stm32l4xx_hal_tim.h:266</a></div></div>
<div class="ttc" id="agroup__TIM__Exported__Types_html_a45ddfca310a1180e19fc24b36f8e9585"><div class="ttname"><a href="group__TIM__Exported__Types.html#a45ddfca310a1180e19fc24b36f8e9585">TIM_MasterConfigTypeDef::MasterSlaveMode</a></div><div class="ttdeci">uint32_t MasterSlaveMode</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__tim_8h_source.html#l00237">stm32l4xx_hal_tim.h:237</a></div></div>
<div class="ttc" id="agroup__TIMEx__Exported__Types_html_aae44103064e81e3743526577be9e1821"><div class="ttname"><a href="group__TIMEx__Exported__Types.html#aae44103064e81e3743526577be9e1821">TIMEx_BreakInputConfigTypeDef::Enable</a></div><div class="ttdeci">uint32_t Enable</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__tim__ex_8h_source.html#l00070">stm32l4xx_hal_tim_ex.h:70</a></div></div>
<div class="ttc" id="agroup__TIM__Exported__Types_html_ggae0994cf5970e56ca4903e9151f40010ca1ddbfef19ad0562eb8143919b710cc12"><div class="ttname"><a href="group__TIM__Exported__Types.html#ggae0994cf5970e56ca4903e9151f40010ca1ddbfef19ad0562eb8143919b710cc12">HAL_TIM_STATE_BUSY</a></div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__tim_8h_source.html#l00297">stm32l4xx_hal_tim.h:297</a></div></div>
<div class="ttc" id="agroup__TIM__Exported__Types_html_a4bdc5aec84be4b728b55028491f261d4"><div class="ttname"><a href="group__TIM__Exported__Types.html#a4bdc5aec84be4b728b55028491f261d4">TIM_BreakDeadTimeConfigTypeDef::DeadTime</a></div><div class="ttdeci">uint32_t DeadTime</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__tim_8h_source.html#l00272">stm32l4xx_hal_tim.h:272</a></div></div>
<div class="ttc" id="agroup__RTCEx__Exported__Functions__Group2_html_ga88b8891e30e4b1c54fecb1235c95870d"><div class="ttname"><a href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a></div><div class="ttdeci">__HAL_LOCK(hrtc)</div></div>
<div class="ttc" id="agroup__TIM__Exported__Types_html_ae15ddbf3087f9a2129a52a1317339ea7"><div class="ttname"><a href="group__TIM__Exported__Types.html#ae15ddbf3087f9a2129a52a1317339ea7">TIM_BreakDeadTimeConfigTypeDef::BreakPolarity</a></div><div class="ttdeci">uint32_t BreakPolarity</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__tim_8h_source.html#l00276">stm32l4xx_hal_tim.h:276</a></div></div>
<div class="ttc" id="agroup__TIMEx__Private__Functions_html_ga65b7244a1ee94cf20081543377ba8d2a"><div class="ttname"><a href="group__TIMEx__Private__Functions.html#ga65b7244a1ee94cf20081543377ba8d2a">TIMEx_DMACommutationHalfCplt</a></div><div class="ttdeci">void TIMEx_DMACommutationHalfCplt(DMA_HandleTypeDef *hdma)</div><div class="ttdoc">TIM DMA Commutation half complete callback.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__tim__ex_8c_source.html#l02321">stm32l4xx_hal_tim_ex.c:2321</a></div></div>
<div class="ttc" id="agroup__TIMEx__Exported__Types_html_a5728344a45eaea5dff727979573e45e7"><div class="ttname"><a href="group__TIMEx__Exported__Types.html#a5728344a45eaea5dff727979573e45e7">TIMEx_BreakInputConfigTypeDef::Polarity</a></div><div class="ttdeci">uint32_t Polarity</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__tim__ex_8h_source.html#l00072">stm32l4xx_hal_tim_ex.h:72</a></div></div>
<div class="ttc" id="agroup__RTCEx__Exported__Functions__Group2_html_ga2b23ae77e9ce099e35aaa5e9e0daba7b"><div class="ttname"><a href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a></div><div class="ttdeci">assert_param(IS_RTC_WAKEUP_CLOCK(WakeUpClock))</div></div>
<div class="ttc" id="agroup__TIM__Exported__Types_html_a3c90aabc31a34864525dad4bd3547c86"><div class="ttname"><a href="group__TIM__Exported__Types.html#a3c90aabc31a34864525dad4bd3547c86">TIM_BreakDeadTimeConfigTypeDef::Break2Filter</a></div><div class="ttdeci">uint32_t Break2Filter</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__tim_8h_source.html#l00284">stm32l4xx_hal_tim.h:284</a></div></div>
<div class="ttc" id="agroup__TIM__Exported__Types_html_ggae0994cf5970e56ca4903e9151f40010ca4545554d7fa04d17e78d69d17cb7e4b3"><div class="ttname"><a href="group__TIM__Exported__Types.html#ggae0994cf5970e56ca4903e9151f40010ca4545554d7fa04d17e78d69d17cb7e4b3">HAL_TIM_STATE_READY</a></div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__tim_8h_source.html#l00296">stm32l4xx_hal_tim.h:296</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.16 </li>
  </ul>
</div>
</body>
</html>
