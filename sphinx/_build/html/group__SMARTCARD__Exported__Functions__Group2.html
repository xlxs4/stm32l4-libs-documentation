<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STM32L4xx_HAL_Driver: IO operation functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">STM32L4xx_HAL_Driver
   &#160;<span id="projectnumber">1.14.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__SMARTCARD__Exported__Functions__Group2.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">IO operation functions<div class="ingroups"><a class="el" href="group__STM32L4xx__HAL__Driver.html">STM32L4xx_HAL_Driver</a> &raquo; <a class="el" href="group__SMARTCARD.html">SMARTCARD</a><a class="el" href="group__STM32L4xx__HAL__Driver.html">STM32L4xx_HAL_Driver</a> &raquo; <a class="el" href="group__SMARTCARD.html">SMARTCARD</a> &raquo;  &#124; <a class="el" href="group__SMARTCARD__Exported__Functions.html">SMARTCARD Exported Functions</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>SMARTCARD Transmit and Receive functions.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga6fc4e733cba772df5e60580fb58135bd"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMARTCARD__Exported__Functions__Group2.html#ga6fc4e733cba772df5e60580fb58135bd">HAL_SMARTCARD_Transmit</a> (<a class="el" href="group__SMARTCARD__Exported__Types.html#gacac4738e024e074300b4d9a279a2b644">SMARTCARD_HandleTypeDef</a> *hsmartcard, uint8_t *pData, uint16_t Size, uint32_t Timeout)</td></tr>
<tr class="memdesc:ga6fc4e733cba772df5e60580fb58135bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an amount of data in blocking mode.  <a href="group__SMARTCARD__Exported__Functions__Group2.html#ga6fc4e733cba772df5e60580fb58135bd">More...</a><br /></td></tr>
<tr class="separator:ga6fc4e733cba772df5e60580fb58135bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga76a737413971e6a9f9b73d4d5417ded7"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMARTCARD__Exported__Functions__Group2.html#ga76a737413971e6a9f9b73d4d5417ded7">HAL_SMARTCARD_Receive</a> (<a class="el" href="group__SMARTCARD__Exported__Types.html#gacac4738e024e074300b4d9a279a2b644">SMARTCARD_HandleTypeDef</a> *hsmartcard, uint8_t *pData, uint16_t Size, uint32_t Timeout)</td></tr>
<tr class="memdesc:ga76a737413971e6a9f9b73d4d5417ded7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive an amount of data in blocking mode.  <a href="group__SMARTCARD__Exported__Functions__Group2.html#ga76a737413971e6a9f9b73d4d5417ded7">More...</a><br /></td></tr>
<tr class="separator:ga76a737413971e6a9f9b73d4d5417ded7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5ead500d4e2ca29e0a11d18db76a45b2"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMARTCARD__Exported__Functions__Group2.html#ga5ead500d4e2ca29e0a11d18db76a45b2">HAL_SMARTCARD_Transmit_IT</a> (<a class="el" href="group__SMARTCARD__Exported__Types.html#gacac4738e024e074300b4d9a279a2b644">SMARTCARD_HandleTypeDef</a> *hsmartcard, uint8_t *pData, uint16_t Size)</td></tr>
<tr class="memdesc:ga5ead500d4e2ca29e0a11d18db76a45b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an amount of data in interrupt mode.  <a href="group__SMARTCARD__Exported__Functions__Group2.html#ga5ead500d4e2ca29e0a11d18db76a45b2">More...</a><br /></td></tr>
<tr class="separator:ga5ead500d4e2ca29e0a11d18db76a45b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8a93d1c5edc3146acb660a0c21428cc9"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMARTCARD__Exported__Functions__Group2.html#ga8a93d1c5edc3146acb660a0c21428cc9">HAL_SMARTCARD_Receive_IT</a> (<a class="el" href="group__SMARTCARD__Exported__Types.html#gacac4738e024e074300b4d9a279a2b644">SMARTCARD_HandleTypeDef</a> *hsmartcard, uint8_t *pData, uint16_t Size)</td></tr>
<tr class="memdesc:ga8a93d1c5edc3146acb660a0c21428cc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive an amount of data in interrupt mode.  <a href="group__SMARTCARD__Exported__Functions__Group2.html#ga8a93d1c5edc3146acb660a0c21428cc9">More...</a><br /></td></tr>
<tr class="separator:ga8a93d1c5edc3146acb660a0c21428cc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadffc6db4ad0eb7d377291c593247ccd3"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMARTCARD__Exported__Functions__Group2.html#gadffc6db4ad0eb7d377291c593247ccd3">HAL_SMARTCARD_Transmit_DMA</a> (<a class="el" href="group__SMARTCARD__Exported__Types.html#gacac4738e024e074300b4d9a279a2b644">SMARTCARD_HandleTypeDef</a> *hsmartcard, uint8_t *pData, uint16_t Size)</td></tr>
<tr class="memdesc:gadffc6db4ad0eb7d377291c593247ccd3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an amount of data in DMA mode.  <a href="group__SMARTCARD__Exported__Functions__Group2.html#gadffc6db4ad0eb7d377291c593247ccd3">More...</a><br /></td></tr>
<tr class="separator:gadffc6db4ad0eb7d377291c593247ccd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab6badb09777dd216620cb6b495155a74"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMARTCARD__Exported__Functions__Group2.html#gab6badb09777dd216620cb6b495155a74">HAL_SMARTCARD_Receive_DMA</a> (<a class="el" href="group__SMARTCARD__Exported__Types.html#gacac4738e024e074300b4d9a279a2b644">SMARTCARD_HandleTypeDef</a> *hsmartcard, uint8_t *pData, uint16_t Size)</td></tr>
<tr class="memdesc:gab6badb09777dd216620cb6b495155a74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive an amount of data in DMA mode.  <a href="group__SMARTCARD__Exported__Functions__Group2.html#gab6badb09777dd216620cb6b495155a74">More...</a><br /></td></tr>
<tr class="separator:gab6badb09777dd216620cb6b495155a74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2c29580bd1fb43968eda4258e68306b2"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMARTCARD__Exported__Functions__Group2.html#ga2c29580bd1fb43968eda4258e68306b2">HAL_SMARTCARD_Abort</a> (<a class="el" href="group__SMARTCARD__Exported__Types.html#gacac4738e024e074300b4d9a279a2b644">SMARTCARD_HandleTypeDef</a> *hsmartcard)</td></tr>
<tr class="memdesc:ga2c29580bd1fb43968eda4258e68306b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Abort ongoing transfers (blocking mode).  <a href="group__SMARTCARD__Exported__Functions__Group2.html#ga2c29580bd1fb43968eda4258e68306b2">More...</a><br /></td></tr>
<tr class="separator:ga2c29580bd1fb43968eda4258e68306b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf2d47b16c647eaf4953efc99ecda3b30"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMARTCARD__Exported__Functions__Group2.html#gaf2d47b16c647eaf4953efc99ecda3b30">HAL_SMARTCARD_AbortTransmit</a> (<a class="el" href="group__SMARTCARD__Exported__Types.html#gacac4738e024e074300b4d9a279a2b644">SMARTCARD_HandleTypeDef</a> *hsmartcard)</td></tr>
<tr class="memdesc:gaf2d47b16c647eaf4953efc99ecda3b30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Abort ongoing Transmit transfer (blocking mode).  <a href="group__SMARTCARD__Exported__Functions__Group2.html#gaf2d47b16c647eaf4953efc99ecda3b30">More...</a><br /></td></tr>
<tr class="separator:gaf2d47b16c647eaf4953efc99ecda3b30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8114ab4742e16ea8dd2f8f13bca35166"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMARTCARD__Exported__Functions__Group2.html#ga8114ab4742e16ea8dd2f8f13bca35166">HAL_SMARTCARD_AbortReceive</a> (<a class="el" href="group__SMARTCARD__Exported__Types.html#gacac4738e024e074300b4d9a279a2b644">SMARTCARD_HandleTypeDef</a> *hsmartcard)</td></tr>
<tr class="memdesc:ga8114ab4742e16ea8dd2f8f13bca35166"><td class="mdescLeft">&#160;</td><td class="mdescRight">Abort ongoing Receive transfer (blocking mode).  <a href="group__SMARTCARD__Exported__Functions__Group2.html#ga8114ab4742e16ea8dd2f8f13bca35166">More...</a><br /></td></tr>
<tr class="separator:ga8114ab4742e16ea8dd2f8f13bca35166"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1e498821b44eac06aba2feb772795f22"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMARTCARD__Exported__Functions__Group2.html#ga1e498821b44eac06aba2feb772795f22">HAL_SMARTCARD_Abort_IT</a> (<a class="el" href="group__SMARTCARD__Exported__Types.html#gacac4738e024e074300b4d9a279a2b644">SMARTCARD_HandleTypeDef</a> *hsmartcard)</td></tr>
<tr class="memdesc:ga1e498821b44eac06aba2feb772795f22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Abort ongoing transfers (Interrupt mode).  <a href="group__SMARTCARD__Exported__Functions__Group2.html#ga1e498821b44eac06aba2feb772795f22">More...</a><br /></td></tr>
<tr class="separator:ga1e498821b44eac06aba2feb772795f22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad5efa16891d71dbabac7b85903850540"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMARTCARD__Exported__Functions__Group2.html#gad5efa16891d71dbabac7b85903850540">HAL_SMARTCARD_AbortTransmit_IT</a> (<a class="el" href="group__SMARTCARD__Exported__Types.html#gacac4738e024e074300b4d9a279a2b644">SMARTCARD_HandleTypeDef</a> *hsmartcard)</td></tr>
<tr class="memdesc:gad5efa16891d71dbabac7b85903850540"><td class="mdescLeft">&#160;</td><td class="mdescRight">Abort ongoing Transmit transfer (Interrupt mode).  <a href="group__SMARTCARD__Exported__Functions__Group2.html#gad5efa16891d71dbabac7b85903850540">More...</a><br /></td></tr>
<tr class="separator:gad5efa16891d71dbabac7b85903850540"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac7b4a39a5803372849bdb7e2a73bf072"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMARTCARD__Exported__Functions__Group2.html#gac7b4a39a5803372849bdb7e2a73bf072">HAL_SMARTCARD_AbortReceive_IT</a> (<a class="el" href="group__SMARTCARD__Exported__Types.html#gacac4738e024e074300b4d9a279a2b644">SMARTCARD_HandleTypeDef</a> *hsmartcard)</td></tr>
<tr class="memdesc:gac7b4a39a5803372849bdb7e2a73bf072"><td class="mdescLeft">&#160;</td><td class="mdescRight">Abort ongoing Receive transfer (Interrupt mode).  <a href="group__SMARTCARD__Exported__Functions__Group2.html#gac7b4a39a5803372849bdb7e2a73bf072">More...</a><br /></td></tr>
<tr class="separator:gac7b4a39a5803372849bdb7e2a73bf072"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa00666aff489f8f1e3a3e45e54a3724e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMARTCARD__Exported__Functions__Group2.html#gaa00666aff489f8f1e3a3e45e54a3724e">HAL_SMARTCARD_IRQHandler</a> (<a class="el" href="group__SMARTCARD__Exported__Types.html#gacac4738e024e074300b4d9a279a2b644">SMARTCARD_HandleTypeDef</a> *hsmartcard)</td></tr>
<tr class="memdesc:gaa00666aff489f8f1e3a3e45e54a3724e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle SMARTCARD interrupt requests.  <a href="group__SMARTCARD__Exported__Functions__Group2.html#gaa00666aff489f8f1e3a3e45e54a3724e">More...</a><br /></td></tr>
<tr class="separator:gaa00666aff489f8f1e3a3e45e54a3724e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab066d2ff56a13d83832de0230e8a6fa5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMARTCARD__Exported__Functions__Group2.html#gab066d2ff56a13d83832de0230e8a6fa5">HAL_SMARTCARD_TxCpltCallback</a> (<a class="el" href="group__SMARTCARD__Exported__Types.html#gacac4738e024e074300b4d9a279a2b644">SMARTCARD_HandleTypeDef</a> *hsmartcard)</td></tr>
<tr class="memdesc:gab066d2ff56a13d83832de0230e8a6fa5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tx Transfer completed callback.  <a href="group__SMARTCARD__Exported__Functions__Group2.html#gab066d2ff56a13d83832de0230e8a6fa5">More...</a><br /></td></tr>
<tr class="separator:gab066d2ff56a13d83832de0230e8a6fa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga862295ff74fcfcd166c6ab6015d5acba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMARTCARD__Exported__Functions__Group2.html#ga862295ff74fcfcd166c6ab6015d5acba">HAL_SMARTCARD_RxCpltCallback</a> (<a class="el" href="group__SMARTCARD__Exported__Types.html#gacac4738e024e074300b4d9a279a2b644">SMARTCARD_HandleTypeDef</a> *hsmartcard)</td></tr>
<tr class="memdesc:ga862295ff74fcfcd166c6ab6015d5acba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rx Transfer completed callback.  <a href="group__SMARTCARD__Exported__Functions__Group2.html#ga862295ff74fcfcd166c6ab6015d5acba">More...</a><br /></td></tr>
<tr class="separator:ga862295ff74fcfcd166c6ab6015d5acba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga826161c7b0dda5348dfcccc432337974"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMARTCARD__Exported__Functions__Group2.html#ga826161c7b0dda5348dfcccc432337974">HAL_SMARTCARD_ErrorCallback</a> (<a class="el" href="group__SMARTCARD__Exported__Types.html#gacac4738e024e074300b4d9a279a2b644">SMARTCARD_HandleTypeDef</a> *hsmartcard)</td></tr>
<tr class="memdesc:ga826161c7b0dda5348dfcccc432337974"><td class="mdescLeft">&#160;</td><td class="mdescRight">SMARTCARD error callback.  <a href="group__SMARTCARD__Exported__Functions__Group2.html#ga826161c7b0dda5348dfcccc432337974">More...</a><br /></td></tr>
<tr class="separator:ga826161c7b0dda5348dfcccc432337974"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4a043795431511385008fc1a2298fdf0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMARTCARD__Exported__Functions__Group2.html#ga4a043795431511385008fc1a2298fdf0">HAL_SMARTCARD_AbortCpltCallback</a> (<a class="el" href="group__SMARTCARD__Exported__Types.html#gacac4738e024e074300b4d9a279a2b644">SMARTCARD_HandleTypeDef</a> *hsmartcard)</td></tr>
<tr class="memdesc:ga4a043795431511385008fc1a2298fdf0"><td class="mdescLeft">&#160;</td><td class="mdescRight">SMARTCARD Abort Complete callback.  <a href="group__SMARTCARD__Exported__Functions__Group2.html#ga4a043795431511385008fc1a2298fdf0">More...</a><br /></td></tr>
<tr class="separator:ga4a043795431511385008fc1a2298fdf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8e8b5ceca4b2c2ea89cd1532483b226e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMARTCARD__Exported__Functions__Group2.html#ga8e8b5ceca4b2c2ea89cd1532483b226e">HAL_SMARTCARD_AbortTransmitCpltCallback</a> (<a class="el" href="group__SMARTCARD__Exported__Types.html#gacac4738e024e074300b4d9a279a2b644">SMARTCARD_HandleTypeDef</a> *hsmartcard)</td></tr>
<tr class="memdesc:ga8e8b5ceca4b2c2ea89cd1532483b226e"><td class="mdescLeft">&#160;</td><td class="mdescRight">SMARTCARD Abort Complete callback.  <a href="group__SMARTCARD__Exported__Functions__Group2.html#ga8e8b5ceca4b2c2ea89cd1532483b226e">More...</a><br /></td></tr>
<tr class="separator:ga8e8b5ceca4b2c2ea89cd1532483b226e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga46fee0623c40c3dd841408639d2eadd3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMARTCARD__Exported__Functions__Group2.html#ga46fee0623c40c3dd841408639d2eadd3">HAL_SMARTCARD_AbortReceiveCpltCallback</a> (<a class="el" href="group__SMARTCARD__Exported__Types.html#gacac4738e024e074300b4d9a279a2b644">SMARTCARD_HandleTypeDef</a> *hsmartcard)</td></tr>
<tr class="memdesc:ga46fee0623c40c3dd841408639d2eadd3"><td class="mdescLeft">&#160;</td><td class="mdescRight">SMARTCARD Abort Receive Complete callback.  <a href="group__SMARTCARD__Exported__Functions__Group2.html#ga46fee0623c40c3dd841408639d2eadd3">More...</a><br /></td></tr>
<tr class="separator:ga46fee0623c40c3dd841408639d2eadd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>SMARTCARD Transmit and Receive functions. </p>
<pre class="fragment">  ==============================================================================
                         ##### IO operation functions #####
  ==============================================================================
  [..]
    This subsection provides a set of functions allowing to manage the SMARTCARD data transfers.

  [..]
    Smartcard is a single wire half duplex communication protocol.
    The Smartcard interface is designed to support asynchronous protocol Smartcards as
    defined in the ISO 7816-3 standard. The USART should be configured as:
    (+) 8 bits plus parity: where M=1 and PCE=1 in the USART_CR1 register
    (+) 1.5 stop bits when transmitting and receiving: where STOP=11 in the USART_CR2 register.

  [..]
    (+) There are two modes of transfer:
        (++) Blocking mode: The communication is performed in polling mode.
             The HAL status of all data processing is returned by the same function
             after finishing transfer.
        (++) Non-Blocking mode: The communication is performed using Interrupts
             or DMA, the relevant API's return the HAL status.
             The end of the data processing will be indicated through the
             dedicated SMARTCARD IRQ when using Interrupt mode or the DMA IRQ when
             using DMA mode.
        (++) The HAL_SMARTCARD_TxCpltCallback(), HAL_SMARTCARD_RxCpltCallback() user callbacks
             will be executed respectively at the end of the Transmit or Receive process
             The HAL_SMARTCARD_ErrorCallback() user callback will be executed when a communication
             error is detected.

    (+) Blocking mode APIs are :
        (++) HAL_SMARTCARD_Transmit()
        (++) HAL_SMARTCARD_Receive()

    (+) Non Blocking mode APIs with Interrupt are :
        (++) HAL_SMARTCARD_Transmit_IT()
        (++) HAL_SMARTCARD_Receive_IT()
        (++) HAL_SMARTCARD_IRQHandler()

    (+) Non Blocking mode functions with DMA are :
        (++) HAL_SMARTCARD_Transmit_DMA()
        (++) HAL_SMARTCARD_Receive_DMA()

    (+) A set of Transfer Complete Callbacks are provided in non Blocking mode:
        (++) HAL_SMARTCARD_TxCpltCallback()
        (++) HAL_SMARTCARD_RxCpltCallback()
        (++) HAL_SMARTCARD_ErrorCallback()

    (#) Non-Blocking mode transfers could be aborted using Abort API's :
        (+) HAL_SMARTCARD_Abort()
        (+) HAL_SMARTCARD_AbortTransmit()
        (+) HAL_SMARTCARD_AbortReceive()
        (+) HAL_SMARTCARD_Abort_IT()
        (+) HAL_SMARTCARD_AbortTransmit_IT()
        (+) HAL_SMARTCARD_AbortReceive_IT()

    (#) For Abort services based on interrupts (HAL_SMARTCARD_Abortxxx_IT), a set of Abort Complete Callbacks are provided:
        (+) HAL_SMARTCARD_AbortCpltCallback()
        (+) HAL_SMARTCARD_AbortTransmitCpltCallback()
        (+) HAL_SMARTCARD_AbortReceiveCpltCallback()

    (#) In Non-Blocking mode transfers, possible errors are split into 2 categories.
        Errors are handled as follows :
       (+) Error is considered as Recoverable and non blocking : Transfer could go till end, but error severity is
           to be evaluated by user : this concerns Frame Error, Parity Error or Noise Error in Interrupt mode reception .
           Received character is then retrieved and stored in Rx buffer, Error code is set to allow user to identify error type,
           and HAL_SMARTCARD_ErrorCallback() user callback is executed. Transfer is kept ongoing on SMARTCARD side.
           If user wants to abort it, Abort services should be called by user.
       (+) Error is considered as Blocking : Transfer could not be completed properly and is aborted.
           This concerns Frame Error in Interrupt mode tranmission, Overrun Error in Interrupt mode reception and all errors in DMA mode.
           Error code is set to allow user to identify error type, and HAL_SMARTCARD_ErrorCallback() user callback is executed.</pre> <h2 class="groupheader">Function Documentation</h2>
<a id="ga2c29580bd1fb43968eda4258e68306b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2c29580bd1fb43968eda4258e68306b2">&#9670;&nbsp;</a></span>HAL_SMARTCARD_Abort()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_SMARTCARD_Abort </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__SMARTCARD__Exported__Types.html#gacac4738e024e074300b4d9a279a2b644">SMARTCARD_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hsmartcard</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Abort ongoing transfers (blocking mode). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hsmartcard</td><td>Pointer to a SMARTCARD_HandleTypeDef structure that contains the configuration information for the specified SMARTCARD module. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This procedure could be used for aborting any ongoing transfer started in Interrupt or DMA mode. This procedure performs following operations :<ul>
<li>Disable SMARTCARD Interrupts (Tx and Rx)</li>
<li>Disable the DMA transfer in the peripheral register (if enabled)</li>
<li>Abort DMA transfer by calling HAL_DMA_Abort (in case of transfer in DMA mode)</li>
<li>Set handle State to READY </li>
</ul>
</dd>
<dd>
This procedure is executed in blocking mode : when exiting function, Abort is considered as completed. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__smartcard_8c_source.html#l01318">1318</a> of file <a class="el" href="stm32l4xx__hal__smartcard_8c_source.html">stm32l4xx_hal_smartcard.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;{</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;<span class="preprocessor">#if defined(USART_CR1_FIFOEN)</span></div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;  <span class="comment">/* Disable RTOIE, EOBIE, TXEIE, TCIE, RXNE, PE, RXFT, TXFT and ERR (Frame error, noise error, overrun error) interrupts */</span></div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR1,</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;            (USART_CR1_RXNEIE_RXFNEIE | USART_CR1_PEIE | USART_CR1_TXEIE_TXFNFIE | USART_CR1_TCIE | USART_CR1_RTOIE |</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;             USART_CR1_EOBIE));</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, (USART_CR3_EIE | USART_CR3_RXFTIE | USART_CR3_TXFTIE));</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;  <span class="comment">/* Disable RTOIE, EOBIE, TXEIE, TCIE, RXNE, PE and ERR (Frame error, noise error, overrun error) interrupts */</span></div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR1,</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;            (USART_CR1_RXNEIE | USART_CR1_PEIE | USART_CR1_TXEIE | USART_CR1_TCIE | USART_CR1_RTOIE | USART_CR1_EOBIE));</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_EIE);</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR1_FIFOEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160; </div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;  <span class="comment">/* Disable the SMARTCARD DMA Tx request if enabled */</span></div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;  <span class="keywordflow">if</span> (HAL_IS_BIT_SET(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_DMAT))</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;  {</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_DMAT);</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160; </div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    <span class="comment">/* Abort the SMARTCARD DMA Tx channel : use blocking DMA Abort API (no callback) */</span></div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    <span class="keywordflow">if</span> (hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ad4f91901fc66a21696bc34544bf0e8ae">hdmatx</a> != NULL)</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    {</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;      <span class="comment">/* Set the SMARTCARD DMA Abort callback to Null.</span></div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;<span class="comment">         No call back execution at end of DMA abort procedure */</span></div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;      hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ad4f91901fc66a21696bc34544bf0e8ae">hdmatx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a5866f59e3a12760e559c4547ebf19d37">XferAbortCallback</a> = NULL;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160; </div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="group__DMA__Exported__Functions__Group2.html#ga001f9fb04328a7460f9ff16908ff987c">HAL_DMA_Abort</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ad4f91901fc66a21696bc34544bf0e8ae">hdmatx</a>) != <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;      {</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__DMA__Exported__Functions__Group3.html#gabc0735694a0dd08e352b796d7fa7634f">HAL_DMA_GetError</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ad4f91901fc66a21696bc34544bf0e8ae">hdmatx</a>) == HAL_DMA_ERROR_TIMEOUT)</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;        {</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;          <span class="comment">/* Set error code to DMA */</span></div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;          hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#aa101608d41d5567812b9eeab2bf6dcd0">ErrorCode</a> = HAL_SMARTCARD_ERROR_DMA;</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160; </div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;          <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;        }</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;      }</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    }</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;  }</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160; </div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;  <span class="comment">/* Disable the SMARTCARD DMA Rx request if enabled */</span></div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;  <span class="keywordflow">if</span> (HAL_IS_BIT_SET(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_DMAR))</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;  {</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_DMAR);</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160; </div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    <span class="comment">/* Abort the SMARTCARD DMA Rx channel : use blocking DMA Abort API (no callback) */</span></div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    <span class="keywordflow">if</span> (hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a59e5bc292232864a5d7e649aec647da1">hdmarx</a> != NULL)</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    {</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;      <span class="comment">/* Set the SMARTCARD DMA Abort callback to Null.</span></div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;<span class="comment">         No call back execution at end of DMA abort procedure */</span></div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;      hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a59e5bc292232864a5d7e649aec647da1">hdmarx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a5866f59e3a12760e559c4547ebf19d37">XferAbortCallback</a> = NULL;</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160; </div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="group__DMA__Exported__Functions__Group2.html#ga001f9fb04328a7460f9ff16908ff987c">HAL_DMA_Abort</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a59e5bc292232864a5d7e649aec647da1">hdmarx</a>) != <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;      {</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__DMA__Exported__Functions__Group3.html#gabc0735694a0dd08e352b796d7fa7634f">HAL_DMA_GetError</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a59e5bc292232864a5d7e649aec647da1">hdmarx</a>) == HAL_DMA_ERROR_TIMEOUT)</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;        {</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;          <span class="comment">/* Set error code to DMA */</span></div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;          hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#aa101608d41d5567812b9eeab2bf6dcd0">ErrorCode</a> = HAL_SMARTCARD_ERROR_DMA;</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160; </div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;          <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;        }</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;      }</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    }</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;  }</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160; </div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;  <span class="comment">/* Reset Tx and Rx transfer counters */</span></div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;  hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a651e1499c1bb95e664ad3035da4d1ba5">TxXferCount</a> = 0U;</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;  hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ab27372badf08f127c2b994b641909d4c">RxXferCount</a> = 0U;</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160; </div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;  <span class="comment">/* Clear the Error flags in the ICR register */</span></div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;  __HAL_SMARTCARD_CLEAR_FLAG(hsmartcard,</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;                             SMARTCARD_CLEAR_OREF | SMARTCARD_CLEAR_NEF | SMARTCARD_CLEAR_PEF | SMARTCARD_CLEAR_FEF | SMARTCARD_CLEAR_RTOF |</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;                             SMARTCARD_CLEAR_EOBF);</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160; </div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  <span class="comment">/* Restore hsmartcard-&gt;gState and hsmartcard-&gt;RxState to Ready */</span></div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;  hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ab2ef55c738d87c61cca405b5d373527b">gState</a>  = HAL_SMARTCARD_STATE_READY;</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;  hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#abc8f87305236c2c667d6d33f71743bf5">RxState</a> = HAL_SMARTCARD_STATE_READY;</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160; </div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;  <span class="comment">/* Reset Handle ErrorCode to No Error */</span></div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;  hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#aa101608d41d5567812b9eeab2bf6dcd0">ErrorCode</a> = HAL_SMARTCARD_ERROR_NONE;</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160; </div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga1e498821b44eac06aba2feb772795f22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1e498821b44eac06aba2feb772795f22">&#9670;&nbsp;</a></span>HAL_SMARTCARD_Abort_IT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_SMARTCARD_Abort_IT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__SMARTCARD__Exported__Types.html#gacac4738e024e074300b4d9a279a2b644">SMARTCARD_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hsmartcard</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Abort ongoing transfers (Interrupt mode). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hsmartcard</td><td>Pointer to a SMARTCARD_HandleTypeDef structure that contains the configuration information for the specified SMARTCARD module. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This procedure could be used for aborting any ongoing transfer started in Interrupt or DMA mode. This procedure performs following operations :<ul>
<li>Disable SMARTCARD Interrupts (Tx and Rx)</li>
<li>Disable the DMA transfer in the peripheral register (if enabled)</li>
<li>Abort DMA transfer by calling HAL_DMA_Abort_IT (in case of transfer in DMA mode)</li>
<li>Set handle State to READY</li>
<li>At abort completion, call user abort complete callback </li>
</ul>
</dd>
<dd>
This procedure is executed in Interrupt mode, meaning that abort procedure could be considered as completed only when user abort complete callback is executed (not when exiting function). </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__smartcard_8c_source.html#l01556">1556</a> of file <a class="el" href="stm32l4xx__hal__smartcard_8c_source.html">stm32l4xx_hal_smartcard.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;{</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;  uint32_t abortcplt = 1U;</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160; </div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;<span class="preprocessor">#if defined(USART_CR1_FIFOEN)</span></div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;  <span class="comment">/* Disable RTOIE, EOBIE, TXEIE, TCIE, RXNE, PE, RXFT, TXFT and  ERR (Frame error, noise error, overrun error) interrupts */</span></div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR1,</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;            (USART_CR1_RXNEIE_RXFNEIE | USART_CR1_PEIE | USART_CR1_TXEIE_TXFNFIE | USART_CR1_TCIE | USART_CR1_RTOIE |</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;             USART_CR1_EOBIE));</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, (USART_CR3_EIE | USART_CR3_RXFTIE | USART_CR3_TXFTIE));</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;  <span class="comment">/* Disable RTOIE, EOBIE, TXEIE, TCIE, RXNE, PE and ERR (Frame error, noise error, overrun error) interrupts */</span></div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR1,</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;            (USART_CR1_RXNEIE | USART_CR1_PEIE | USART_CR1_TXEIE | USART_CR1_TCIE | USART_CR1_RTOIE | USART_CR1_EOBIE));</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_EIE);</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR1_FIFOEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160; </div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;  <span class="comment">/* If DMA Tx and/or DMA Rx Handles are associated to SMARTCARD Handle, DMA Abort complete callbacks should be initialised</span></div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;<span class="comment">     before any call to DMA Abort functions */</span></div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;  <span class="comment">/* DMA Tx Handle is valid */</span></div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;  <span class="keywordflow">if</span> (hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ad4f91901fc66a21696bc34544bf0e8ae">hdmatx</a> != NULL)</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;  {</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;    <span class="comment">/* Set DMA Abort Complete callback if SMARTCARD DMA Tx request if enabled.</span></div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;<span class="comment">       Otherwise, set it to NULL */</span></div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    <span class="keywordflow">if</span> (HAL_IS_BIT_SET(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_DMAT))</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;    {</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;      hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ad4f91901fc66a21696bc34544bf0e8ae">hdmatx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a5866f59e3a12760e559c4547ebf19d37">XferAbortCallback</a> = <a class="code" href="group__SMARTCARD__Private__Functions.html#ga0dac869961b66a9924f1f8bebb28695e">SMARTCARD_DMATxAbortCallback</a>;</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    }</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;    {</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;      hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ad4f91901fc66a21696bc34544bf0e8ae">hdmatx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a5866f59e3a12760e559c4547ebf19d37">XferAbortCallback</a> = NULL;</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;    }</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;  }</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;  <span class="comment">/* DMA Rx Handle is valid */</span></div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;  <span class="keywordflow">if</span> (hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a59e5bc292232864a5d7e649aec647da1">hdmarx</a> != NULL)</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;  {</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;    <span class="comment">/* Set DMA Abort Complete callback if SMARTCARD DMA Rx request if enabled.</span></div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;<span class="comment">       Otherwise, set it to NULL */</span></div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    <span class="keywordflow">if</span> (HAL_IS_BIT_SET(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_DMAR))</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    {</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;      hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a59e5bc292232864a5d7e649aec647da1">hdmarx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a5866f59e3a12760e559c4547ebf19d37">XferAbortCallback</a> = <a class="code" href="group__SMARTCARD__Private__Functions.html#gaf125fea41144682c78c2c0824af35776">SMARTCARD_DMARxAbortCallback</a>;</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    }</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;    {</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;      hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a59e5bc292232864a5d7e649aec647da1">hdmarx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a5866f59e3a12760e559c4547ebf19d37">XferAbortCallback</a> = NULL;</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;    }</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;  }</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160; </div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;  <span class="comment">/* Disable the SMARTCARD DMA Tx request if enabled */</span></div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;  <span class="keywordflow">if</span> (HAL_IS_BIT_SET(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_DMAT))</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;  {</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;    <span class="comment">/* Disable DMA Tx at UART level */</span></div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_DMAT);</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160; </div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    <span class="comment">/* Abort the SMARTCARD DMA Tx channel : use non blocking DMA Abort API (callback) */</span></div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    <span class="keywordflow">if</span> (hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ad4f91901fc66a21696bc34544bf0e8ae">hdmatx</a> != NULL)</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    {</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;      <span class="comment">/* SMARTCARD Tx DMA Abort callback has already been initialised :</span></div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;<span class="comment">         will lead to call HAL_SMARTCARD_AbortCpltCallback() at end of DMA abort procedure */</span></div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160; </div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;      <span class="comment">/* Abort DMA TX */</span></div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="group__DMA__Exported__Functions__Group2.html#ga6677d7e614747341a58ffd7a048fd390">HAL_DMA_Abort_IT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ad4f91901fc66a21696bc34544bf0e8ae">hdmatx</a>) != <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;      {</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;        hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ad4f91901fc66a21696bc34544bf0e8ae">hdmatx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a5866f59e3a12760e559c4547ebf19d37">XferAbortCallback</a> = NULL;</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;      }</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;      {</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;        abortcplt = 0U;</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;      }</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;    }</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;  }</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160; </div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;  <span class="comment">/* Disable the SMARTCARD DMA Rx request if enabled */</span></div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;  <span class="keywordflow">if</span> (HAL_IS_BIT_SET(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_DMAR))</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;  {</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_DMAR);</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160; </div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    <span class="comment">/* Abort the SMARTCARD DMA Rx channel : use non blocking DMA Abort API (callback) */</span></div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;    <span class="keywordflow">if</span> (hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a59e5bc292232864a5d7e649aec647da1">hdmarx</a> != NULL)</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;    {</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;      <span class="comment">/* SMARTCARD Rx DMA Abort callback has already been initialised :</span></div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;<span class="comment">         will lead to call HAL_SMARTCARD_AbortCpltCallback() at end of DMA abort procedure */</span></div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160; </div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;      <span class="comment">/* Abort DMA RX */</span></div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="group__DMA__Exported__Functions__Group2.html#ga6677d7e614747341a58ffd7a048fd390">HAL_DMA_Abort_IT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a59e5bc292232864a5d7e649aec647da1">hdmarx</a>) != <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;      {</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;        hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a59e5bc292232864a5d7e649aec647da1">hdmarx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a5866f59e3a12760e559c4547ebf19d37">XferAbortCallback</a> = NULL;</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;        abortcplt = 1U;</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;      }</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;      {</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;        abortcplt = 0U;</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;      }</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;    }</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;  }</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160; </div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;  <span class="comment">/* if no DMA abort complete callback execution is required =&gt; call user Abort Complete callback */</span></div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;  <span class="keywordflow">if</span> (abortcplt == 1U)</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;  {</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    <span class="comment">/* Reset Tx and Rx transfer counters */</span></div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a651e1499c1bb95e664ad3035da4d1ba5">TxXferCount</a> = 0U;</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ab27372badf08f127c2b994b641909d4c">RxXferCount</a> = 0U;</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160; </div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    <span class="comment">/* Clear ISR function pointers */</span></div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ada56b61f74c2dcf993fde53a8ca83807">RxISR</a> = NULL;</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a92823278ce4cb376e3d3af5065a5d4ad">TxISR</a> = NULL;</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160; </div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;    <span class="comment">/* Reset errorCode */</span></div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#aa101608d41d5567812b9eeab2bf6dcd0">ErrorCode</a> = HAL_SMARTCARD_ERROR_NONE;</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160; </div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    <span class="comment">/* Clear the Error flags in the ICR register */</span></div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    __HAL_SMARTCARD_CLEAR_FLAG(hsmartcard,</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;                               SMARTCARD_CLEAR_OREF | SMARTCARD_CLEAR_NEF | SMARTCARD_CLEAR_PEF | SMARTCARD_CLEAR_FEF | SMARTCARD_CLEAR_RTOF |</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;                               SMARTCARD_CLEAR_EOBF);</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160; </div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    <span class="comment">/* Restore hsmartcard-&gt;gState and hsmartcard-&gt;RxState to Ready */</span></div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ab2ef55c738d87c61cca405b5d373527b">gState</a>  = HAL_SMARTCARD_STATE_READY;</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#abc8f87305236c2c667d6d33f71743bf5">RxState</a> = HAL_SMARTCARD_STATE_READY;</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160; </div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;    <span class="comment">/* As no DMA to be aborted, call directly user Abort complete callback */</span></div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;<span class="preprocessor">#if (USE_HAL_SMARTCARD_REGISTER_CALLBACKS == 1)</span></div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;    <span class="comment">/* Call registered Abort complete callback */</span></div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a38b32ee9aafd72dc4e87bd2a42c6eed5">AbortCpltCallback</a>(hsmartcard);</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;    <span class="comment">/* Call legacy weak Abort complete callback */</span></div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    <a class="code" href="group__SMARTCARD__Exported__Functions__Group2.html#ga4a043795431511385008fc1a2298fdf0">HAL_SMARTCARD_AbortCpltCallback</a>(hsmartcard);</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USE_HAL_SMARTCARD_REGISTER_CALLBACK */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;  }</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160; </div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga4a043795431511385008fc1a2298fdf0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4a043795431511385008fc1a2298fdf0">&#9670;&nbsp;</a></span>HAL_SMARTCARD_AbortCpltCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak void HAL_SMARTCARD_AbortCpltCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__SMARTCARD__Exported__Types.html#gacac4738e024e074300b4d9a279a2b644">SMARTCARD_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hsmartcard</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SMARTCARD Abort Complete callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hsmartcard</td><td>Pointer to a SMARTCARD_HandleTypeDef structure that contains the configuration information for the specified SMARTCARD module. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__smartcard_8c_source.html#l02264">2264</a> of file <a class="el" href="stm32l4xx__hal__smartcard_8c_source.html">stm32l4xx_hal_smartcard.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;{</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;  <span class="comment">/* Prevent unused argument(s) compilation warning */</span></div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;  UNUSED(hsmartcard);</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160; </div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;  <span class="comment">/* NOTE : This function should not be modified, when the callback is needed,</span></div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;<span class="comment">            the HAL_SMARTCARD_AbortCpltCallback can be implemented in the user file.</span></div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga8114ab4742e16ea8dd2f8f13bca35166"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8114ab4742e16ea8dd2f8f13bca35166">&#9670;&nbsp;</a></span>HAL_SMARTCARD_AbortReceive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_SMARTCARD_AbortReceive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__SMARTCARD__Exported__Types.html#gacac4738e024e074300b4d9a279a2b644">SMARTCARD_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hsmartcard</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Abort ongoing Receive transfer (blocking mode). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hsmartcard</td><td>Pointer to a SMARTCARD_HandleTypeDef structure that contains the configuration information for the specified SMARTCARD module. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This procedure could be used for aborting any ongoing Rx transfer started in Interrupt or DMA mode. This procedure performs following operations :<ul>
<li>Disable SMARTCARD Interrupts (Rx)</li>
<li>Disable the DMA transfer in the peripheral register (if enabled)</li>
<li>Abort DMA transfer by calling HAL_DMA_Abort (in case of transfer in DMA mode)</li>
<li>Set handle State to READY </li>
</ul>
</dd>
<dd>
This procedure is executed in blocking mode : when exiting function, Abort is considered as completed. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__smartcard_8c_source.html#l01483">1483</a> of file <a class="el" href="stm32l4xx__hal__smartcard_8c_source.html">stm32l4xx_hal_smartcard.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;{</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;<span class="preprocessor">#if defined(USART_CR1_FIFOEN)</span></div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;  <span class="comment">/* Disable RTOIE, EOBIE, RXNE, PE, RXFT, TXFT and  ERR (Frame error, noise error, overrun error) interrupts */</span></div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR1, (USART_CR1_RXNEIE_RXFNEIE | USART_CR1_PEIE | USART_CR1_RTOIE | USART_CR1_EOBIE));</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, (USART_CR3_EIE | USART_CR3_RXFTIE));</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;  <span class="comment">/* Disable RTOIE, EOBIE, RXNE, PE and ERR (Frame error, noise error, overrun error) interrupts */</span></div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR1, (USART_CR1_RXNEIE | USART_CR1_PEIE | USART_CR1_RTOIE | USART_CR1_EOBIE));</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_EIE);</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR1_FIFOEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160; </div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;  <span class="comment">/* Check if a Transmit process is ongoing or not. If not disable ERR IT */</span></div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;  <span class="keywordflow">if</span> (hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ab2ef55c738d87c61cca405b5d373527b">gState</a> == HAL_SMARTCARD_STATE_READY)</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;  {</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    <span class="comment">/* Disable the SMARTCARD Error Interrupt: (Frame error) */</span></div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_EIE);</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;  }</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160; </div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;  <span class="comment">/* Disable the SMARTCARD DMA Rx request if enabled */</span></div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;  <span class="keywordflow">if</span> (HAL_IS_BIT_SET(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_DMAR))</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  {</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_DMAR);</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160; </div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    <span class="comment">/* Abort the SMARTCARD DMA Rx channel : use blocking DMA Abort API (no callback) */</span></div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    <span class="keywordflow">if</span> (hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a59e5bc292232864a5d7e649aec647da1">hdmarx</a> != NULL)</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;    {</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;      <span class="comment">/* Set the SMARTCARD DMA Abort callback to Null.</span></div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;<span class="comment">         No call back execution at end of DMA abort procedure */</span></div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;      hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a59e5bc292232864a5d7e649aec647da1">hdmarx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a5866f59e3a12760e559c4547ebf19d37">XferAbortCallback</a> = NULL;</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160; </div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="group__DMA__Exported__Functions__Group2.html#ga001f9fb04328a7460f9ff16908ff987c">HAL_DMA_Abort</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a59e5bc292232864a5d7e649aec647da1">hdmarx</a>) != <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;      {</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__DMA__Exported__Functions__Group3.html#gabc0735694a0dd08e352b796d7fa7634f">HAL_DMA_GetError</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a59e5bc292232864a5d7e649aec647da1">hdmarx</a>) == HAL_DMA_ERROR_TIMEOUT)</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;        {</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;          <span class="comment">/* Set error code to DMA */</span></div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;          hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#aa101608d41d5567812b9eeab2bf6dcd0">ErrorCode</a> = HAL_SMARTCARD_ERROR_DMA;</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160; </div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;          <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;        }</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;      }</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    }</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;  }</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160; </div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;  <span class="comment">/* Reset Rx transfer counter */</span></div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;  hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ab27372badf08f127c2b994b641909d4c">RxXferCount</a> = 0U;</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160; </div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;  <span class="comment">/* Clear the Error flags in the ICR register */</span></div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  __HAL_SMARTCARD_CLEAR_FLAG(hsmartcard,</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;                             SMARTCARD_CLEAR_OREF | SMARTCARD_CLEAR_NEF | SMARTCARD_CLEAR_PEF | SMARTCARD_CLEAR_FEF | SMARTCARD_CLEAR_RTOF |</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;                             SMARTCARD_CLEAR_EOBF);</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160; </div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;  <span class="comment">/* Restore hsmartcard-&gt;RxState to Ready */</span></div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;  hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#abc8f87305236c2c667d6d33f71743bf5">RxState</a> = HAL_SMARTCARD_STATE_READY;</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160; </div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gac7b4a39a5803372849bdb7e2a73bf072"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac7b4a39a5803372849bdb7e2a73bf072">&#9670;&nbsp;</a></span>HAL_SMARTCARD_AbortReceive_IT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_SMARTCARD_AbortReceive_IT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__SMARTCARD__Exported__Types.html#gacac4738e024e074300b4d9a279a2b644">SMARTCARD_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hsmartcard</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Abort ongoing Receive transfer (Interrupt mode). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hsmartcard</td><td>Pointer to a SMARTCARD_HandleTypeDef structure that contains the configuration information for the specified SMARTCARD module. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This procedure could be used for aborting any ongoing Rx transfer started in Interrupt or DMA mode. This procedure performs following operations :<ul>
<li>Disable SMARTCARD Interrupts (Rx)</li>
<li>Disable the DMA transfer in the peripheral register (if enabled)</li>
<li>Abort DMA transfer by calling HAL_DMA_Abort_IT (in case of transfer in DMA mode)</li>
<li>Set handle State to READY</li>
<li>At abort completion, call user abort complete callback </li>
</ul>
</dd>
<dd>
This procedure is executed in Interrupt mode, meaning that abort procedure could be considered as completed only when user abort complete callback is executed (not when exiting function). </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__smartcard_8c_source.html#l01803">1803</a> of file <a class="el" href="stm32l4xx__hal__smartcard_8c_source.html">stm32l4xx_hal_smartcard.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;{</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;<span class="preprocessor">#if defined(USART_CR1_FIFOEN)</span></div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;  <span class="comment">/* Disable RTOIE, EOBIE, RXNE, PE, RXFT and  ERR (Frame error, noise error, overrun error) interrupts */</span></div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR1, (USART_CR1_RXNEIE_RXFNEIE | USART_CR1_PEIE | USART_CR1_RTOIE | USART_CR1_EOBIE));</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, (USART_CR3_EIE | USART_CR3_RXFTIE));</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;  <span class="comment">/* Disable RTOIE, EOBIE, RXNE, PE and ERR (Frame error, noise error, overrun error) interrupts */</span></div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR1, (USART_CR1_RXNEIE | USART_CR1_PEIE | USART_CR1_RTOIE | USART_CR1_EOBIE));</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_EIE);</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR1_FIFOEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160; </div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;  <span class="comment">/* Check if a Transmit process is ongoing or not. If not disable ERR IT */</span></div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;  <span class="keywordflow">if</span> (hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ab2ef55c738d87c61cca405b5d373527b">gState</a> == HAL_SMARTCARD_STATE_READY)</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;  {</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;    <span class="comment">/* Disable the SMARTCARD Error Interrupt: (Frame error) */</span></div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_EIE);</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;  }</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160; </div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;  <span class="comment">/* Disable the SMARTCARD DMA Rx request if enabled */</span></div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;  <span class="keywordflow">if</span> (HAL_IS_BIT_SET(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_DMAR))</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;  {</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_DMAR);</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160; </div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;    <span class="comment">/* Abort the SMARTCARD DMA Rx channel : use non blocking DMA Abort API (callback) */</span></div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    <span class="keywordflow">if</span> (hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a59e5bc292232864a5d7e649aec647da1">hdmarx</a> != NULL)</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;    {</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;      <span class="comment">/* Set the SMARTCARD DMA Abort callback :</span></div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;<span class="comment">         will lead to call HAL_SMARTCARD_AbortCpltCallback() at end of DMA abort procedure */</span></div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;      hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a59e5bc292232864a5d7e649aec647da1">hdmarx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a5866f59e3a12760e559c4547ebf19d37">XferAbortCallback</a> = <a class="code" href="group__SMARTCARD__Private__Functions.html#ga9e12f2c0bac3b487d521224da8cd274e">SMARTCARD_DMARxOnlyAbortCallback</a>;</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160; </div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;      <span class="comment">/* Abort DMA RX */</span></div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="group__DMA__Exported__Functions__Group2.html#ga6677d7e614747341a58ffd7a048fd390">HAL_DMA_Abort_IT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a59e5bc292232864a5d7e649aec647da1">hdmarx</a>) != <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;      {</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;        <span class="comment">/* Call Directly hsmartcard-&gt;hdmarx-&gt;XferAbortCallback function in case of error */</span></div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;        hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a59e5bc292232864a5d7e649aec647da1">hdmarx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a5866f59e3a12760e559c4547ebf19d37">XferAbortCallback</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a59e5bc292232864a5d7e649aec647da1">hdmarx</a>);</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;      }</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;    }</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;    {</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;      <span class="comment">/* Reset Rx transfer counter */</span></div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;      hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ab27372badf08f127c2b994b641909d4c">RxXferCount</a> = 0U;</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160; </div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;      <span class="comment">/* Clear RxISR function pointer */</span></div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;      hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ada56b61f74c2dcf993fde53a8ca83807">RxISR</a> = NULL;</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160; </div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;      <span class="comment">/* Clear the Error flags in the ICR register */</span></div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;      __HAL_SMARTCARD_CLEAR_FLAG(hsmartcard,</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;                                 SMARTCARD_CLEAR_OREF | SMARTCARD_CLEAR_NEF | SMARTCARD_CLEAR_PEF | SMARTCARD_CLEAR_FEF | SMARTCARD_CLEAR_RTOF |</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;                                 SMARTCARD_CLEAR_EOBF);</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160; </div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;      <span class="comment">/* Restore hsmartcard-&gt;RxState to Ready */</span></div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;      hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#abc8f87305236c2c667d6d33f71743bf5">RxState</a> = HAL_SMARTCARD_STATE_READY;</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160; </div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;      <span class="comment">/* As no DMA to be aborted, call directly user Abort complete callback */</span></div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;<span class="preprocessor">#if (USE_HAL_SMARTCARD_REGISTER_CALLBACKS == 1)</span></div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;      <span class="comment">/* Call registered Abort Receive Complete Callback */</span></div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;      hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a18e3f8b7eb94c4c5bbc9b5911131e7fd">AbortReceiveCpltCallback</a>(hsmartcard);</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;      <span class="comment">/* Call legacy weak Abort Receive Complete Callback */</span></div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;      <a class="code" href="group__SMARTCARD__Exported__Functions__Group2.html#ga46fee0623c40c3dd841408639d2eadd3">HAL_SMARTCARD_AbortReceiveCpltCallback</a>(hsmartcard);</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USE_HAL_SMARTCARD_REGISTER_CALLBACK */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;    }</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;  }</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;  {</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    <span class="comment">/* Reset Rx transfer counter */</span></div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ab27372badf08f127c2b994b641909d4c">RxXferCount</a> = 0U;</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160; </div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    <span class="comment">/* Clear RxISR function pointer */</span></div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ada56b61f74c2dcf993fde53a8ca83807">RxISR</a> = NULL;</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160; </div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    <span class="comment">/* Clear the Error flags in the ICR register */</span></div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;    __HAL_SMARTCARD_CLEAR_FLAG(hsmartcard,</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;                               SMARTCARD_CLEAR_OREF | SMARTCARD_CLEAR_NEF | SMARTCARD_CLEAR_PEF | SMARTCARD_CLEAR_FEF | SMARTCARD_CLEAR_RTOF |</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;                               SMARTCARD_CLEAR_EOBF);</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160; </div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;    <span class="comment">/* Restore hsmartcard-&gt;RxState to Ready */</span></div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#abc8f87305236c2c667d6d33f71743bf5">RxState</a> = HAL_SMARTCARD_STATE_READY;</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160; </div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;    <span class="comment">/* As no DMA to be aborted, call directly user Abort complete callback */</span></div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;<span class="preprocessor">#if (USE_HAL_SMARTCARD_REGISTER_CALLBACKS == 1)</span></div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;    <span class="comment">/* Call registered Abort Receive Complete Callback */</span></div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a18e3f8b7eb94c4c5bbc9b5911131e7fd">AbortReceiveCpltCallback</a>(hsmartcard);</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;    <span class="comment">/* Call legacy weak Abort Receive Complete Callback */</span></div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;    <a class="code" href="group__SMARTCARD__Exported__Functions__Group2.html#ga46fee0623c40c3dd841408639d2eadd3">HAL_SMARTCARD_AbortReceiveCpltCallback</a>(hsmartcard);</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USE_HAL_SMARTCARD_REGISTER_CALLBACK */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;  }</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160; </div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga46fee0623c40c3dd841408639d2eadd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga46fee0623c40c3dd841408639d2eadd3">&#9670;&nbsp;</a></span>HAL_SMARTCARD_AbortReceiveCpltCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak void HAL_SMARTCARD_AbortReceiveCpltCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__SMARTCARD__Exported__Types.html#gacac4738e024e074300b4d9a279a2b644">SMARTCARD_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hsmartcard</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SMARTCARD Abort Receive Complete callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hsmartcard</td><td>Pointer to a SMARTCARD_HandleTypeDef structure that contains the configuration information for the specified SMARTCARD module. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__smartcard_8c_source.html#l02296">2296</a> of file <a class="el" href="stm32l4xx__hal__smartcard_8c_source.html">stm32l4xx_hal_smartcard.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;{</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;  <span class="comment">/* Prevent unused argument(s) compilation warning */</span></div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;  UNUSED(hsmartcard);</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160; </div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;  <span class="comment">/* NOTE : This function should not be modified, when the callback is needed,</span></div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;<span class="comment">            the HAL_SMARTCARD_AbortReceiveCpltCallback can be implemented in the user file.</span></div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gaf2d47b16c647eaf4953efc99ecda3b30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf2d47b16c647eaf4953efc99ecda3b30">&#9670;&nbsp;</a></span>HAL_SMARTCARD_AbortTransmit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_SMARTCARD_AbortTransmit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__SMARTCARD__Exported__Types.html#gacac4738e024e074300b4d9a279a2b644">SMARTCARD_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hsmartcard</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Abort ongoing Transmit transfer (blocking mode). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hsmartcard</td><td>Pointer to a SMARTCARD_HandleTypeDef structure that contains the configuration information for the specified SMARTCARD module. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This procedure could be used for aborting any ongoing Tx transfer started in Interrupt or DMA mode. This procedure performs following operations :<ul>
<li>Disable SMARTCARD Interrupts (Tx)</li>
<li>Disable the DMA transfer in the peripheral register (if enabled)</li>
<li>Abort DMA transfer by calling HAL_DMA_Abort (in case of transfer in DMA mode)</li>
<li>Set handle State to READY </li>
</ul>
</dd>
<dd>
This procedure is executed in blocking mode : when exiting function, Abort is considered as completed. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__smartcard_8c_source.html#l01415">1415</a> of file <a class="el" href="stm32l4xx__hal__smartcard_8c_source.html">stm32l4xx_hal_smartcard.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;{</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;<span class="preprocessor">#if defined(USART_CR1_FIFOEN)</span></div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;  <span class="comment">/* Disable TCIE, TXEIE and TXFTIE interrupts */</span></div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR1, (USART_CR1_TXEIE_TXFNFIE | USART_CR1_TCIE));</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_TXFTIE);</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;  <span class="comment">/* Disable TXEIE and TCIE interrupts */</span></div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR1, (USART_CR1_TXEIE | USART_CR1_TCIE));</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR1_FIFOEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160; </div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;  <span class="comment">/* Check if a receive process is ongoing or not. If not disable ERR IT */</span></div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;  <span class="keywordflow">if</span> (hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#abc8f87305236c2c667d6d33f71743bf5">RxState</a> == HAL_SMARTCARD_STATE_READY)</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;  {</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    <span class="comment">/* Disable the SMARTCARD Error Interrupt: (Frame error) */</span></div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_EIE);</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;  }</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160; </div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;  <span class="comment">/* Disable the SMARTCARD DMA Tx request if enabled */</span></div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;  <span class="keywordflow">if</span> (HAL_IS_BIT_SET(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_DMAT))</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;  {</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_DMAT);</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160; </div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    <span class="comment">/* Abort the SMARTCARD DMA Tx channel : use blocking DMA Abort API (no callback) */</span></div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    <span class="keywordflow">if</span> (hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ad4f91901fc66a21696bc34544bf0e8ae">hdmatx</a> != NULL)</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    {</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;      <span class="comment">/* Set the SMARTCARD DMA Abort callback to Null.</span></div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;<span class="comment">         No call back execution at end of DMA abort procedure */</span></div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;      hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ad4f91901fc66a21696bc34544bf0e8ae">hdmatx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a5866f59e3a12760e559c4547ebf19d37">XferAbortCallback</a> = NULL;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160; </div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="group__DMA__Exported__Functions__Group2.html#ga001f9fb04328a7460f9ff16908ff987c">HAL_DMA_Abort</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ad4f91901fc66a21696bc34544bf0e8ae">hdmatx</a>) != <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;      {</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__DMA__Exported__Functions__Group3.html#gabc0735694a0dd08e352b796d7fa7634f">HAL_DMA_GetError</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ad4f91901fc66a21696bc34544bf0e8ae">hdmatx</a>) == HAL_DMA_ERROR_TIMEOUT)</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;        {</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;          <span class="comment">/* Set error code to DMA */</span></div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;          hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#aa101608d41d5567812b9eeab2bf6dcd0">ErrorCode</a> = HAL_SMARTCARD_ERROR_DMA;</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160; </div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;          <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;        }</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;      }</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    }</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;  }</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160; </div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;  <span class="comment">/* Reset Tx transfer counter */</span></div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;  hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a651e1499c1bb95e664ad3035da4d1ba5">TxXferCount</a> = 0U;</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160; </div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;  <span class="comment">/* Clear the Error flags in the ICR register */</span></div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;  __HAL_SMARTCARD_CLEAR_FLAG(hsmartcard, SMARTCARD_CLEAR_FEF);</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160; </div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;  <span class="comment">/* Restore hsmartcard-&gt;gState to Ready */</span></div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;  hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ab2ef55c738d87c61cca405b5d373527b">gState</a> = HAL_SMARTCARD_STATE_READY;</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160; </div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gad5efa16891d71dbabac7b85903850540"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad5efa16891d71dbabac7b85903850540">&#9670;&nbsp;</a></span>HAL_SMARTCARD_AbortTransmit_IT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_SMARTCARD_AbortTransmit_IT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__SMARTCARD__Exported__Types.html#gacac4738e024e074300b4d9a279a2b644">SMARTCARD_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hsmartcard</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Abort ongoing Transmit transfer (Interrupt mode). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hsmartcard</td><td>Pointer to a SMARTCARD_HandleTypeDef structure that contains the configuration information for the specified SMARTCARD module. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This procedure could be used for aborting any ongoing Tx transfer started in Interrupt or DMA mode. This procedure performs following operations :<ul>
<li>Disable SMARTCARD Interrupts (Tx)</li>
<li>Disable the DMA transfer in the peripheral register (if enabled)</li>
<li>Abort DMA transfer by calling HAL_DMA_Abort_IT (in case of transfer in DMA mode)</li>
<li>Set handle State to READY</li>
<li>At abort completion, call user abort complete callback </li>
</ul>
</dd>
<dd>
This procedure is executed in Interrupt mode, meaning that abort procedure could be considered as completed only when user abort complete callback is executed (not when exiting function). </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__smartcard_8c_source.html#l01703">1703</a> of file <a class="el" href="stm32l4xx__hal__smartcard_8c_source.html">stm32l4xx_hal_smartcard.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;{</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;<span class="preprocessor">#if defined(USART_CR1_FIFOEN)</span></div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;  <span class="comment">/* Disable TCIE, TXEIE and TXFTIE interrupts */</span></div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR1, (USART_CR1_TXEIE_TXFNFIE | USART_CR1_TCIE));</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_TXFTIE);</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;  <span class="comment">/* Disable TXEIE and TCIE interrupts */</span></div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR1, (USART_CR1_TXEIE | USART_CR1_TCIE));</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR1_FIFOEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160; </div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;  <span class="comment">/* Check if a receive process is ongoing or not. If not disable ERR IT */</span></div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;  <span class="keywordflow">if</span> (hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#abc8f87305236c2c667d6d33f71743bf5">RxState</a> == HAL_SMARTCARD_STATE_READY)</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;  {</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;    <span class="comment">/* Disable the SMARTCARD Error Interrupt: (Frame error) */</span></div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_EIE);</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;  }</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160; </div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;  <span class="comment">/* Disable the SMARTCARD DMA Tx request if enabled */</span></div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;  <span class="keywordflow">if</span> (HAL_IS_BIT_SET(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_DMAT))</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;  {</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_DMAT);</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160; </div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    <span class="comment">/* Abort the SMARTCARD DMA Tx channel : use non blocking DMA Abort API (callback) */</span></div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    <span class="keywordflow">if</span> (hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ad4f91901fc66a21696bc34544bf0e8ae">hdmatx</a> != NULL)</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;    {</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;      <span class="comment">/* Set the SMARTCARD DMA Abort callback :</span></div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;<span class="comment">         will lead to call HAL_SMARTCARD_AbortCpltCallback() at end of DMA abort procedure */</span></div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;      hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ad4f91901fc66a21696bc34544bf0e8ae">hdmatx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a5866f59e3a12760e559c4547ebf19d37">XferAbortCallback</a> = <a class="code" href="group__SMARTCARD__Private__Functions.html#ga6918da2c464a0aeef9440f28d50f8faf">SMARTCARD_DMATxOnlyAbortCallback</a>;</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160; </div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;      <span class="comment">/* Abort DMA TX */</span></div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="group__DMA__Exported__Functions__Group2.html#ga6677d7e614747341a58ffd7a048fd390">HAL_DMA_Abort_IT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ad4f91901fc66a21696bc34544bf0e8ae">hdmatx</a>) != <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;      {</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;        <span class="comment">/* Call Directly hsmartcard-&gt;hdmatx-&gt;XferAbortCallback function in case of error */</span></div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;        hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ad4f91901fc66a21696bc34544bf0e8ae">hdmatx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a5866f59e3a12760e559c4547ebf19d37">XferAbortCallback</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ad4f91901fc66a21696bc34544bf0e8ae">hdmatx</a>);</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;      }</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;    }</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    {</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;      <span class="comment">/* Reset Tx transfer counter */</span></div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;      hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a651e1499c1bb95e664ad3035da4d1ba5">TxXferCount</a> = 0U;</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160; </div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;      <span class="comment">/* Clear TxISR function pointers */</span></div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;      hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a92823278ce4cb376e3d3af5065a5d4ad">TxISR</a> = NULL;</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160; </div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;      <span class="comment">/* Restore hsmartcard-&gt;gState to Ready */</span></div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;      hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ab2ef55c738d87c61cca405b5d373527b">gState</a> = HAL_SMARTCARD_STATE_READY;</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160; </div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;      <span class="comment">/* As no DMA to be aborted, call directly user Abort complete callback */</span></div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;<span class="preprocessor">#if (USE_HAL_SMARTCARD_REGISTER_CALLBACKS == 1)</span></div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;      <span class="comment">/* Call registered Abort Transmit Complete Callback */</span></div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;      hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a309d51f6a2bf2d1fbf38afd30493150f">AbortTransmitCpltCallback</a>(hsmartcard);</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;      <span class="comment">/* Call legacy weak Abort Transmit Complete Callback */</span></div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;      <a class="code" href="group__SMARTCARD__Exported__Functions__Group2.html#ga8e8b5ceca4b2c2ea89cd1532483b226e">HAL_SMARTCARD_AbortTransmitCpltCallback</a>(hsmartcard);</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USE_HAL_SMARTCARD_REGISTER_CALLBACK */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    }</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;  }</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;  {</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;    <span class="comment">/* Reset Tx transfer counter */</span></div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a651e1499c1bb95e664ad3035da4d1ba5">TxXferCount</a> = 0U;</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160; </div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    <span class="comment">/* Clear TxISR function pointers */</span></div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a92823278ce4cb376e3d3af5065a5d4ad">TxISR</a> = NULL;</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160; </div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    <span class="comment">/* Clear the Error flags in the ICR register */</span></div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;    __HAL_SMARTCARD_CLEAR_FLAG(hsmartcard, SMARTCARD_CLEAR_FEF);</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160; </div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;    <span class="comment">/* Restore hsmartcard-&gt;gState to Ready */</span></div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ab2ef55c738d87c61cca405b5d373527b">gState</a> = HAL_SMARTCARD_STATE_READY;</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160; </div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;    <span class="comment">/* As no DMA to be aborted, call directly user Abort complete callback */</span></div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;<span class="preprocessor">#if (USE_HAL_SMARTCARD_REGISTER_CALLBACKS == 1)</span></div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;    <span class="comment">/* Call registered Abort Transmit Complete Callback */</span></div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a309d51f6a2bf2d1fbf38afd30493150f">AbortTransmitCpltCallback</a>(hsmartcard);</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    <span class="comment">/* Call legacy weak Abort Transmit Complete Callback */</span></div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;    <a class="code" href="group__SMARTCARD__Exported__Functions__Group2.html#ga8e8b5ceca4b2c2ea89cd1532483b226e">HAL_SMARTCARD_AbortTransmitCpltCallback</a>(hsmartcard);</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USE_HAL_SMARTCARD_REGISTER_CALLBACK */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;  }</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160; </div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga8e8b5ceca4b2c2ea89cd1532483b226e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8e8b5ceca4b2c2ea89cd1532483b226e">&#9670;&nbsp;</a></span>HAL_SMARTCARD_AbortTransmitCpltCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak void HAL_SMARTCARD_AbortTransmitCpltCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__SMARTCARD__Exported__Types.html#gacac4738e024e074300b4d9a279a2b644">SMARTCARD_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hsmartcard</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SMARTCARD Abort Complete callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hsmartcard</td><td>Pointer to a SMARTCARD_HandleTypeDef structure that contains the configuration information for the specified SMARTCARD module. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__smartcard_8c_source.html#l02280">2280</a> of file <a class="el" href="stm32l4xx__hal__smartcard_8c_source.html">stm32l4xx_hal_smartcard.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;{</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;  <span class="comment">/* Prevent unused argument(s) compilation warning */</span></div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;  UNUSED(hsmartcard);</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160; </div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;  <span class="comment">/* NOTE : This function should not be modified, when the callback is needed,</span></div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;<span class="comment">            the HAL_SMARTCARD_AbortTransmitCpltCallback can be implemented in the user file.</span></div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga826161c7b0dda5348dfcccc432337974"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga826161c7b0dda5348dfcccc432337974">&#9670;&nbsp;</a></span>HAL_SMARTCARD_ErrorCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak void HAL_SMARTCARD_ErrorCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__SMARTCARD__Exported__Types.html#gacac4738e024e074300b4d9a279a2b644">SMARTCARD_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hsmartcard</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SMARTCARD error callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hsmartcard</td><td>Pointer to a SMARTCARD_HandleTypeDef structure that contains the configuration information for the specified SMARTCARD module. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__smartcard_8c_source.html#l02248">2248</a> of file <a class="el" href="stm32l4xx__hal__smartcard_8c_source.html">stm32l4xx_hal_smartcard.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;{</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;  <span class="comment">/* Prevent unused argument(s) compilation warning */</span></div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;  UNUSED(hsmartcard);</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160; </div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;  <span class="comment">/* NOTE : This function should not be modified, when the callback is needed,</span></div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;<span class="comment">            the HAL_SMARTCARD_ErrorCallback can be implemented in the user file.</span></div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gaa00666aff489f8f1e3a3e45e54a3724e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa00666aff489f8f1e3a3e45e54a3724e">&#9670;&nbsp;</a></span>HAL_SMARTCARD_IRQHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_SMARTCARD_IRQHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__SMARTCARD__Exported__Types.html#gacac4738e024e074300b4d9a279a2b644">SMARTCARD_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hsmartcard</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle SMARTCARD interrupt requests. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hsmartcard</td><td>Pointer to a SMARTCARD_HandleTypeDef structure that contains the configuration information for the specified SMARTCARD module. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__smartcard_8c_source.html#l01902">1902</a> of file <a class="el" href="stm32l4xx__hal__smartcard_8c_source.html">stm32l4xx_hal_smartcard.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;{</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;  uint32_t isrflags   = READ_REG(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;ISR);</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;  uint32_t cr1its     = READ_REG(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR1);</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;  uint32_t cr3its     = READ_REG(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3);</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;  uint32_t errorflags;</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;  uint32_t errorcode;</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160; </div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;  <span class="comment">/* If no error occurs */</span></div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;  errorflags = (isrflags &amp; (uint32_t)(USART_ISR_PE | USART_ISR_FE | USART_ISR_ORE | USART_ISR_NE | USART_ISR_RTOF));</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;  <span class="keywordflow">if</span> (errorflags == 0U)</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;  {</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;    <span class="comment">/* SMARTCARD in mode Receiver ---------------------------------------------------*/</span></div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;<span class="preprocessor">#if defined(USART_CR1_FIFOEN)</span></div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;    <span class="keywordflow">if</span> (((isrflags &amp; USART_ISR_RXNE_RXFNE) != 0U)</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;        &amp;&amp; (((cr1its &amp; USART_CR1_RXNEIE_RXFNEIE) != 0U)</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;            || ((cr3its &amp; USART_CR3_RXFTIE) != 0U)))</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;    <span class="keywordflow">if</span> (((isrflags &amp; USART_ISR_RXNE) != 0U)</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;        &amp;&amp; ((cr1its &amp; USART_CR1_RXNEIE) != 0U))</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR1_FIFOEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;    {</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;      <span class="keywordflow">if</span> (hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ada56b61f74c2dcf993fde53a8ca83807">RxISR</a> != NULL)</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;      {</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;        hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ada56b61f74c2dcf993fde53a8ca83807">RxISR</a>(hsmartcard);</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;      }</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;    }</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;  }</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160; </div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;  <span class="comment">/* If some errors occur */</span></div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;<span class="preprocessor">#if defined(USART_CR1_FIFOEN)</span></div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;  <span class="keywordflow">if</span> ((errorflags != 0U)</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;      &amp;&amp; ((((cr3its &amp; (USART_CR3_RXFTIE | USART_CR3_EIE)) != 0U)</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;           || ((cr1its &amp; (USART_CR1_RXNEIE_RXFNEIE | USART_CR1_PEIE)) != 0U))))</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;  <span class="keywordflow">if</span> ((errorflags != 0U)</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;      &amp;&amp; (((cr3its &amp; USART_CR3_EIE) != 0U)</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;          || ((cr1its &amp; (USART_CR1_RXNEIE | USART_CR1_PEIE)) != 0U)))</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR1_FIFOEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;  {</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;    <span class="comment">/* SMARTCARD parity error interrupt occurred -------------------------------------*/</span></div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;    <span class="keywordflow">if</span> (((isrflags &amp; USART_ISR_PE) != 0U) &amp;&amp; ((cr1its &amp; USART_CR1_PEIE) != 0U))</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;    {</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;      __HAL_SMARTCARD_CLEAR_IT(hsmartcard, SMARTCARD_CLEAR_PEF);</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160; </div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;      hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#aa101608d41d5567812b9eeab2bf6dcd0">ErrorCode</a> |= HAL_SMARTCARD_ERROR_PE;</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;    }</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160; </div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;    <span class="comment">/* SMARTCARD frame error interrupt occurred --------------------------------------*/</span></div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;    <span class="keywordflow">if</span> (((isrflags &amp; USART_ISR_FE) != 0U) &amp;&amp; ((cr3its &amp; USART_CR3_EIE) != 0U))</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;    {</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;      __HAL_SMARTCARD_CLEAR_IT(hsmartcard, SMARTCARD_CLEAR_FEF);</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160; </div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;      hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#aa101608d41d5567812b9eeab2bf6dcd0">ErrorCode</a> |= HAL_SMARTCARD_ERROR_FE;</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;    }</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160; </div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;    <span class="comment">/* SMARTCARD noise error interrupt occurred --------------------------------------*/</span></div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;    <span class="keywordflow">if</span> (((isrflags &amp; USART_ISR_NE) != 0U) &amp;&amp; ((cr3its &amp; USART_CR3_EIE) != 0U))</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;    {</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;      __HAL_SMARTCARD_CLEAR_IT(hsmartcard, SMARTCARD_CLEAR_NEF);</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160; </div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;      hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#aa101608d41d5567812b9eeab2bf6dcd0">ErrorCode</a> |= HAL_SMARTCARD_ERROR_NE;</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;    }</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160; </div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;    <span class="comment">/* SMARTCARD Over-Run interrupt occurred -----------------------------------------*/</span></div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;<span class="preprocessor">#if defined(USART_CR1_FIFOEN)</span></div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;    <span class="keywordflow">if</span> (((isrflags &amp; USART_ISR_ORE) != 0U)</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;        &amp;&amp; (((cr1its &amp; USART_CR1_RXNEIE_RXFNEIE) != 0U)</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;            || ((cr3its &amp; USART_CR3_RXFTIE) != 0U)</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;            || ((cr3its &amp; USART_CR3_EIE) != 0U)))</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;    <span class="keywordflow">if</span> (((isrflags &amp; USART_ISR_ORE) != 0U)</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;        &amp;&amp; (((cr1its &amp; USART_CR1_RXNEIE) != 0U)</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;            || ((cr3its &amp; USART_CR3_EIE) != 0U)))</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR1_FIFOEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;    {</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;      __HAL_SMARTCARD_CLEAR_IT(hsmartcard, SMARTCARD_CLEAR_OREF);</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160; </div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;      hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#aa101608d41d5567812b9eeab2bf6dcd0">ErrorCode</a> |= HAL_SMARTCARD_ERROR_ORE;</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;    }</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160; </div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;    <span class="comment">/* SMARTCARD receiver timeout interrupt occurred -----------------------------------------*/</span></div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;    <span class="keywordflow">if</span> (((isrflags &amp; USART_ISR_RTOF) != 0U) &amp;&amp; ((cr1its &amp; USART_CR1_RTOIE) != 0U))</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;    {</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;      __HAL_SMARTCARD_CLEAR_IT(hsmartcard, SMARTCARD_CLEAR_RTOF);</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160; </div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;      hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#aa101608d41d5567812b9eeab2bf6dcd0">ErrorCode</a> |= HAL_SMARTCARD_ERROR_RTO;</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;    }</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160; </div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;    <span class="comment">/* Call SMARTCARD Error Call back function if need be --------------------------*/</span></div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;    <span class="keywordflow">if</span> (hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#aa101608d41d5567812b9eeab2bf6dcd0">ErrorCode</a> != HAL_SMARTCARD_ERROR_NONE)</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;    {</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;      <span class="comment">/* SMARTCARD in mode Receiver ---------------------------------------------------*/</span></div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;<span class="preprocessor">#if defined(USART_CR1_FIFOEN)</span></div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;      <span class="keywordflow">if</span> (((isrflags &amp; USART_ISR_RXNE_RXFNE) != 0U)</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;          &amp;&amp; (((cr1its &amp; USART_CR1_RXNEIE_RXFNEIE) != 0U)</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;              || ((cr3its &amp; USART_CR3_RXFTIE) != 0U)))</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;      <span class="keywordflow">if</span> (((isrflags &amp; USART_ISR_RXNE) != 0U)</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;          &amp;&amp; ((cr1its &amp; USART_CR1_RXNEIE) != 0U))</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR1_FIFOEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;      {</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;        <span class="keywordflow">if</span> (hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ada56b61f74c2dcf993fde53a8ca83807">RxISR</a> != NULL)</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;        {</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;          hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ada56b61f74c2dcf993fde53a8ca83807">RxISR</a>(hsmartcard);</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;        }</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;      }</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160; </div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;      <span class="comment">/* If Error is to be considered as blocking :</span></div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;<span class="comment">          - Receiver Timeout error in Reception</span></div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;<span class="comment">          - Overrun error in Reception</span></div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;<span class="comment">          - any error occurs in DMA mode reception</span></div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;<span class="comment">      */</span></div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;      errorcode = hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#aa101608d41d5567812b9eeab2bf6dcd0">ErrorCode</a>;</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;      <span class="keywordflow">if</span> ((HAL_IS_BIT_SET(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_DMAR))</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;          || ((errorcode &amp; (HAL_SMARTCARD_ERROR_RTO | HAL_SMARTCARD_ERROR_ORE)) != 0U))</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;      {</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;        <span class="comment">/* Blocking error : transfer is aborted</span></div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;<span class="comment">           Set the SMARTCARD state ready to be able to start again the process,</span></div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;<span class="comment">           Disable Rx Interrupts, and disable Rx DMA request, if ongoing */</span></div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;        <a class="code" href="group__SMARTCARD__Private__Functions.html#ga18799eeb864b97a6d2889ff1c0098428">SMARTCARD_EndRxTransfer</a>(hsmartcard);</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160; </div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;        <span class="comment">/* Disable the SMARTCARD DMA Rx request if enabled */</span></div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;        <span class="keywordflow">if</span> (HAL_IS_BIT_SET(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_DMAR))</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;        {</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;          <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_DMAR);</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160; </div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;          <span class="comment">/* Abort the SMARTCARD DMA Rx channel */</span></div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;          <span class="keywordflow">if</span> (hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a59e5bc292232864a5d7e649aec647da1">hdmarx</a> != NULL)</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;          {</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;            <span class="comment">/* Set the SMARTCARD DMA Abort callback :</span></div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;<span class="comment">               will lead to call HAL_SMARTCARD_ErrorCallback() at end of DMA abort procedure */</span></div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;            hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a59e5bc292232864a5d7e649aec647da1">hdmarx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a5866f59e3a12760e559c4547ebf19d37">XferAbortCallback</a> = <a class="code" href="group__SMARTCARD__Private__Functions.html#ga066f75aa99906ab181de94371b0d1888">SMARTCARD_DMAAbortOnError</a>;</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160; </div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;            <span class="comment">/* Abort DMA RX */</span></div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__DMA__Exported__Functions__Group2.html#ga6677d7e614747341a58ffd7a048fd390">HAL_DMA_Abort_IT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a59e5bc292232864a5d7e649aec647da1">hdmarx</a>) != <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;            {</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;              <span class="comment">/* Call Directly hsmartcard-&gt;hdmarx-&gt;XferAbortCallback function in case of error */</span></div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;              hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a59e5bc292232864a5d7e649aec647da1">hdmarx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a5866f59e3a12760e559c4547ebf19d37">XferAbortCallback</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a59e5bc292232864a5d7e649aec647da1">hdmarx</a>);</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;            }</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;          }</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;          {</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;<span class="preprocessor">#if (USE_HAL_SMARTCARD_REGISTER_CALLBACKS == 1)</span></div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;            <span class="comment">/* Call registered user error callback */</span></div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;            hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a256e29ffdd5ba69799264c5bd2f92858">ErrorCallback</a>(hsmartcard);</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;            <span class="comment">/* Call legacy weak user error callback */</span></div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;            <a class="code" href="group__SMARTCARD__Exported__Functions__Group2.html#ga826161c7b0dda5348dfcccc432337974">HAL_SMARTCARD_ErrorCallback</a>(hsmartcard);</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USE_HAL_SMARTCARD_REGISTER_CALLBACK */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;          }</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;        }</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;        {</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;<span class="preprocessor">#if (USE_HAL_SMARTCARD_REGISTER_CALLBACKS == 1)</span></div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;          <span class="comment">/* Call registered user error callback */</span></div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;          hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a256e29ffdd5ba69799264c5bd2f92858">ErrorCallback</a>(hsmartcard);</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;          <span class="comment">/* Call legacy weak user error callback */</span></div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;          <a class="code" href="group__SMARTCARD__Exported__Functions__Group2.html#ga826161c7b0dda5348dfcccc432337974">HAL_SMARTCARD_ErrorCallback</a>(hsmartcard);</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USE_HAL_SMARTCARD_REGISTER_CALLBACK */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;        }</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;      }</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;      <span class="comment">/* other error type to be considered as blocking :</span></div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;<span class="comment">          - Frame error in Transmission</span></div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;<span class="comment">      */</span></div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ab2ef55c738d87c61cca405b5d373527b">gState</a> == HAL_SMARTCARD_STATE_BUSY_TX)</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;               &amp;&amp; ((errorcode &amp; HAL_SMARTCARD_ERROR_FE) != 0U))</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;      {</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;        <span class="comment">/* Blocking error : transfer is aborted</span></div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;<span class="comment">           Set the SMARTCARD state ready to be able to start again the process,</span></div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;<span class="comment">           Disable Tx Interrupts, and disable Tx DMA request, if ongoing */</span></div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;        <a class="code" href="group__SMARTCARD__Private__Functions.html#ga385ee90f15011b14f3789322ccc6b7f0">SMARTCARD_EndTxTransfer</a>(hsmartcard);</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160; </div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;        <span class="comment">/* Disable the SMARTCARD DMA Tx request if enabled */</span></div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;        <span class="keywordflow">if</span> (HAL_IS_BIT_SET(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_DMAT))</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;        {</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;          <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_DMAT);</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160; </div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;          <span class="comment">/* Abort the SMARTCARD DMA Tx channel */</span></div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;          <span class="keywordflow">if</span> (hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ad4f91901fc66a21696bc34544bf0e8ae">hdmatx</a> != NULL)</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;          {</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;            <span class="comment">/* Set the SMARTCARD DMA Abort callback :</span></div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;<span class="comment">               will lead to call HAL_SMARTCARD_ErrorCallback() at end of DMA abort procedure */</span></div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;            hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ad4f91901fc66a21696bc34544bf0e8ae">hdmatx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a5866f59e3a12760e559c4547ebf19d37">XferAbortCallback</a> = <a class="code" href="group__SMARTCARD__Private__Functions.html#ga066f75aa99906ab181de94371b0d1888">SMARTCARD_DMAAbortOnError</a>;</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160; </div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;            <span class="comment">/* Abort DMA TX */</span></div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__DMA__Exported__Functions__Group2.html#ga6677d7e614747341a58ffd7a048fd390">HAL_DMA_Abort_IT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ad4f91901fc66a21696bc34544bf0e8ae">hdmatx</a>) != <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;            {</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;              <span class="comment">/* Call Directly hsmartcard-&gt;hdmatx-&gt;XferAbortCallback function in case of error */</span></div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;              hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ad4f91901fc66a21696bc34544bf0e8ae">hdmatx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a5866f59e3a12760e559c4547ebf19d37">XferAbortCallback</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ad4f91901fc66a21696bc34544bf0e8ae">hdmatx</a>);</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;            }</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;          }</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;          {</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;<span class="preprocessor">#if (USE_HAL_SMARTCARD_REGISTER_CALLBACKS == 1)</span></div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;            <span class="comment">/* Call registered user error callback */</span></div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;            hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a256e29ffdd5ba69799264c5bd2f92858">ErrorCallback</a>(hsmartcard);</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;            <span class="comment">/* Call legacy weak user error callback */</span></div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;            <a class="code" href="group__SMARTCARD__Exported__Functions__Group2.html#ga826161c7b0dda5348dfcccc432337974">HAL_SMARTCARD_ErrorCallback</a>(hsmartcard);</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USE_HAL_SMARTCARD_REGISTER_CALLBACK */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;          }</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;        }</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;        {</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;<span class="preprocessor">#if (USE_HAL_SMARTCARD_REGISTER_CALLBACKS == 1)</span></div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;          <span class="comment">/* Call registered user error callback */</span></div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;          hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a256e29ffdd5ba69799264c5bd2f92858">ErrorCallback</a>(hsmartcard);</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;          <span class="comment">/* Call legacy weak user error callback */</span></div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;          <a class="code" href="group__SMARTCARD__Exported__Functions__Group2.html#ga826161c7b0dda5348dfcccc432337974">HAL_SMARTCARD_ErrorCallback</a>(hsmartcard);</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USE_HAL_SMARTCARD_REGISTER_CALLBACK */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;        }</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;      }</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;      {</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;        <span class="comment">/* Non Blocking error : transfer could go on.</span></div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;<span class="comment">           Error is notified to user through user error callback */</span></div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;<span class="preprocessor">#if (USE_HAL_SMARTCARD_REGISTER_CALLBACKS == 1)</span></div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;        <span class="comment">/* Call registered user error callback */</span></div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;        hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a256e29ffdd5ba69799264c5bd2f92858">ErrorCallback</a>(hsmartcard);</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;        <span class="comment">/* Call legacy weak user error callback */</span></div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;        <a class="code" href="group__SMARTCARD__Exported__Functions__Group2.html#ga826161c7b0dda5348dfcccc432337974">HAL_SMARTCARD_ErrorCallback</a>(hsmartcard);</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USE_HAL_SMARTCARD_REGISTER_CALLBACK */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;        hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#aa101608d41d5567812b9eeab2bf6dcd0">ErrorCode</a> = HAL_SMARTCARD_ERROR_NONE;</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;      }</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;    }</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160; </div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;  } <span class="comment">/* End if some error occurs */</span></div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160; </div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;  <span class="comment">/* SMARTCARD in mode Receiver, end of block interruption ------------------------*/</span></div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;  <span class="keywordflow">if</span> (((isrflags &amp; USART_ISR_EOBF) != 0U) &amp;&amp; ((cr1its &amp; USART_CR1_EOBIE) != 0U))</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;  {</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#abc8f87305236c2c667d6d33f71743bf5">RxState</a> = HAL_SMARTCARD_STATE_READY;</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hsmartcard);</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;<span class="preprocessor">#if (USE_HAL_SMARTCARD_REGISTER_CALLBACKS == 1)</span></div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;    <span class="comment">/* Call registered Rx complete callback */</span></div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#aeb7a8e0c879a6819986b6c14a1a0316d">RxCpltCallback</a>(hsmartcard);</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;    <span class="comment">/* Call legacy weak Rx complete callback */</span></div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;    <a class="code" href="group__SMARTCARD__Exported__Functions__Group2.html#ga862295ff74fcfcd166c6ab6015d5acba">HAL_SMARTCARD_RxCpltCallback</a>(hsmartcard);</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USE_HAL_SMARTCARD_REGISTER_CALLBACK */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;    <span class="comment">/* Clear EOBF interrupt after HAL_SMARTCARD_RxCpltCallback() call for the End of Block information</span></div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;<span class="comment">       to be available during HAL_SMARTCARD_RxCpltCallback() processing */</span></div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;    __HAL_SMARTCARD_CLEAR_IT(hsmartcard, SMARTCARD_CLEAR_EOBF);</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;  }</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160; </div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;  <span class="comment">/* SMARTCARD in mode Transmitter ------------------------------------------------*/</span></div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;<span class="preprocessor">#if defined(USART_CR1_FIFOEN)</span></div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;  <span class="keywordflow">if</span> (((isrflags &amp; USART_ISR_TXE_TXFNF) != 0U)</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;      &amp;&amp; (((cr1its &amp; USART_CR1_TXEIE_TXFNFIE) != 0U)</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;          || ((cr3its &amp; USART_CR3_TXFTIE) != 0U)))</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;  <span class="keywordflow">if</span> (((isrflags &amp; USART_ISR_TXE) != 0U)</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;      &amp;&amp; ((cr1its &amp; USART_CR1_TXEIE) != 0U))</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR1_FIFOEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;  {</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;    <span class="keywordflow">if</span> (hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a92823278ce4cb376e3d3af5065a5d4ad">TxISR</a> != NULL)</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;    {</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;      hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a92823278ce4cb376e3d3af5065a5d4ad">TxISR</a>(hsmartcard);</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;    }</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;  }</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160; </div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;  <span class="comment">/* SMARTCARD in mode Transmitter (transmission end) ------------------------*/</span></div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;  <span class="keywordflow">if</span> (__HAL_SMARTCARD_GET_IT(hsmartcard, hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a71840d7c88e8908166daecbd620d55d7">AdvancedInit</a>.<a class="code" href="group__SMARTCARD__Exported__Types.html#a154f1ca86cd9c57f9e5cda2861bd9dee">TxCompletionIndication</a>) != RESET)</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;  {</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;    <span class="keywordflow">if</span> (__HAL_SMARTCARD_GET_IT_SOURCE(hsmartcard, hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a71840d7c88e8908166daecbd620d55d7">AdvancedInit</a>.<a class="code" href="group__SMARTCARD__Exported__Types.html#a154f1ca86cd9c57f9e5cda2861bd9dee">TxCompletionIndication</a>) != RESET)</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;    {</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;      <a class="code" href="group__SMARTCARD__Private__Functions.html#gaa88edaeb756c0e53395cff297ffe6cf6">SMARTCARD_EndTransmit_IT</a>(hsmartcard);</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;    }</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;  }</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160; </div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;<span class="preprocessor">#if defined(USART_CR1_FIFOEN)</span></div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;  <span class="comment">/* SMARTCARD TX Fifo Empty occurred ----------------------------------------------*/</span></div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;  <span class="keywordflow">if</span> (((isrflags &amp; USART_ISR_TXFE) != 0U) &amp;&amp; ((cr1its &amp; USART_CR1_TXFEIE) != 0U))</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;  {</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;<span class="preprocessor">#if (USE_HAL_SMARTCARD_REGISTER_CALLBACKS == 1)</span></div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;    <span class="comment">/* Call registered Tx Fifo Empty Callback */</span></div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#aa7b5ceddc28bfdfc42487080e85bbb79">TxFifoEmptyCallback</a>(hsmartcard);</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;    <span class="comment">/* Call legacy weak Tx Fifo Empty Callback */</span></div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;    <a class="code" href="group__SMARTCARDEx__Exported__Functions__Group2.html#gaf151004567f0e6d8cbe613b6090d8d72">HAL_SMARTCARDEx_TxFifoEmptyCallback</a>(hsmartcard);</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USE_HAL_SMARTCARD_REGISTER_CALLBACK */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;  }</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160; </div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;  <span class="comment">/* SMARTCARD RX Fifo Full occurred ----------------------------------------------*/</span></div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;  <span class="keywordflow">if</span> (((isrflags &amp; USART_ISR_RXFF) != 0U) &amp;&amp; ((cr1its &amp; USART_CR1_RXFFIE) != 0U))</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;  {</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;<span class="preprocessor">#if (USE_HAL_SMARTCARD_REGISTER_CALLBACKS == 1)</span></div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;    <span class="comment">/* Call registered Rx Fifo Full Callback */</span></div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a136c85a2855fdf4415847343fc990706">RxFifoFullCallback</a>(hsmartcard);</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;    <span class="comment">/* Call legacy weak Rx Fifo Full Callback */</span></div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;    <a class="code" href="group__SMARTCARDEx__Exported__Functions__Group2.html#gaa6a182c1cb28509258f4210526ce563d">HAL_SMARTCARDEx_RxFifoFullCallback</a>(hsmartcard);</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USE_HAL_SMARTCARD_REGISTER_CALLBACK */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;  }</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR1_FIFOEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga76a737413971e6a9f9b73d4d5417ded7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga76a737413971e6a9f9b73d4d5417ded7">&#9670;&nbsp;</a></span>HAL_SMARTCARD_Receive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_SMARTCARD_Receive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__SMARTCARD__Exported__Types.html#gacac4738e024e074300b4d9a279a2b644">SMARTCARD_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hsmartcard</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>Timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive an amount of data in blocking mode. </p>
<dl class="section note"><dt>Note</dt><dd>When FIFO mode is enabled, the RXFNE flag is set as long as the RXFIFO is not empty. Read operations from the RDR register are performed when RXFNE flag is set. From hardware perspective, RXFNE flag and RXNE are mapped on the same bit-field. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hsmartcard</td><td>Pointer to a SMARTCARD_HandleTypeDef structure that contains the configuration information for the specified SMARTCARD module. </td></tr>
    <tr><td class="paramname">pData</td><td>pointer to data buffer. </td></tr>
    <tr><td class="paramname">Size</td><td>amount of data to be received. </td></tr>
    <tr><td class="paramname">Timeout</td><td>Timeout duration. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__smartcard_8c_source.html#l00907">907</a> of file <a class="el" href="stm32l4xx__hal__smartcard_8c_source.html">stm32l4xx_hal_smartcard.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;{</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  uint32_t tickstart;</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  uint8_t  *ptmpdata = pData;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160; </div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  <span class="comment">/* Check that a Rx process is not already ongoing */</span></div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  <span class="keywordflow">if</span> (hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#abc8f87305236c2c667d6d33f71743bf5">RxState</a> == HAL_SMARTCARD_STATE_READY)</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  {</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <span class="keywordflow">if</span> ((ptmpdata == NULL) || (Size == 0U))</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    {</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;      <span class="keywordflow">return</span>  HAL_ERROR;</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    }</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160; </div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    <span class="comment">/* Process Locked */</span></div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(hsmartcard);</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160; </div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#aa101608d41d5567812b9eeab2bf6dcd0">ErrorCode</a> = HAL_SMARTCARD_ERROR_NONE;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#abc8f87305236c2c667d6d33f71743bf5">RxState</a>   = HAL_SMARTCARD_STATE_BUSY_RX;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160; </div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <span class="comment">/* Init tickstart for timeout management */</span></div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    tickstart = <a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>();</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160; </div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a7652bd6fc4c4af00c4b137a62a8168c3">RxXferSize</a> = Size;</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ab27372badf08f127c2b994b641909d4c">RxXferCount</a> = Size;</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160; </div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    <span class="comment">/* Check the remain data to be received */</span></div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    <span class="keywordflow">while</span> (hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ab27372badf08f127c2b994b641909d4c">RxXferCount</a> &gt; 0U)</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    {</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;      hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ab27372badf08f127c2b994b641909d4c">RxXferCount</a>--;</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160; </div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="group__SMARTCARD__Private__Functions.html#ga8f612244ee80b7c02ba31f1c75b6f0a0">SMARTCARD_WaitOnFlagUntilTimeout</a>(hsmartcard, SMARTCARD_FLAG_RXNE, RESET, tickstart, Timeout) != <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;      {</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;      }</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;      *ptmpdata = (uint8_t)(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;RDR &amp; (uint8_t)0x00FF);</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;      ptmpdata++;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    }</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160; </div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    <span class="comment">/* At end of Rx process, restore hsmartcard-&gt;RxState to Ready */</span></div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#abc8f87305236c2c667d6d33f71743bf5">RxState</a> = HAL_SMARTCARD_STATE_READY;</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160; </div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hsmartcard);</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160; </div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;  }</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;  {</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    <span class="keywordflow">return</span> HAL_BUSY;</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  }</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gab6badb09777dd216620cb6b495155a74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab6badb09777dd216620cb6b495155a74">&#9670;&nbsp;</a></span>HAL_SMARTCARD_Receive_DMA()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_SMARTCARD_Receive_DMA </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__SMARTCARD__Exported__Types.html#gacac4738e024e074300b4d9a279a2b644">SMARTCARD_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hsmartcard</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive an amount of data in DMA mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hsmartcard</td><td>Pointer to a SMARTCARD_HandleTypeDef structure that contains the configuration information for the specified SMARTCARD module. </td></tr>
    <tr><td class="paramname">pData</td><td>pointer to data buffer. </td></tr>
    <tr><td class="paramname">Size</td><td>amount of data to be received. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The SMARTCARD-associated USART parity is enabled (PCE = 1), the received data contain the parity bit (MSB position). </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__smartcard_8c_source.html#l01238">1238</a> of file <a class="el" href="stm32l4xx__hal__smartcard_8c_source.html">stm32l4xx_hal_smartcard.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;{</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;  <span class="comment">/* Check that a Rx process is not already ongoing */</span></div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;  <span class="keywordflow">if</span> (hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#abc8f87305236c2c667d6d33f71743bf5">RxState</a> == HAL_SMARTCARD_STATE_READY)</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;  {</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    <span class="keywordflow">if</span> ((pData == NULL) || (Size == 0U))</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    {</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;      <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    }</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160; </div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    <span class="comment">/* Process Locked */</span></div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(hsmartcard);</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160; </div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#aa101608d41d5567812b9eeab2bf6dcd0">ErrorCode</a> = HAL_SMARTCARD_ERROR_NONE;</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#abc8f87305236c2c667d6d33f71743bf5">RxState</a>   = HAL_SMARTCARD_STATE_BUSY_RX;</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160; </div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a86ae9f6af45b4b55128b2d0f1cc1a45b">pRxBuffPtr</a> = pData;</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a7652bd6fc4c4af00c4b137a62a8168c3">RxXferSize</a> = Size;</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160; </div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    <span class="comment">/* Set the SMARTCARD DMA transfer complete callback */</span></div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a59e5bc292232864a5d7e649aec647da1">hdmarx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a4f323d8234b3f5f454a639e9df3cba23">XferCpltCallback</a> = <a class="code" href="group__SMARTCARD__Private__Functions.html#ga954ca6a61a0598a3c894b0a2ad6bd5ae">SMARTCARD_DMAReceiveCplt</a>;</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160; </div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <span class="comment">/* Set the SMARTCARD DMA error callback */</span></div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a59e5bc292232864a5d7e649aec647da1">hdmarx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a5905bba1de7dc9d803a50dfb44d0a9e8">XferErrorCallback</a> = <a class="code" href="group__SMARTCARD__Private__Functions.html#ga580ea553410e47088b7b8e1176036a8a">SMARTCARD_DMAError</a>;</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160; </div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    <span class="comment">/* Set the DMA abort callback */</span></div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a59e5bc292232864a5d7e649aec647da1">hdmarx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a5866f59e3a12760e559c4547ebf19d37">XferAbortCallback</a> = NULL;</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160; </div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    <span class="comment">/* Enable the DMA channel */</span></div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__DMA__Exported__Functions__Group2.html#ga7eddc0931ac8a3d77b23d6d5e68407c7">HAL_DMA_Start_IT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a59e5bc292232864a5d7e649aec647da1">hdmarx</a>, (uint32_t)&amp;hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;RDR, (uint32_t)hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a86ae9f6af45b4b55128b2d0f1cc1a45b">pRxBuffPtr</a>,</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;                         Size) == <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    {</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;      <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hsmartcard);</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160; </div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;      <span class="comment">/* Enable the SMARTCARD Parity Error Interrupt */</span></div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;      SET_BIT(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR1, USART_CR1_PEIE);</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160; </div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;      <span class="comment">/* Enable the SMARTCARD Error Interrupt: (Frame error, noise error, overrun error) */</span></div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;      SET_BIT(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_EIE);</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160; </div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;      <span class="comment">/* Enable the DMA transfer for the receiver request by setting the DMAR bit</span></div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;<span class="comment">         in the SMARTCARD associated USART CR3 register */</span></div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;      SET_BIT(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_DMAR);</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160; </div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    }</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    {</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;      <span class="comment">/* Set error code to DMA */</span></div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;      hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#aa101608d41d5567812b9eeab2bf6dcd0">ErrorCode</a> = HAL_SMARTCARD_ERROR_DMA;</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160; </div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;      <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hsmartcard);</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160; </div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;      <span class="comment">/* Restore hsmartcard-&gt;State to ready */</span></div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;      hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#abc8f87305236c2c667d6d33f71743bf5">RxState</a> = HAL_SMARTCARD_STATE_READY;</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160; </div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;      <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    }</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;  }</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  {</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    <span class="keywordflow">return</span> HAL_BUSY;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;  }</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga8a93d1c5edc3146acb660a0c21428cc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8a93d1c5edc3146acb660a0c21428cc9">&#9670;&nbsp;</a></span>HAL_SMARTCARD_Receive_IT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_SMARTCARD_Receive_IT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__SMARTCARD__Exported__Types.html#gacac4738e024e074300b4d9a279a2b644">SMARTCARD_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hsmartcard</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive an amount of data in interrupt mode. </p>
<dl class="section note"><dt>Note</dt><dd>When FIFO mode is disabled, USART interrupt is generated whenever USART_RDR register can be read, i.e one interrupt per data to receive. </dd>
<dd>
When FIFO mode is enabled, USART interrupt is generated whenever RXFIFO threshold reached. In that case the interrupt rate depends on RXFIFO threshold configuration. </dd>
<dd>
This function sets the hsmartcard-&gt;RxIsr function pointer according to the FIFO mode (data reception processing depends on FIFO mode). </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hsmartcard</td><td>Pointer to a SMARTCARD_HandleTypeDef structure that contains the configuration information for the specified SMARTCARD module. </td></tr>
    <tr><td class="paramname">pData</td><td>pointer to data buffer. </td></tr>
    <tr><td class="paramname">Size</td><td>amount of data to be received. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__smartcard_8c_source.html#l01074">1074</a> of file <a class="el" href="stm32l4xx__hal__smartcard_8c_source.html">stm32l4xx_hal_smartcard.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;{</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  <span class="comment">/* Check that a Rx process is not already ongoing */</span></div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  <span class="keywordflow">if</span> (hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#abc8f87305236c2c667d6d33f71743bf5">RxState</a> == HAL_SMARTCARD_STATE_READY)</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;  {</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <span class="keywordflow">if</span> ((pData == NULL) || (Size == 0U))</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    {</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;      <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    }</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160; </div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <span class="comment">/* Process Locked */</span></div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(hsmartcard);</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160; </div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#aa101608d41d5567812b9eeab2bf6dcd0">ErrorCode</a> = HAL_SMARTCARD_ERROR_NONE;</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#abc8f87305236c2c667d6d33f71743bf5">RxState</a>   = HAL_SMARTCARD_STATE_BUSY_RX;</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160; </div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a86ae9f6af45b4b55128b2d0f1cc1a45b">pRxBuffPtr</a> = pData;</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a7652bd6fc4c4af00c4b137a62a8168c3">RxXferSize</a> = Size;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ab27372badf08f127c2b994b641909d4c">RxXferCount</a> = Size;</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160; </div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <span class="comment">/* Configure Rx interrupt processing */</span></div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;<span class="preprocessor">#if defined(USART_CR1_FIFOEN)</span></div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <span class="keywordflow">if</span> ((hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a25621e9bfe0d89d38a645de0ab6f0b7b">FifoMode</a> == SMARTCARD_FIFOMODE_ENABLE) &amp;&amp; (Size &gt;= hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#af396df108df4eb8451e5f2a33d02c86d">NbRxDataToProcess</a>))</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    {</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;      <span class="comment">/* Set the Rx ISR function pointer */</span></div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;      hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ada56b61f74c2dcf993fde53a8ca83807">RxISR</a> = <a class="code" href="group__SMARTCARD__Private__Functions.html#ga397bfa3434fd51c1c42da43ab5e6a39f">SMARTCARD_RxISR_FIFOEN</a>;</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160; </div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;      <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hsmartcard);</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160; </div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;      <span class="comment">/* Enable the SMARTCART Parity Error interrupt and RX FIFO Threshold interrupt */</span></div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;      SET_BIT(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR1, USART_CR1_PEIE);</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;      SET_BIT(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_RXFTIE);</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    }</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    {</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;      <span class="comment">/* Set the Rx ISR function pointer */</span></div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;      hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ada56b61f74c2dcf993fde53a8ca83807">RxISR</a> = <a class="code" href="group__SMARTCARD__Private__Functions.html#ga899acb5cd655f2278ecd1ff057fd5a72">SMARTCARD_RxISR</a>;</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160; </div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;      <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hsmartcard);</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160; </div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;      <span class="comment">/* Enable the SMARTCARD Parity Error and Data Register not empty Interrupts */</span></div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;      SET_BIT(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR1, USART_CR1_PEIE | USART_CR1_RXNEIE_RXFNEIE);</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    }</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    <span class="comment">/* Set the Rx ISR function pointer */</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ada56b61f74c2dcf993fde53a8ca83807">RxISR</a> = <a class="code" href="group__SMARTCARD__Private__Functions.html#ga899acb5cd655f2278ecd1ff057fd5a72">SMARTCARD_RxISR</a>;</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160; </div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hsmartcard);</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160; </div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    <span class="comment">/* Enable the SMARTCARD Parity Error and Data Register not empty Interrupts */</span></div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    SET_BIT(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR1, USART_CR1_PEIE | USART_CR1_RXNEIE);</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR1_FIFOEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160; </div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <span class="comment">/* Enable the SMARTCARD Error Interrupt: (Frame error, noise error, overrun error) */</span></div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    SET_BIT(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_EIE);</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160; </div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;  }</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;  {</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    <span class="keywordflow">return</span> HAL_BUSY;</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;  }</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga862295ff74fcfcd166c6ab6015d5acba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga862295ff74fcfcd166c6ab6015d5acba">&#9670;&nbsp;</a></span>HAL_SMARTCARD_RxCpltCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak void HAL_SMARTCARD_RxCpltCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__SMARTCARD__Exported__Types.html#gacac4738e024e074300b4d9a279a2b644">SMARTCARD_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hsmartcard</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rx Transfer completed callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hsmartcard</td><td>Pointer to a SMARTCARD_HandleTypeDef structure that contains the configuration information for the specified SMARTCARD module. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__smartcard_8c_source.html#l02232">2232</a> of file <a class="el" href="stm32l4xx__hal__smartcard_8c_source.html">stm32l4xx_hal_smartcard.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;{</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;  <span class="comment">/* Prevent unused argument(s) compilation warning */</span></div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;  UNUSED(hsmartcard);</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160; </div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;  <span class="comment">/* NOTE : This function should not be modified, when the callback is needed,</span></div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;<span class="comment">            the HAL_SMARTCARD_RxCpltCallback can be implemented in the user file.</span></div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga6fc4e733cba772df5e60580fb58135bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6fc4e733cba772df5e60580fb58135bd">&#9670;&nbsp;</a></span>HAL_SMARTCARD_Transmit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_SMARTCARD_Transmit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__SMARTCARD__Exported__Types.html#gacac4738e024e074300b4d9a279a2b644">SMARTCARD_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hsmartcard</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>Timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send an amount of data in blocking mode. </p>
<dl class="section note"><dt>Note</dt><dd>When FIFO mode is enabled, writing a data in the TDR register adds one data to the TXFIFO. Write operations to the TDR register are performed when TXFNF flag is set. From hardware perspective, TXFNF flag and TXE are mapped on the same bit-field. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hsmartcard</td><td>Pointer to a SMARTCARD_HandleTypeDef structure that contains the configuration information for the specified SMARTCARD module. </td></tr>
    <tr><td class="paramname">pData</td><td>pointer to data buffer. </td></tr>
    <tr><td class="paramname">Size</td><td>amount of data to be sent. </td></tr>
    <tr><td class="paramname">Timeout</td><td>Timeout duration. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__smartcard_8c_source.html#l00818">818</a> of file <a class="el" href="stm32l4xx__hal__smartcard_8c_source.html">stm32l4xx_hal_smartcard.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;{</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  uint32_t tickstart;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  uint8_t  *ptmpdata = pData;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160; </div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  <span class="comment">/* Check that a Tx process is not already ongoing */</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  <span class="keywordflow">if</span> (hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ab2ef55c738d87c61cca405b5d373527b">gState</a> == HAL_SMARTCARD_STATE_READY)</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  {</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <span class="keywordflow">if</span> ((ptmpdata == NULL) || (Size == 0U))</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    {</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;      <span class="keywordflow">return</span>  HAL_ERROR;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    }</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160; </div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="comment">/* Process Locked */</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(hsmartcard);</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160; </div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ab2ef55c738d87c61cca405b5d373527b">gState</a> = HAL_SMARTCARD_STATE_BUSY_TX;</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160; </div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    <span class="comment">/* Init tickstart for timeout management */</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    tickstart = <a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>();</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160; </div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <span class="comment">/* Disable the Peripheral first to update mode for TX master */</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR1, USART_CR1_UE);</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160; </div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <span class="comment">/* Disable Rx, enable Tx */</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR1, USART_CR1_RE);</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    SET_BIT(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;RQR, (uint16_t)SMARTCARD_RXDATA_FLUSH_REQUEST);</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    SET_BIT(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR1, USART_CR1_TE);</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160; </div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <span class="comment">/* Enable the Peripheral */</span></div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    SET_BIT(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR1, USART_CR1_UE);</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160; </div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#aa101608d41d5567812b9eeab2bf6dcd0">ErrorCode</a> = HAL_SMARTCARD_ERROR_NONE;</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a83469916409a52d96a3ac708f7d5be6b">TxXferSize</a> = Size;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a651e1499c1bb95e664ad3035da4d1ba5">TxXferCount</a> = Size;</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160; </div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <span class="keywordflow">while</span> (hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a651e1499c1bb95e664ad3035da4d1ba5">TxXferCount</a> &gt; 0U)</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    {</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;      hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a651e1499c1bb95e664ad3035da4d1ba5">TxXferCount</a>--;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="group__SMARTCARD__Private__Functions.html#ga8f612244ee80b7c02ba31f1c75b6f0a0">SMARTCARD_WaitOnFlagUntilTimeout</a>(hsmartcard, SMARTCARD_FLAG_TXE, RESET, tickstart, Timeout) != <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;      {</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;      }</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;      hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;TDR = (uint8_t)(*ptmpdata &amp; 0xFFU);</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;      ptmpdata++;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    }</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__SMARTCARD__Private__Functions.html#ga8f612244ee80b7c02ba31f1c75b6f0a0">SMARTCARD_WaitOnFlagUntilTimeout</a>(hsmartcard, SMARTCARD_TRANSMISSION_COMPLETION_FLAG(hsmartcard), RESET, tickstart,</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;                                         Timeout) != <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    {</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;      <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    }</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <span class="comment">/* Re-enable Rx at end of transmission if initial mode is Rx/Tx */</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="keywordflow">if</span> (hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a59a72e39242b41f71b6e889e444fcec2">Init</a>.<a class="code" href="group__SMARTCARD__Exported__Types.html#ae463dcdf4b88fd62513ebf2da231d539">Mode</a> == SMARTCARD_MODE_TX_RX)</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    {</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;      <span class="comment">/* Disable the Peripheral first to update modes */</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR1, USART_CR1_UE);</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;      SET_BIT(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR1, USART_CR1_RE);</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;      <span class="comment">/* Enable the Peripheral */</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      SET_BIT(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR1, USART_CR1_UE);</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    }</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160; </div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <span class="comment">/* At end of Tx process, restore hsmartcard-&gt;gState to Ready */</span></div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ab2ef55c738d87c61cca405b5d373527b">gState</a> = HAL_SMARTCARD_STATE_READY;</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160; </div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hsmartcard);</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160; </div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;  }</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  {</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <span class="keywordflow">return</span> HAL_BUSY;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  }</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gadffc6db4ad0eb7d377291c593247ccd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadffc6db4ad0eb7d377291c593247ccd3">&#9670;&nbsp;</a></span>HAL_SMARTCARD_Transmit_DMA()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_SMARTCARD_Transmit_DMA </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__SMARTCARD__Exported__Types.html#gacac4738e024e074300b4d9a279a2b644">SMARTCARD_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hsmartcard</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send an amount of data in DMA mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hsmartcard</td><td>Pointer to a SMARTCARD_HandleTypeDef structure that contains the configuration information for the specified SMARTCARD module. </td></tr>
    <tr><td class="paramname">pData</td><td>pointer to data buffer. </td></tr>
    <tr><td class="paramname">Size</td><td>amount of data to be sent. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__smartcard_8c_source.html#l01149">1149</a> of file <a class="el" href="stm32l4xx__hal__smartcard_8c_source.html">stm32l4xx_hal_smartcard.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;{</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;  <span class="comment">/* Check that a Tx process is not already ongoing */</span></div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;  <span class="keywordflow">if</span> (hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ab2ef55c738d87c61cca405b5d373527b">gState</a> == HAL_SMARTCARD_STATE_READY)</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;  {</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    <span class="keywordflow">if</span> ((pData == NULL) || (Size == 0U))</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    {</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;      <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    }</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160; </div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    <span class="comment">/* Process Locked */</span></div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(hsmartcard);</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160; </div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ab2ef55c738d87c61cca405b5d373527b">gState</a> = HAL_SMARTCARD_STATE_BUSY_TX;</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160; </div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#aa101608d41d5567812b9eeab2bf6dcd0">ErrorCode</a> = HAL_SMARTCARD_ERROR_NONE;</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a853857df3286e3814b53b6c9d6c86ac3">pTxBuffPtr</a> = pData;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a83469916409a52d96a3ac708f7d5be6b">TxXferSize</a> = Size;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a651e1499c1bb95e664ad3035da4d1ba5">TxXferCount</a> = Size;</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160; </div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    <span class="comment">/* Disable the Peripheral first to update mode for TX master */</span></div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR1, USART_CR1_UE);</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160; </div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    <span class="comment">/* Disable Rx, enable Tx */</span></div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR1, USART_CR1_RE);</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    SET_BIT(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;RQR, (uint16_t)SMARTCARD_RXDATA_FLUSH_REQUEST);</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    SET_BIT(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR1, USART_CR1_TE);</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160; </div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    <span class="comment">/* Enable the Peripheral */</span></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    SET_BIT(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR1, USART_CR1_UE);</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160; </div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    <span class="comment">/* Set the SMARTCARD DMA transfer complete callback */</span></div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ad4f91901fc66a21696bc34544bf0e8ae">hdmatx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a4f323d8234b3f5f454a639e9df3cba23">XferCpltCallback</a> = <a class="code" href="group__SMARTCARD__Private__Functions.html#gac922f38d6a58ca9c4bd386e190a3f34c">SMARTCARD_DMATransmitCplt</a>;</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160; </div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    <span class="comment">/* Set the SMARTCARD error callback */</span></div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ad4f91901fc66a21696bc34544bf0e8ae">hdmatx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a5905bba1de7dc9d803a50dfb44d0a9e8">XferErrorCallback</a> = <a class="code" href="group__SMARTCARD__Private__Functions.html#ga580ea553410e47088b7b8e1176036a8a">SMARTCARD_DMAError</a>;</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160; </div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    <span class="comment">/* Set the DMA abort callback */</span></div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ad4f91901fc66a21696bc34544bf0e8ae">hdmatx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a5866f59e3a12760e559c4547ebf19d37">XferAbortCallback</a> = NULL;</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160; </div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    <span class="comment">/* Enable the SMARTCARD transmit DMA channel */</span></div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__DMA__Exported__Functions__Group2.html#ga7eddc0931ac8a3d77b23d6d5e68407c7">HAL_DMA_Start_IT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ad4f91901fc66a21696bc34544bf0e8ae">hdmatx</a>, (uint32_t)hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a853857df3286e3814b53b6c9d6c86ac3">pTxBuffPtr</a>, (uint32_t)&amp;hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;TDR,</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;                         Size) == <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    {</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;      <span class="comment">/* Clear the TC flag in the ICR register */</span></div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;ICR, USART_ICR_TCCF);</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160; </div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;      <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hsmartcard);</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160; </div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;      <span class="comment">/* Enable the UART Error Interrupt: (Frame error) */</span></div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;      SET_BIT(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_EIE);</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160; </div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;      <span class="comment">/* Enable the DMA transfer for transmit request by setting the DMAT bit</span></div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;<span class="comment">         in the SMARTCARD associated USART CR3 register */</span></div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;      SET_BIT(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_DMAT);</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160; </div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    }</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    {</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;      <span class="comment">/* Set error code to DMA */</span></div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;      hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#aa101608d41d5567812b9eeab2bf6dcd0">ErrorCode</a> = HAL_SMARTCARD_ERROR_DMA;</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160; </div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;      <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hsmartcard);</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160; </div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;      <span class="comment">/* Restore hsmartcard-&gt;State to ready */</span></div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;      hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ab2ef55c738d87c61cca405b5d373527b">gState</a> = HAL_SMARTCARD_STATE_READY;</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160; </div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;      <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    }</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;  }</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;  {</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    <span class="keywordflow">return</span> HAL_BUSY;</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;  }</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga5ead500d4e2ca29e0a11d18db76a45b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5ead500d4e2ca29e0a11d18db76a45b2">&#9670;&nbsp;</a></span>HAL_SMARTCARD_Transmit_IT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_SMARTCARD_Transmit_IT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__SMARTCARD__Exported__Types.html#gacac4738e024e074300b4d9a279a2b644">SMARTCARD_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hsmartcard</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send an amount of data in interrupt mode. </p>
<dl class="section note"><dt>Note</dt><dd>When FIFO mode is disabled, USART interrupt is generated whenever USART_TDR register is empty, i.e one interrupt per data to transmit. </dd>
<dd>
When FIFO mode is enabled, USART interrupt is generated whenever TXFIFO threshold reached. In that case the interrupt rate depends on TXFIFO threshold configuration. </dd>
<dd>
This function sets the hsmartcard-&gt;TxIsr function pointer according to the FIFO mode (data transmission processing depends on FIFO mode). </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hsmartcard</td><td>Pointer to a SMARTCARD_HandleTypeDef structure that contains the configuration information for the specified SMARTCARD module. </td></tr>
    <tr><td class="paramname">pData</td><td>pointer to data buffer. </td></tr>
    <tr><td class="paramname">Size</td><td>amount of data to be sent. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__smartcard_8c_source.html#l00975">975</a> of file <a class="el" href="stm32l4xx__hal__smartcard_8c_source.html">stm32l4xx_hal_smartcard.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;{</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  <span class="comment">/* Check that a Tx process is not already ongoing */</span></div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;  <span class="keywordflow">if</span> (hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ab2ef55c738d87c61cca405b5d373527b">gState</a> == HAL_SMARTCARD_STATE_READY)</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;  {</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    <span class="keywordflow">if</span> ((pData == NULL) || (Size == 0U))</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    {</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;      <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    }</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160; </div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    <span class="comment">/* Process Locked */</span></div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(hsmartcard);</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160; </div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#aa101608d41d5567812b9eeab2bf6dcd0">ErrorCode</a> = HAL_SMARTCARD_ERROR_NONE;</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#ab2ef55c738d87c61cca405b5d373527b">gState</a> = HAL_SMARTCARD_STATE_BUSY_TX;</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160; </div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a853857df3286e3814b53b6c9d6c86ac3">pTxBuffPtr</a>  = pData;</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a83469916409a52d96a3ac708f7d5be6b">TxXferSize</a>  = Size;</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a651e1499c1bb95e664ad3035da4d1ba5">TxXferCount</a> = Size;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a92823278ce4cb376e3d3af5065a5d4ad">TxISR</a>       = NULL;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160; </div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    <span class="comment">/* Disable the Peripheral first to update mode for TX master */</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR1, USART_CR1_UE);</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160; </div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    <span class="comment">/* Disable Rx, enable Tx */</span></div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR1, USART_CR1_RE);</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    SET_BIT(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;RQR, (uint16_t)SMARTCARD_RXDATA_FLUSH_REQUEST);</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    SET_BIT(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR1, USART_CR1_TE);</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160; </div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    <span class="comment">/* Enable the Peripheral */</span></div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    SET_BIT(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR1, USART_CR1_UE);</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160; </div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="comment">/* Configure Tx interrupt processing */</span></div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;<span class="preprocessor">#if defined(USART_CR1_FIFOEN)</span></div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <span class="keywordflow">if</span> (hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a25621e9bfe0d89d38a645de0ab6f0b7b">FifoMode</a> == SMARTCARD_FIFOMODE_ENABLE)</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    {</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;      <span class="comment">/* Set the Tx ISR function pointer */</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;      hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a92823278ce4cb376e3d3af5065a5d4ad">TxISR</a> = <a class="code" href="group__SMARTCARD__Private__Functions.html#ga33e8495a8ed34415b3d4bfb66ab2fa01">SMARTCARD_TxISR_FIFOEN</a>;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160; </div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;      <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hsmartcard);</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160; </div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;      <span class="comment">/* Enable the SMARTCARD Error Interrupt: (Frame error) */</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;      SET_BIT(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_EIE);</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160; </div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;      <span class="comment">/* Enable the TX FIFO threshold interrupt */</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;      SET_BIT(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_TXFTIE);</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    }</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    {</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;      <span class="comment">/* Set the Tx ISR function pointer */</span></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;      hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a92823278ce4cb376e3d3af5065a5d4ad">TxISR</a> = <a class="code" href="group__SMARTCARD__Private__Functions.html#gaaefb676f6a39f2de834f542d47865b14">SMARTCARD_TxISR</a>;</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160; </div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;      <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hsmartcard);</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160; </div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;      <span class="comment">/* Enable the SMARTCARD Error Interrupt: (Frame error) */</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;      SET_BIT(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_EIE);</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160; </div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;      <span class="comment">/* Enable the SMARTCARD Transmit Data Register Empty Interrupt */</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;      SET_BIT(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR1, USART_CR1_TXEIE_TXFNFIE);</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    }</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <span class="comment">/* Set the Tx ISR function pointer */</span></div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a92823278ce4cb376e3d3af5065a5d4ad">TxISR</a> = <a class="code" href="group__SMARTCARD__Private__Functions.html#gaaefb676f6a39f2de834f542d47865b14">SMARTCARD_TxISR</a>;</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160; </div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hsmartcard);</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160; </div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="comment">/* Enable the SMARTCARD Error Interrupt: (Frame error) */</span></div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    SET_BIT(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR3, USART_CR3_EIE);</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160; </div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <span class="comment">/* Enable the SMARTCARD Transmit Data Register Empty Interrupt */</span></div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    SET_BIT(hsmartcard-&gt;<a class="code" href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">Instance</a>-&gt;CR1, USART_CR1_TXEIE);</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR1_FIFOEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160; </div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;  }</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;  {</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <span class="keywordflow">return</span> HAL_BUSY;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;  }</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gab066d2ff56a13d83832de0230e8a6fa5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab066d2ff56a13d83832de0230e8a6fa5">&#9670;&nbsp;</a></span>HAL_SMARTCARD_TxCpltCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak void HAL_SMARTCARD_TxCpltCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__SMARTCARD__Exported__Types.html#gacac4738e024e074300b4d9a279a2b644">SMARTCARD_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hsmartcard</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tx Transfer completed callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hsmartcard</td><td>Pointer to a SMARTCARD_HandleTypeDef structure that contains the configuration information for the specified SMARTCARD module. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__smartcard_8c_source.html#l02216">2216</a> of file <a class="el" href="stm32l4xx__hal__smartcard_8c_source.html">stm32l4xx_hal_smartcard.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;{</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;  <span class="comment">/* Prevent unused argument(s) compilation warning */</span></div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;  UNUSED(hsmartcard);</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160; </div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;  <span class="comment">/* NOTE : This function should not be modified, when the callback is needed,</span></div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;<span class="comment">            the HAL_SMARTCARD_TxCpltCallback can be implemented in the user file.</span></div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="agroup__SMARTCARD__Exported__Types_html_abc8f87305236c2c667d6d33f71743bf5"><div class="ttname"><a href="group__SMARTCARD__Exported__Types.html#abc8f87305236c2c667d6d33f71743bf5">__SMARTCARD_HandleTypeDef::RxState</a></div><div class="ttdeci">__IO HAL_SMARTCARD_StateTypeDef RxState</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8h_source.html#l00238">stm32l4xx_hal_smartcard.h:238</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Private__Functions_html_gaa88edaeb756c0e53395cff297ffe6cf6"><div class="ttname"><a href="group__SMARTCARD__Private__Functions.html#gaa88edaeb756c0e53395cff297ffe6cf6">SMARTCARD_EndTransmit_IT</a></div><div class="ttdeci">static void SMARTCARD_EndTransmit_IT(SMARTCARD_HandleTypeDef *hsmartcard)</div><div class="ttdoc">Wrap up transmission in non-blocking mode.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8c_source.html#l03095">stm32l4xx_hal_smartcard.c:3095</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Private__Functions_html_ga580ea553410e47088b7b8e1176036a8a"><div class="ttname"><a href="group__SMARTCARD__Private__Functions.html#ga580ea553410e47088b7b8e1176036a8a">SMARTCARD_DMAError</a></div><div class="ttdeci">static void SMARTCARD_DMAError(DMA_HandleTypeDef *hdma)</div><div class="ttdoc">DMA SMARTCARD communication error callback.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8c_source.html#l02799">stm32l4xx_hal_smartcard.c:2799</a></div></div>
<div class="ttc" id="agroup__RTCEx__Exported__Functions__Group2_html_ga4734c37dd6682d79ce748b9bff126f66"><div class="ttname"><a href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a></div><div class="ttdeci">CLEAR_BIT(hrtc-&gt;Instance-&gt;CR, RTC_CR_WUTE)</div></div>
<div class="ttc" id="agroup__SMARTCARD__Private__Functions_html_ga066f75aa99906ab181de94371b0d1888"><div class="ttname"><a href="group__SMARTCARD__Private__Functions.html#ga066f75aa99906ab181de94371b0d1888">SMARTCARD_DMAAbortOnError</a></div><div class="ttdeci">static void SMARTCARD_DMAAbortOnError(DMA_HandleTypeDef *hdma)</div><div class="ttdoc">DMA SMARTCARD communication abort callback, when initiated by HAL services on Error (To be called at ...</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8c_source.html#l02839">stm32l4xx_hal_smartcard.c:2839</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Exported__Types_html_a92823278ce4cb376e3d3af5065a5d4ad"><div class="ttname"><a href="group__SMARTCARD__Exported__Types.html#a92823278ce4cb376e3d3af5065a5d4ad">__SMARTCARD_HandleTypeDef::TxISR</a></div><div class="ttdeci">void(* TxISR)(struct __SMARTCARD_HandleTypeDef *huart)</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8h_source.html#l00226">stm32l4xx_hal_smartcard.h:226</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Exported__Types_html_aa7b5ceddc28bfdfc42487080e85bbb79"><div class="ttname"><a href="group__SMARTCARD__Exported__Types.html#aa7b5ceddc28bfdfc42487080e85bbb79">__SMARTCARD_HandleTypeDef::TxFifoEmptyCallback</a></div><div class="ttdeci">void(* TxFifoEmptyCallback)(struct __SMARTCARD_HandleTypeDef *hsmartcard)</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8h_source.html#l00259">stm32l4xx_hal_smartcard.h:259</a></div></div>
<div class="ttc" id="agroup__RTCEx__Exported__Functions__Group2_html_ga3feac430acb1b5e74ad139639f3af9ca"><div class="ttname"><a href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a></div><div class="ttdeci">__HAL_UNLOCK(hrtc)</div></div>
<div class="ttc" id="agroup__SMARTCARD__Private__Functions_html_ga9e12f2c0bac3b487d521224da8cd274e"><div class="ttname"><a href="group__SMARTCARD__Private__Functions.html#ga9e12f2c0bac3b487d521224da8cd274e">SMARTCARD_DMARxOnlyAbortCallback</a></div><div class="ttdeci">static void SMARTCARD_DMARxOnlyAbortCallback(DMA_HandleTypeDef *hdma)</div><div class="ttdoc">DMA SMARTCARD Rx communication abort callback, when initiated by user by a call to HAL_SMARTCARD_Abor...</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8c_source.html#l02989">stm32l4xx_hal_smartcard.c:2989</a></div></div>
<div class="ttc" id="astruct____DMA__HandleTypeDef_html_a5866f59e3a12760e559c4547ebf19d37"><div class="ttname"><a href="struct____DMA__HandleTypeDef.html#a5866f59e3a12760e559c4547ebf19d37">__DMA_HandleTypeDef::XferAbortCallback</a></div><div class="ttdeci">void(* XferAbortCallback)(struct __DMA_HandleTypeDef *hdma)</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__dma_8h_source.html#l00131">stm32l4xx_hal_dma.h:131</a></div></div>
<div class="ttc" id="agroup__DMA__Exported__Functions__Group2_html_ga6677d7e614747341a58ffd7a048fd390"><div class="ttname"><a href="group__DMA__Exported__Functions__Group2.html#ga6677d7e614747341a58ffd7a048fd390">HAL_DMA_Abort_IT</a></div><div class="ttdeci">HAL_StatusTypeDef HAL_DMA_Abort_IT(DMA_HandleTypeDef *hdma)</div><div class="ttdoc">Aborts the DMA Transfer in Interrupt mode.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__dma_8c_source.html#l00608">stm32l4xx_hal_dma.c:608</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Private__Functions_html_gac922f38d6a58ca9c4bd386e190a3f34c"><div class="ttname"><a href="group__SMARTCARD__Private__Functions.html#gac922f38d6a58ca9c4bd386e190a3f34c">SMARTCARD_DMATransmitCplt</a></div><div class="ttdeci">static void SMARTCARD_DMATransmitCplt(DMA_HandleTypeDef *hdma)</div><div class="ttdoc">DMA SMARTCARD transmit process complete callback.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8c_source.html#l02749">stm32l4xx_hal_smartcard.c:2749</a></div></div>
<div class="ttc" id="astruct____DMA__HandleTypeDef_html_a4f323d8234b3f5f454a639e9df3cba23"><div class="ttname"><a href="struct____DMA__HandleTypeDef.html#a4f323d8234b3f5f454a639e9df3cba23">__DMA_HandleTypeDef::XferCpltCallback</a></div><div class="ttdeci">void(* XferCpltCallback)(struct __DMA_HandleTypeDef *hdma)</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__dma_8h_source.html#l00125">stm32l4xx_hal_dma.h:125</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Private__Functions_html_ga0dac869961b66a9924f1f8bebb28695e"><div class="ttname"><a href="group__SMARTCARD__Private__Functions.html#ga0dac869961b66a9924f1f8bebb28695e">SMARTCARD_DMATxAbortCallback</a></div><div class="ttdeci">static void SMARTCARD_DMATxAbortCallback(DMA_HandleTypeDef *hdma)</div><div class="ttdoc">DMA SMARTCARD Tx communication abort callback, when initiated by user (To be called at end of DMA Tx ...</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8c_source.html#l02862">stm32l4xx_hal_smartcard.c:2862</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Exported__Types_html_a88e8d6f7113708d3761557e05ba69db2"><div class="ttname"><a href="group__SMARTCARD__Exported__Types.html#a88e8d6f7113708d3761557e05ba69db2">__SMARTCARD_HandleTypeDef::Instance</a></div><div class="ttdeci">USART_TypeDef * Instance</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8h_source.html#l00197">stm32l4xx_hal_smartcard.h:197</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Exported__Functions__Group2_html_ga862295ff74fcfcd166c6ab6015d5acba"><div class="ttname"><a href="group__SMARTCARD__Exported__Functions__Group2.html#ga862295ff74fcfcd166c6ab6015d5acba">HAL_SMARTCARD_RxCpltCallback</a></div><div class="ttdeci">void HAL_SMARTCARD_RxCpltCallback(SMARTCARD_HandleTypeDef *hsmartcard)</div><div class="ttdoc">Rx Transfer completed callback.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8c_source.html#l02232">stm32l4xx_hal_smartcard.c:2232</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Private__Functions_html_ga6918da2c464a0aeef9440f28d50f8faf"><div class="ttname"><a href="group__SMARTCARD__Private__Functions.html#ga6918da2c464a0aeef9440f28d50f8faf">SMARTCARD_DMATxOnlyAbortCallback</a></div><div class="ttdeci">static void SMARTCARD_DMATxOnlyAbortCallback(DMA_HandleTypeDef *hdma)</div><div class="ttdoc">DMA SMARTCARD Tx communication abort callback, when initiated by user by a call to HAL_SMARTCARD_Abor...</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8c_source.html#l02960">stm32l4xx_hal_smartcard.c:2960</a></div></div>
<div class="ttc" id="agroup__HAL__Exported__Functions__Group2_html_gac9b3a85a73735ac840d0dcb59bc0fdd6"><div class="ttname"><a href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a></div><div class="ttdeci">uint32_t HAL_GetTick(void)</div><div class="ttdoc">Provide a tick value in millisecond.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal_8c_source.html#l00337">stm32l4xx_hal.c:337</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Exported__Functions__Group2_html_ga826161c7b0dda5348dfcccc432337974"><div class="ttname"><a href="group__SMARTCARD__Exported__Functions__Group2.html#ga826161c7b0dda5348dfcccc432337974">HAL_SMARTCARD_ErrorCallback</a></div><div class="ttdeci">void HAL_SMARTCARD_ErrorCallback(SMARTCARD_HandleTypeDef *hsmartcard)</div><div class="ttdoc">SMARTCARD error callback.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8c_source.html#l02248">stm32l4xx_hal_smartcard.c:2248</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Private__Functions_html_ga385ee90f15011b14f3789322ccc6b7f0"><div class="ttname"><a href="group__SMARTCARD__Private__Functions.html#ga385ee90f15011b14f3789322ccc6b7f0">SMARTCARD_EndTxTransfer</a></div><div class="ttdeci">static void SMARTCARD_EndTxTransfer(SMARTCARD_HandleTypeDef *hsmartcard)</div><div class="ttdoc">End ongoing Tx transfer on SMARTCARD peripheral (following error detection or Transmit completion).</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8c_source.html#l02707">stm32l4xx_hal_smartcard.c:2707</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Exported__Types_html_ada56b61f74c2dcf993fde53a8ca83807"><div class="ttname"><a href="group__SMARTCARD__Exported__Types.html#ada56b61f74c2dcf993fde53a8ca83807">__SMARTCARD_HandleTypeDef::RxISR</a></div><div class="ttdeci">void(* RxISR)(struct __SMARTCARD_HandleTypeDef *huart)</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8h_source.html#l00224">stm32l4xx_hal_smartcard.h:224</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Private__Functions_html_ga899acb5cd655f2278ecd1ff057fd5a72"><div class="ttname"><a href="group__SMARTCARD__Private__Functions.html#ga899acb5cd655f2278ecd1ff057fd5a72">SMARTCARD_RxISR</a></div><div class="ttdeci">static void SMARTCARD_RxISR(SMARTCARD_HandleTypeDef *hsmartcard)</div><div class="ttdoc">Receive an amount of data in non-blocking mode.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8c_source.html#l03141">stm32l4xx_hal_smartcard.c:3141</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Private__Functions_html_ga954ca6a61a0598a3c894b0a2ad6bd5ae"><div class="ttname"><a href="group__SMARTCARD__Private__Functions.html#ga954ca6a61a0598a3c894b0a2ad6bd5ae">SMARTCARD_DMAReceiveCplt</a></div><div class="ttdeci">static void SMARTCARD_DMAReceiveCplt(DMA_HandleTypeDef *hdma)</div><div class="ttdoc">DMA SMARTCARD receive process complete callback.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8c_source.html#l02768">stm32l4xx_hal_smartcard.c:2768</a></div></div>
<div class="ttc" id="astruct____DMA__HandleTypeDef_html_a5905bba1de7dc9d803a50dfb44d0a9e8"><div class="ttname"><a href="struct____DMA__HandleTypeDef.html#a5905bba1de7dc9d803a50dfb44d0a9e8">__DMA_HandleTypeDef::XferErrorCallback</a></div><div class="ttdeci">void(* XferErrorCallback)(struct __DMA_HandleTypeDef *hdma)</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__dma_8h_source.html#l00129">stm32l4xx_hal_dma.h:129</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Exported__Types_html_a309d51f6a2bf2d1fbf38afd30493150f"><div class="ttname"><a href="group__SMARTCARD__Exported__Types.html#a309d51f6a2bf2d1fbf38afd30493150f">__SMARTCARD_HandleTypeDef::AbortTransmitCpltCallback</a></div><div class="ttdeci">void(* AbortTransmitCpltCallback)(struct __SMARTCARD_HandleTypeDef *hsmartcard)</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8h_source.html#l00252">stm32l4xx_hal_smartcard.h:252</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Exported__Types_html_ab2ef55c738d87c61cca405b5d373527b"><div class="ttname"><a href="group__SMARTCARD__Exported__Types.html#ab2ef55c738d87c61cca405b5d373527b">__SMARTCARD_HandleTypeDef::gState</a></div><div class="ttdeci">__IO HAL_SMARTCARD_StateTypeDef gState</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8h_source.html#l00234">stm32l4xx_hal_smartcard.h:234</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Exported__Types_html_a154f1ca86cd9c57f9e5cda2861bd9dee"><div class="ttname"><a href="group__SMARTCARD__Exported__Types.html#a154f1ca86cd9c57f9e5cda2861bd9dee">SMARTCARD_AdvFeatureInitTypeDef::TxCompletionIndication</a></div><div class="ttdeci">uint16_t TxCompletionIndication</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8h_source.html#l00146">stm32l4xx_hal_smartcard.h:146</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Exported__Types_html_a83469916409a52d96a3ac708f7d5be6b"><div class="ttname"><a href="group__SMARTCARD__Exported__Types.html#a83469916409a52d96a3ac708f7d5be6b">__SMARTCARD_HandleTypeDef::TxXferSize</a></div><div class="ttdeci">uint16_t TxXferSize</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8h_source.html#l00205">stm32l4xx_hal_smartcard.h:205</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Exported__Types_html_a256e29ffdd5ba69799264c5bd2f92858"><div class="ttname"><a href="group__SMARTCARD__Exported__Types.html#a256e29ffdd5ba69799264c5bd2f92858">__SMARTCARD_HandleTypeDef::ErrorCallback</a></div><div class="ttdeci">void(* ErrorCallback)(struct __SMARTCARD_HandleTypeDef *hsmartcard)</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8h_source.html#l00248">stm32l4xx_hal_smartcard.h:248</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Private__Functions_html_gaaefb676f6a39f2de834f542d47865b14"><div class="ttname"><a href="group__SMARTCARD__Private__Functions.html#gaaefb676f6a39f2de834f542d47865b14">SMARTCARD_TxISR</a></div><div class="ttdeci">static void SMARTCARD_TxISR(SMARTCARD_HandleTypeDef *hsmartcard)</div><div class="ttdoc">Send an amount of data in non-blocking mode.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8c_source.html#l03021">stm32l4xx_hal_smartcard.c:3021</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Exported__Types_html_a25621e9bfe0d89d38a645de0ab6f0b7b"><div class="ttname"><a href="group__SMARTCARD__Exported__Types.html#a25621e9bfe0d89d38a645de0ab6f0b7b">__SMARTCARD_HandleTypeDef::FifoMode</a></div><div class="ttdeci">uint32_t FifoMode</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8h_source.html#l00220">stm32l4xx_hal_smartcard.h:220</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Exported__Types_html_ad4f91901fc66a21696bc34544bf0e8ae"><div class="ttname"><a href="group__SMARTCARD__Exported__Types.html#ad4f91901fc66a21696bc34544bf0e8ae">__SMARTCARD_HandleTypeDef::hdmatx</a></div><div class="ttdeci">DMA_HandleTypeDef * hdmatx</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8h_source.html#l00228">stm32l4xx_hal_smartcard.h:228</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Private__Functions_html_ga397bfa3434fd51c1c42da43ab5e6a39f"><div class="ttname"><a href="group__SMARTCARD__Private__Functions.html#ga397bfa3434fd51c1c42da43ab5e6a39f">SMARTCARD_RxISR_FIFOEN</a></div><div class="ttdeci">static void SMARTCARD_RxISR_FIFOEN(SMARTCARD_HandleTypeDef *hsmartcard)</div><div class="ttdoc">Receive an amount of data in non-blocking mode.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8c_source.html#l03199">stm32l4xx_hal_smartcard.c:3199</a></div></div>
<div class="ttc" id="agroup__RTCEx__Exported__Functions__Group2_html_ga05dcbf41f5c5e42a592e9ad9e351391e"><div class="ttname"><a href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a></div><div class="ttdeci">return HAL_OK</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__rtc__ex_8c_source.html#l00885">stm32l4xx_hal_rtc_ex.c:885</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Exported__Types_html_a853857df3286e3814b53b6c9d6c86ac3"><div class="ttname"><a href="group__SMARTCARD__Exported__Types.html#a853857df3286e3814b53b6c9d6c86ac3">__SMARTCARD_HandleTypeDef::pTxBuffPtr</a></div><div class="ttdeci">uint8_t * pTxBuffPtr</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8h_source.html#l00203">stm32l4xx_hal_smartcard.h:203</a></div></div>
<div class="ttc" id="agroup__DMA__Exported__Functions__Group2_html_ga7eddc0931ac8a3d77b23d6d5e68407c7"><div class="ttname"><a href="group__DMA__Exported__Functions__Group2.html#ga7eddc0931ac8a3d77b23d6d5e68407c7">HAL_DMA_Start_IT</a></div><div class="ttdeci">HAL_StatusTypeDef HAL_DMA_Start_IT(DMA_HandleTypeDef *hdma, uint32_t SrcAddress, uint32_t DstAddress, uint32_t DataLength)</div><div class="ttdoc">Start the DMA Transfer with interrupt enabled.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__dma_8c_source.html#l00473">stm32l4xx_hal_dma.c:473</a></div></div>
<div class="ttc" id="agroup__SMARTCARDEx__Exported__Functions__Group2_html_gaf151004567f0e6d8cbe613b6090d8d72"><div class="ttname"><a href="group__SMARTCARDEx__Exported__Functions__Group2.html#gaf151004567f0e6d8cbe613b6090d8d72">HAL_SMARTCARDEx_TxFifoEmptyCallback</a></div><div class="ttdeci">void HAL_SMARTCARDEx_TxFifoEmptyCallback(SMARTCARD_HandleTypeDef *hsmartcard)</div><div class="ttdoc">SMARTCARD TX Fifo empty callback.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard__ex_8c_source.html#l00223">stm32l4xx_hal_smartcard_ex.c:223</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Exported__Types_html_a59a72e39242b41f71b6e889e444fcec2"><div class="ttname"><a href="group__SMARTCARD__Exported__Types.html#a59a72e39242b41f71b6e889e444fcec2">__SMARTCARD_HandleTypeDef::Init</a></div><div class="ttdeci">SMARTCARD_InitTypeDef Init</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8h_source.html#l00199">stm32l4xx_hal_smartcard.h:199</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Exported__Functions__Group2_html_ga4a043795431511385008fc1a2298fdf0"><div class="ttname"><a href="group__SMARTCARD__Exported__Functions__Group2.html#ga4a043795431511385008fc1a2298fdf0">HAL_SMARTCARD_AbortCpltCallback</a></div><div class="ttdeci">void HAL_SMARTCARD_AbortCpltCallback(SMARTCARD_HandleTypeDef *hsmartcard)</div><div class="ttdoc">SMARTCARD Abort Complete callback.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8c_source.html#l02264">stm32l4xx_hal_smartcard.c:2264</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Exported__Types_html_ae463dcdf4b88fd62513ebf2da231d539"><div class="ttname"><a href="group__SMARTCARD__Exported__Types.html#ae463dcdf4b88fd62513ebf2da231d539">SMARTCARD_InitTypeDef::Mode</a></div><div class="ttdeci">uint16_t Mode</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8h_source.html#l00066">stm32l4xx_hal_smartcard.h:66</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Exported__Types_html_aeb7a8e0c879a6819986b6c14a1a0316d"><div class="ttname"><a href="group__SMARTCARD__Exported__Types.html#aeb7a8e0c879a6819986b6c14a1a0316d">__SMARTCARD_HandleTypeDef::RxCpltCallback</a></div><div class="ttdeci">void(* RxCpltCallback)(struct __SMARTCARD_HandleTypeDef *hsmartcard)</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8h_source.html#l00246">stm32l4xx_hal_smartcard.h:246</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Private__Functions_html_ga8f612244ee80b7c02ba31f1c75b6f0a0"><div class="ttname"><a href="group__SMARTCARD__Private__Functions.html#ga8f612244ee80b7c02ba31f1c75b6f0a0">SMARTCARD_WaitOnFlagUntilTimeout</a></div><div class="ttdeci">static HAL_StatusTypeDef SMARTCARD_WaitOnFlagUntilTimeout(SMARTCARD_HandleTypeDef *hsmartcard, uint32_t Flag, FlagStatus Status, uint32_t Tickstart, uint32_t Timeout)</div><div class="ttdoc">Handle SMARTCARD Communication Timeout.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8c_source.html#l02669">stm32l4xx_hal_smartcard.c:2669</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Exported__Types_html_a18e3f8b7eb94c4c5bbc9b5911131e7fd"><div class="ttname"><a href="group__SMARTCARD__Exported__Types.html#a18e3f8b7eb94c4c5bbc9b5911131e7fd">__SMARTCARD_HandleTypeDef::AbortReceiveCpltCallback</a></div><div class="ttdeci">void(* AbortReceiveCpltCallback)(struct __SMARTCARD_HandleTypeDef *hsmartcard)</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8h_source.html#l00254">stm32l4xx_hal_smartcard.h:254</a></div></div>
<div class="ttc" id="agroup__DMA__Exported__Functions__Group2_html_ga001f9fb04328a7460f9ff16908ff987c"><div class="ttname"><a href="group__DMA__Exported__Functions__Group2.html#ga001f9fb04328a7460f9ff16908ff987c">HAL_DMA_Abort</a></div><div class="ttdeci">HAL_StatusTypeDef HAL_DMA_Abort(DMA_HandleTypeDef *hdma)</div><div class="ttdoc">Abort the DMA Transfer.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__dma_8c_source.html#l00546">stm32l4xx_hal_dma.c:546</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Private__Functions_html_ga18799eeb864b97a6d2889ff1c0098428"><div class="ttname"><a href="group__SMARTCARD__Private__Functions.html#ga18799eeb864b97a6d2889ff1c0098428">SMARTCARD_EndRxTransfer</a></div><div class="ttdeci">static void SMARTCARD_EndRxTransfer(SMARTCARD_HandleTypeDef *hsmartcard)</div><div class="ttdoc">End ongoing Rx transfer on UART peripheral (following error detection or Reception completion).</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8c_source.html#l02728">stm32l4xx_hal_smartcard.c:2728</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Exported__Types_html_a7652bd6fc4c4af00c4b137a62a8168c3"><div class="ttname"><a href="group__SMARTCARD__Exported__Types.html#a7652bd6fc4c4af00c4b137a62a8168c3">__SMARTCARD_HandleTypeDef::RxXferSize</a></div><div class="ttdeci">uint16_t RxXferSize</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8h_source.html#l00211">stm32l4xx_hal_smartcard.h:211</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Exported__Functions__Group2_html_ga46fee0623c40c3dd841408639d2eadd3"><div class="ttname"><a href="group__SMARTCARD__Exported__Functions__Group2.html#ga46fee0623c40c3dd841408639d2eadd3">HAL_SMARTCARD_AbortReceiveCpltCallback</a></div><div class="ttdeci">void HAL_SMARTCARD_AbortReceiveCpltCallback(SMARTCARD_HandleTypeDef *hsmartcard)</div><div class="ttdoc">SMARTCARD Abort Receive Complete callback.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8c_source.html#l02296">stm32l4xx_hal_smartcard.c:2296</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Exported__Types_html_a59e5bc292232864a5d7e649aec647da1"><div class="ttname"><a href="group__SMARTCARD__Exported__Types.html#a59e5bc292232864a5d7e649aec647da1">__SMARTCARD_HandleTypeDef::hdmarx</a></div><div class="ttdeci">DMA_HandleTypeDef * hdmarx</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8h_source.html#l00230">stm32l4xx_hal_smartcard.h:230</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Exported__Types_html_af396df108df4eb8451e5f2a33d02c86d"><div class="ttname"><a href="group__SMARTCARD__Exported__Types.html#af396df108df4eb8451e5f2a33d02c86d">__SMARTCARD_HandleTypeDef::NbRxDataToProcess</a></div><div class="ttdeci">uint16_t NbRxDataToProcess</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8h_source.html#l00216">stm32l4xx_hal_smartcard.h:216</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Exported__Types_html_a136c85a2855fdf4415847343fc990706"><div class="ttname"><a href="group__SMARTCARD__Exported__Types.html#a136c85a2855fdf4415847343fc990706">__SMARTCARD_HandleTypeDef::RxFifoFullCallback</a></div><div class="ttdeci">void(* RxFifoFullCallback)(struct __SMARTCARD_HandleTypeDef *hsmartcard)</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8h_source.html#l00257">stm32l4xx_hal_smartcard.h:257</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Exported__Types_html_a71840d7c88e8908166daecbd620d55d7"><div class="ttname"><a href="group__SMARTCARD__Exported__Types.html#a71840d7c88e8908166daecbd620d55d7">__SMARTCARD_HandleTypeDef::AdvancedInit</a></div><div class="ttdeci">SMARTCARD_AdvFeatureInitTypeDef AdvancedInit</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8h_source.html#l00201">stm32l4xx_hal_smartcard.h:201</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Exported__Types_html_a38b32ee9aafd72dc4e87bd2a42c6eed5"><div class="ttname"><a href="group__SMARTCARD__Exported__Types.html#a38b32ee9aafd72dc4e87bd2a42c6eed5">__SMARTCARD_HandleTypeDef::AbortCpltCallback</a></div><div class="ttdeci">void(* AbortCpltCallback)(struct __SMARTCARD_HandleTypeDef *hsmartcard)</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8h_source.html#l00250">stm32l4xx_hal_smartcard.h:250</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Exported__Types_html_a651e1499c1bb95e664ad3035da4d1ba5"><div class="ttname"><a href="group__SMARTCARD__Exported__Types.html#a651e1499c1bb95e664ad3035da4d1ba5">__SMARTCARD_HandleTypeDef::TxXferCount</a></div><div class="ttdeci">__IO uint16_t TxXferCount</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8h_source.html#l00207">stm32l4xx_hal_smartcard.h:207</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Exported__Types_html_ab27372badf08f127c2b994b641909d4c"><div class="ttname"><a href="group__SMARTCARD__Exported__Types.html#ab27372badf08f127c2b994b641909d4c">__SMARTCARD_HandleTypeDef::RxXferCount</a></div><div class="ttdeci">__IO uint16_t RxXferCount</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8h_source.html#l00213">stm32l4xx_hal_smartcard.h:213</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Exported__Functions__Group2_html_ga8e8b5ceca4b2c2ea89cd1532483b226e"><div class="ttname"><a href="group__SMARTCARD__Exported__Functions__Group2.html#ga8e8b5ceca4b2c2ea89cd1532483b226e">HAL_SMARTCARD_AbortTransmitCpltCallback</a></div><div class="ttdeci">void HAL_SMARTCARD_AbortTransmitCpltCallback(SMARTCARD_HandleTypeDef *hsmartcard)</div><div class="ttdoc">SMARTCARD Abort Complete callback.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8c_source.html#l02280">stm32l4xx_hal_smartcard.c:2280</a></div></div>
<div class="ttc" id="agroup__DMA__Exported__Functions__Group3_html_gabc0735694a0dd08e352b796d7fa7634f"><div class="ttname"><a href="group__DMA__Exported__Functions__Group3.html#gabc0735694a0dd08e352b796d7fa7634f">HAL_DMA_GetError</a></div><div class="ttdeci">uint32_t HAL_DMA_GetError(DMA_HandleTypeDef *hdma)</div><div class="ttdoc">Return the DMA error code.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__dma_8c_source.html#l01042">stm32l4xx_hal_dma.c:1042</a></div></div>
<div class="ttc" id="agroup__RTCEx__Exported__Functions__Group2_html_ga88b8891e30e4b1c54fecb1235c95870d"><div class="ttname"><a href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a></div><div class="ttdeci">__HAL_LOCK(hrtc)</div></div>
<div class="ttc" id="agroup__SMARTCARD__Private__Functions_html_gaf125fea41144682c78c2c0824af35776"><div class="ttname"><a href="group__SMARTCARD__Private__Functions.html#gaf125fea41144682c78c2c0824af35776">SMARTCARD_DMARxAbortCallback</a></div><div class="ttdeci">static void SMARTCARD_DMARxAbortCallback(DMA_HandleTypeDef *hdma)</div><div class="ttdoc">DMA SMARTCARD Rx communication abort callback, when initiated by user (To be called at end of DMA Rx ...</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8c_source.html#l02911">stm32l4xx_hal_smartcard.c:2911</a></div></div>
<div class="ttc" id="agroup__SMARTCARDEx__Exported__Functions__Group2_html_gaa6a182c1cb28509258f4210526ce563d"><div class="ttname"><a href="group__SMARTCARDEx__Exported__Functions__Group2.html#gaa6a182c1cb28509258f4210526ce563d">HAL_SMARTCARDEx_RxFifoFullCallback</a></div><div class="ttdeci">void HAL_SMARTCARDEx_RxFifoFullCallback(SMARTCARD_HandleTypeDef *hsmartcard)</div><div class="ttdoc">SMARTCARD RX Fifo full callback.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard__ex_8c_source.html#l00207">stm32l4xx_hal_smartcard_ex.c:207</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Exported__Types_html_a86ae9f6af45b4b55128b2d0f1cc1a45b"><div class="ttname"><a href="group__SMARTCARD__Exported__Types.html#a86ae9f6af45b4b55128b2d0f1cc1a45b">__SMARTCARD_HandleTypeDef::pRxBuffPtr</a></div><div class="ttdeci">uint8_t * pRxBuffPtr</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8h_source.html#l00209">stm32l4xx_hal_smartcard.h:209</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Exported__Types_html_aa101608d41d5567812b9eeab2bf6dcd0"><div class="ttname"><a href="group__SMARTCARD__Exported__Types.html#aa101608d41d5567812b9eeab2bf6dcd0">__SMARTCARD_HandleTypeDef::ErrorCode</a></div><div class="ttdeci">__IO uint32_t ErrorCode</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8h_source.html#l00241">stm32l4xx_hal_smartcard.h:241</a></div></div>
<div class="ttc" id="agroup__SMARTCARD__Private__Functions_html_ga33e8495a8ed34415b3d4bfb66ab2fa01"><div class="ttname"><a href="group__SMARTCARD__Private__Functions.html#ga33e8495a8ed34415b3d4bfb66ab2fa01">SMARTCARD_TxISR_FIFOEN</a></div><div class="ttdeci">static void SMARTCARD_TxISR_FIFOEN(SMARTCARD_HandleTypeDef *hsmartcard)</div><div class="ttdoc">Send an amount of data in non-blocking mode.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smartcard_8c_source.html#l03057">stm32l4xx_hal_smartcard.c:3057</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.16 </li>
  </ul>
</div>
</body>
</html>
