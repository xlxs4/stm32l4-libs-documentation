<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STM32L4xx_HAL_Driver: SMBUS Private Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">STM32L4xx_HAL_Driver
   &#160;<span id="projectnumber">1.14.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__SMBUS__Private__Functions.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">SMBUS Private Functions<div class="ingroups"><a class="el" href="group__STM32L4xx__HAL__Driver.html">STM32L4xx_HAL_Driver</a> &raquo; <a class="el" href="group__SMBUS.html">SMBUS</a> &raquo; <a class="el" href="group__SMBUS__Exported__Functions.html">SMBUS Exported Functions</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Data transfers Private functions.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaf7681b168ba210f27ce0c9d7c955f153"><td class="memItemLeft" align="right" valign="top">static HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMBUS__Private__Functions.html#gaf7681b168ba210f27ce0c9d7c955f153">SMBUS_WaitOnFlagUntilTimeout</a> (struct <a class="el" href="group__SMBUS__handle__Structure__definition.html#struct____SMBUS__HandleTypeDef">__SMBUS_HandleTypeDef</a> *hsmbus, uint32_t Flag, FlagStatus Status, uint32_t Timeout)</td></tr>
<tr class="memdesc:gaf7681b168ba210f27ce0c9d7c955f153"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle SMBUS Communication Timeout.  <a href="group__SMBUS__Private__Functions.html#gaf7681b168ba210f27ce0c9d7c955f153">More...</a><br /></td></tr>
<tr class="separator:gaf7681b168ba210f27ce0c9d7c955f153"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga097138835a112a370bd850315ce4adb3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMBUS__Private__Functions.html#ga097138835a112a370bd850315ce4adb3">SMBUS_Enable_IRQ</a> (struct <a class="el" href="group__SMBUS__handle__Structure__definition.html#struct____SMBUS__HandleTypeDef">__SMBUS_HandleTypeDef</a> *hsmbus, uint32_t InterruptRequest)</td></tr>
<tr class="memdesc:ga097138835a112a370bd850315ce4adb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Manage the enabling of Interrupts.  <a href="group__SMBUS__Private__Functions.html#ga097138835a112a370bd850315ce4adb3">More...</a><br /></td></tr>
<tr class="separator:ga097138835a112a370bd850315ce4adb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5ce679beb290d3003123e1b1602ca58d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMBUS__Private__Functions.html#ga5ce679beb290d3003123e1b1602ca58d">SMBUS_Disable_IRQ</a> (struct <a class="el" href="group__SMBUS__handle__Structure__definition.html#struct____SMBUS__HandleTypeDef">__SMBUS_HandleTypeDef</a> *hsmbus, uint32_t InterruptRequest)</td></tr>
<tr class="memdesc:ga5ce679beb290d3003123e1b1602ca58d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Manage the disabling of Interrupts.  <a href="group__SMBUS__Private__Functions.html#ga5ce679beb290d3003123e1b1602ca58d">More...</a><br /></td></tr>
<tr class="separator:ga5ce679beb290d3003123e1b1602ca58d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2f9b6d97330eafec428fef78b982ae4c"><td class="memItemLeft" align="right" valign="top">static HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMBUS__Private__Functions.html#ga2f9b6d97330eafec428fef78b982ae4c">SMBUS_Master_ISR</a> (struct <a class="el" href="group__SMBUS__handle__Structure__definition.html#struct____SMBUS__HandleTypeDef">__SMBUS_HandleTypeDef</a> *hsmbus, uint32_t StatusFlags)</td></tr>
<tr class="memdesc:ga2f9b6d97330eafec428fef78b982ae4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interrupt Sub-Routine which handle the Interrupt Flags Master Mode.  <a href="group__SMBUS__Private__Functions.html#ga2f9b6d97330eafec428fef78b982ae4c">More...</a><br /></td></tr>
<tr class="separator:ga2f9b6d97330eafec428fef78b982ae4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf9a06328d1cb4721d4f23a279794aac0"><td class="memItemLeft" align="right" valign="top">static HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMBUS__Private__Functions.html#gaf9a06328d1cb4721d4f23a279794aac0">SMBUS_Slave_ISR</a> (struct <a class="el" href="group__SMBUS__handle__Structure__definition.html#struct____SMBUS__HandleTypeDef">__SMBUS_HandleTypeDef</a> *hsmbus, uint32_t StatusFlags)</td></tr>
<tr class="memdesc:gaf9a06328d1cb4721d4f23a279794aac0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interrupt Sub-Routine which handle the Interrupt Flags Slave Mode.  <a href="group__SMBUS__Private__Functions.html#gaf9a06328d1cb4721d4f23a279794aac0">More...</a><br /></td></tr>
<tr class="separator:gaf9a06328d1cb4721d4f23a279794aac0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6ae495161b0f35c310814bf457d0ba30"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMBUS__Private__Functions.html#ga6ae495161b0f35c310814bf457d0ba30">SMBUS_ConvertOtherXferOptions</a> (struct <a class="el" href="group__SMBUS__handle__Structure__definition.html#struct____SMBUS__HandleTypeDef">__SMBUS_HandleTypeDef</a> *hsmbus)</td></tr>
<tr class="memdesc:ga6ae495161b0f35c310814bf457d0ba30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert SMBUSx OTHER_xxx XferOptions to functionnal XferOptions.  <a href="group__SMBUS__Private__Functions.html#ga6ae495161b0f35c310814bf457d0ba30">More...</a><br /></td></tr>
<tr class="separator:ga6ae495161b0f35c310814bf457d0ba30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga653ffcf99e76df1233ad57788e8b524c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMBUS__Private__Functions.html#ga653ffcf99e76df1233ad57788e8b524c">SMBUS_ITErrorHandler</a> (struct <a class="el" href="group__SMBUS__handle__Structure__definition.html#struct____SMBUS__HandleTypeDef">__SMBUS_HandleTypeDef</a> *hsmbus)</td></tr>
<tr class="memdesc:ga653ffcf99e76df1233ad57788e8b524c"><td class="mdescLeft">&#160;</td><td class="mdescRight">SMBUS interrupts error handler.  <a href="group__SMBUS__Private__Functions.html#ga653ffcf99e76df1233ad57788e8b524c">More...</a><br /></td></tr>
<tr class="separator:ga653ffcf99e76df1233ad57788e8b524c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga18529fd6b5cb7c9875a009cb56791ad9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMBUS__Private__Functions.html#ga18529fd6b5cb7c9875a009cb56791ad9">SMBUS_TransferConfig</a> (struct <a class="el" href="group__SMBUS__handle__Structure__definition.html#struct____SMBUS__HandleTypeDef">__SMBUS_HandleTypeDef</a> *hsmbus, uint16_t DevAddress, uint8_t Size, uint32_t Mode, uint32_t Request)</td></tr>
<tr class="memdesc:ga18529fd6b5cb7c9875a009cb56791ad9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle SMBUSx communication when starting transfer or during transfer (TC or TCR flag are set).  <a href="group__SMBUS__Private__Functions.html#ga18529fd6b5cb7c9875a009cb56791ad9">More...</a><br /></td></tr>
<tr class="separator:ga18529fd6b5cb7c9875a009cb56791ad9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Data transfers Private functions. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga6ae495161b0f35c310814bf457d0ba30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6ae495161b0f35c310814bf457d0ba30">&#9670;&nbsp;</a></span>SMBUS_ConvertOtherXferOptions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void SMBUS_ConvertOtherXferOptions </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="group__SMBUS__handle__Structure__definition.html#struct____SMBUS__HandleTypeDef">__SMBUS_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hsmbus</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert SMBUSx OTHER_xxx XferOptions to functionnal XferOptions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hsmbus</td><td>SMBUS handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__smbus_8c_source.html#l02623">2623</a> of file <a class="el" href="stm32l4xx__hal__smbus_8c_source.html">stm32l4xx_hal_smbus.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;{</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;  <span class="comment">/* if user set XferOptions to SMBUS_OTHER_FRAME_NO_PEC   */</span></div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;  <span class="comment">/* it request implicitly to generate a restart condition */</span></div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;  <span class="comment">/* set XferOptions to SMBUS_FIRST_FRAME                  */</span></div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;  <span class="keywordflow">if</span> (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a8d0b7062cdc7f83a02c2da15006f2657">XferOptions</a> == SMBUS_OTHER_FRAME_NO_PEC)</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;  {</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a8d0b7062cdc7f83a02c2da15006f2657">XferOptions</a> = SMBUS_FIRST_FRAME;</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;  }</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;  <span class="comment">/* else if user set XferOptions to SMBUS_OTHER_FRAME_WITH_PEC */</span></div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;  <span class="comment">/* it request implicitly to generate a restart condition      */</span></div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;  <span class="comment">/* set XferOptions to SMBUS_FIRST_FRAME | SMBUS_SENDPEC_MODE  */</span></div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a8d0b7062cdc7f83a02c2da15006f2657">XferOptions</a> == SMBUS_OTHER_FRAME_WITH_PEC)</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;  {</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a8d0b7062cdc7f83a02c2da15006f2657">XferOptions</a> = SMBUS_FIRST_FRAME | SMBUS_SENDPEC_MODE;</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;  }</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;  <span class="comment">/* else if user set XferOptions to SMBUS_OTHER_AND_LAST_FRAME_NO_PEC */</span></div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;  <span class="comment">/* it request implicitly to generate a restart condition             */</span></div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;  <span class="comment">/* then generate a stop condition at the end of transfer             */</span></div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;  <span class="comment">/* set XferOptions to SMBUS_FIRST_AND_LAST_FRAME_NO_PEC              */</span></div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a8d0b7062cdc7f83a02c2da15006f2657">XferOptions</a> == SMBUS_OTHER_AND_LAST_FRAME_NO_PEC)</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;  {</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a8d0b7062cdc7f83a02c2da15006f2657">XferOptions</a> = SMBUS_FIRST_AND_LAST_FRAME_NO_PEC;</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;  }</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;  <span class="comment">/* else if user set XferOptions to SMBUS_OTHER_AND_LAST_FRAME_WITH_PEC */</span></div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;  <span class="comment">/* it request implicitly to generate a restart condition               */</span></div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;  <span class="comment">/* then generate a stop condition at the end of transfer               */</span></div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;  <span class="comment">/* set XferOptions to SMBUS_FIRST_AND_LAST_FRAME_WITH_PEC              */</span></div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a8d0b7062cdc7f83a02c2da15006f2657">XferOptions</a> == SMBUS_OTHER_AND_LAST_FRAME_WITH_PEC)</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;  {</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a8d0b7062cdc7f83a02c2da15006f2657">XferOptions</a> = SMBUS_FIRST_AND_LAST_FRAME_WITH_PEC;</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;  }</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;  {</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;    <span class="comment">/* Nothing to do */</span></div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;  }</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga5ce679beb290d3003123e1b1602ca58d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5ce679beb290d3003123e1b1602ca58d">&#9670;&nbsp;</a></span>SMBUS_Disable_IRQ()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void SMBUS_Disable_IRQ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="group__SMBUS__handle__Structure__definition.html#struct____SMBUS__HandleTypeDef">__SMBUS_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hsmbus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>InterruptRequest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Manage the disabling of Interrupts. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hsmbus</td><td>Pointer to a SMBUS_HandleTypeDef structure that contains the configuration information for the specified SMBUS. </td></tr>
    <tr><td class="paramname">InterruptRequest</td><td>Value of <a class="el" href="group__SMBUS__Interrupt__configuration__definition.html">SMBUS Interrupt configuration definition</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__smbus_8c_source.html#l02384">2384</a> of file <a class="el" href="stm32l4xx__hal__smbus_8c_source.html">stm32l4xx_hal_smbus.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;{</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;  uint32_t tmpisr = 0UL;</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;  uint32_t tmpstate = hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a>;</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160; </div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;  <span class="keywordflow">if</span> ((tmpstate == HAL_SMBUS_STATE_READY) &amp;&amp; ((InterruptRequest &amp; SMBUS_IT_ALERT) == SMBUS_IT_ALERT))</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;  {</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;    <span class="comment">/* Disable ERR interrupt */</span></div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;    tmpisr |= SMBUS_IT_ERRI;</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;  }</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160; </div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;  <span class="keywordflow">if</span> ((InterruptRequest &amp; SMBUS_IT_TX) == SMBUS_IT_TX)</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;  {</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;    <span class="comment">/* Disable TC, STOP, NACK and TXI interrupt */</span></div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;    tmpisr |= SMBUS_IT_TCI | SMBUS_IT_TXI;</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160; </div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;    <span class="keywordflow">if</span> ((SMBUS_GET_ALERT_ENABLED(hsmbus) == 0UL)</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;        &amp;&amp; ((tmpstate &amp; HAL_SMBUS_STATE_LISTEN) != HAL_SMBUS_STATE_LISTEN))</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;    {</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;      <span class="comment">/* Disable ERR interrupt */</span></div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;      tmpisr |= SMBUS_IT_ERRI;</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;    }</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160; </div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;    <span class="keywordflow">if</span> ((tmpstate &amp; HAL_SMBUS_STATE_LISTEN) != HAL_SMBUS_STATE_LISTEN)</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;    {</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;      <span class="comment">/* Disable STOP and NACK interrupt */</span></div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;      tmpisr |= SMBUS_IT_STOPI | SMBUS_IT_NACKI;</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;    }</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;  }</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160; </div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;  <span class="keywordflow">if</span> ((InterruptRequest &amp; SMBUS_IT_RX) == SMBUS_IT_RX)</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;  {</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;    <span class="comment">/* Disable TC, STOP, NACK and RXI interrupt */</span></div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;    tmpisr |= SMBUS_IT_TCI | SMBUS_IT_RXI;</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160; </div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;    <span class="keywordflow">if</span> ((SMBUS_GET_ALERT_ENABLED(hsmbus) == 0UL)</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;        &amp;&amp; ((tmpstate &amp; HAL_SMBUS_STATE_LISTEN) != HAL_SMBUS_STATE_LISTEN))</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;    {</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;      <span class="comment">/* Disable ERR interrupt */</span></div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;      tmpisr |= SMBUS_IT_ERRI;</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;    }</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160; </div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;    <span class="keywordflow">if</span> ((tmpstate &amp; HAL_SMBUS_STATE_LISTEN) != HAL_SMBUS_STATE_LISTEN)</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;    {</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;      <span class="comment">/* Disable STOP and NACK interrupt */</span></div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;      tmpisr |= SMBUS_IT_STOPI | SMBUS_IT_NACKI;</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;    }</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;  }</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160; </div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;  <span class="keywordflow">if</span> ((InterruptRequest &amp; SMBUS_IT_ADDR) == SMBUS_IT_ADDR)</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;  {</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;    <span class="comment">/* Disable ADDR, STOP and NACK interrupt */</span></div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;    tmpisr |= SMBUS_IT_ADDRI | SMBUS_IT_STOPI | SMBUS_IT_NACKI;</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160; </div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;    <span class="keywordflow">if</span> (SMBUS_GET_ALERT_ENABLED(hsmbus) == 0UL)</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;    {</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;      <span class="comment">/* Disable ERR interrupt */</span></div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;      tmpisr |= SMBUS_IT_ERRI;</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;    }</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;  }</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160; </div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;  <span class="comment">/* Disable interrupts only at the end */</span></div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;  <span class="comment">/* to avoid a breaking situation like at &quot;t&quot; time */</span></div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;  <span class="comment">/* all disable interrupts request are not done */</span></div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;  __HAL_SMBUS_DISABLE_IT(hsmbus, tmpisr);</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga097138835a112a370bd850315ce4adb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga097138835a112a370bd850315ce4adb3">&#9670;&nbsp;</a></span>SMBUS_Enable_IRQ()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void SMBUS_Enable_IRQ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="group__SMBUS__handle__Structure__definition.html#struct____SMBUS__HandleTypeDef">__SMBUS_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hsmbus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>InterruptRequest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Manage the enabling of Interrupts. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hsmbus</td><td>Pointer to a SMBUS_HandleTypeDef structure that contains the configuration information for the specified SMBUS. </td></tr>
    <tr><td class="paramname">InterruptRequest</td><td>Value of <a class="el" href="group__SMBUS__Interrupt__configuration__definition.html">SMBUS Interrupt configuration definition</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__smbus_8c_source.html#l02344">2344</a> of file <a class="el" href="stm32l4xx__hal__smbus_8c_source.html">stm32l4xx_hal_smbus.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;{</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;  uint32_t tmpisr = 0UL;</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160; </div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;  <span class="keywordflow">if</span> ((InterruptRequest &amp; SMBUS_IT_ALERT) == SMBUS_IT_ALERT)</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;  {</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;    <span class="comment">/* Enable ERR interrupt */</span></div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;    tmpisr |= SMBUS_IT_ERRI;</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;  }</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160; </div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;  <span class="keywordflow">if</span> ((InterruptRequest &amp; SMBUS_IT_ADDR) == SMBUS_IT_ADDR)</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;  {</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;    <span class="comment">/* Enable ADDR, STOP interrupt */</span></div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;    tmpisr |= SMBUS_IT_ADDRI | SMBUS_IT_STOPI | SMBUS_IT_NACKI | SMBUS_IT_ERRI;</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;  }</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160; </div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;  <span class="keywordflow">if</span> ((InterruptRequest &amp; SMBUS_IT_TX) == SMBUS_IT_TX)</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;  {</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;    <span class="comment">/* Enable ERR, TC, STOP, NACK, RXI interrupt */</span></div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;    tmpisr |= SMBUS_IT_ERRI | SMBUS_IT_TCI | SMBUS_IT_STOPI | SMBUS_IT_NACKI | SMBUS_IT_TXI;</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;  }</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160; </div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;  <span class="keywordflow">if</span> ((InterruptRequest &amp; SMBUS_IT_RX) == SMBUS_IT_RX)</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;  {</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;    <span class="comment">/* Enable ERR, TC, STOP, NACK, TXI interrupt */</span></div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;    tmpisr |= SMBUS_IT_ERRI | SMBUS_IT_TCI | SMBUS_IT_STOPI | SMBUS_IT_NACKI | SMBUS_IT_RXI;</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;  }</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160; </div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;  <span class="comment">/* Enable interrupts only at the end */</span></div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;  <span class="comment">/* to avoid the risk of SMBUS interrupt handle execution before */</span></div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;  <span class="comment">/* all interrupts requested done */</span></div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;  __HAL_SMBUS_ENABLE_IT(hsmbus, tmpisr);</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga653ffcf99e76df1233ad57788e8b524c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga653ffcf99e76df1233ad57788e8b524c">&#9670;&nbsp;</a></span>SMBUS_ITErrorHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void SMBUS_ITErrorHandler </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="group__SMBUS__handle__Structure__definition.html#struct____SMBUS__HandleTypeDef">__SMBUS_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hsmbus</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SMBUS interrupts error handler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hsmbus</td><td>SMBUS handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__smbus_8c_source.html#l02456">2456</a> of file <a class="el" href="stm32l4xx__hal__smbus_8c_source.html">stm32l4xx_hal_smbus.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;{</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;  uint32_t itflags   = READ_REG(hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#aa75325e5d1d4270b1aa44be956eaae77">Instance</a>-&gt;ISR);</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;  uint32_t itsources = READ_REG(hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#aa75325e5d1d4270b1aa44be956eaae77">Instance</a>-&gt;CR1);</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;  uint32_t tmpstate;</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;  uint32_t tmperror;</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160; </div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;  <span class="comment">/* SMBUS Bus error interrupt occurred ------------------------------------*/</span></div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;  <span class="keywordflow">if</span> (((itflags &amp; SMBUS_FLAG_BERR) == SMBUS_FLAG_BERR) &amp;&amp; ((itsources &amp; SMBUS_IT_ERRI) == SMBUS_IT_ERRI))</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;  {</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#ac89d133ea52f54c89e931d4c6944ad0d">ErrorCode</a> |= HAL_SMBUS_ERROR_BERR;</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160; </div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;    <span class="comment">/* Clear BERR flag */</span></div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;    __HAL_SMBUS_CLEAR_FLAG(hsmbus, SMBUS_FLAG_BERR);</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;  }</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160; </div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;  <span class="comment">/* SMBUS Over-Run/Under-Run interrupt occurred ----------------------------------------*/</span></div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;  <span class="keywordflow">if</span> (((itflags &amp; SMBUS_FLAG_OVR) == SMBUS_FLAG_OVR) &amp;&amp; ((itsources &amp; SMBUS_IT_ERRI) == SMBUS_IT_ERRI))</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;  {</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#ac89d133ea52f54c89e931d4c6944ad0d">ErrorCode</a> |= HAL_SMBUS_ERROR_OVR;</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160; </div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;    <span class="comment">/* Clear OVR flag */</span></div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;    __HAL_SMBUS_CLEAR_FLAG(hsmbus, SMBUS_FLAG_OVR);</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;  }</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160; </div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;  <span class="comment">/* SMBUS Arbitration Loss error interrupt occurred ------------------------------------*/</span></div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;  <span class="keywordflow">if</span> (((itflags &amp; SMBUS_FLAG_ARLO) == SMBUS_FLAG_ARLO) &amp;&amp; ((itsources &amp; SMBUS_IT_ERRI) == SMBUS_IT_ERRI))</div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;  {</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#ac89d133ea52f54c89e931d4c6944ad0d">ErrorCode</a> |= HAL_SMBUS_ERROR_ARLO;</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160; </div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;    <span class="comment">/* Clear ARLO flag */</span></div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;    __HAL_SMBUS_CLEAR_FLAG(hsmbus, SMBUS_FLAG_ARLO);</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;  }</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160; </div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;  <span class="comment">/* SMBUS Timeout error interrupt occurred ---------------------------------------------*/</span></div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;  <span class="keywordflow">if</span> (((itflags &amp; SMBUS_FLAG_TIMEOUT) == SMBUS_FLAG_TIMEOUT) &amp;&amp; ((itsources &amp; SMBUS_IT_ERRI) == SMBUS_IT_ERRI))</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;  {</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#ac89d133ea52f54c89e931d4c6944ad0d">ErrorCode</a> |= HAL_SMBUS_ERROR_BUSTIMEOUT;</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160; </div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;    <span class="comment">/* Clear TIMEOUT flag */</span></div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;    __HAL_SMBUS_CLEAR_FLAG(hsmbus, SMBUS_FLAG_TIMEOUT);</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;  }</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160; </div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;  <span class="comment">/* SMBUS Alert error interrupt occurred -----------------------------------------------*/</span></div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;  <span class="keywordflow">if</span> (((itflags &amp; SMBUS_FLAG_ALERT) == SMBUS_FLAG_ALERT) &amp;&amp; ((itsources &amp; SMBUS_IT_ERRI) == SMBUS_IT_ERRI))</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;  {</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#ac89d133ea52f54c89e931d4c6944ad0d">ErrorCode</a> |= HAL_SMBUS_ERROR_ALERT;</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160; </div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;    <span class="comment">/* Clear ALERT flag */</span></div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;    __HAL_SMBUS_CLEAR_FLAG(hsmbus, SMBUS_FLAG_ALERT);</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;  }</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160; </div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;  <span class="comment">/* SMBUS Packet Error Check error interrupt occurred ----------------------------------*/</span></div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;  <span class="keywordflow">if</span> (((itflags &amp; SMBUS_FLAG_PECERR) == SMBUS_FLAG_PECERR) &amp;&amp; ((itsources &amp; SMBUS_IT_ERRI) == SMBUS_IT_ERRI))</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;  {</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#ac89d133ea52f54c89e931d4c6944ad0d">ErrorCode</a> |= HAL_SMBUS_ERROR_PECERR;</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160; </div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;    <span class="comment">/* Clear PEC error flag */</span></div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;    __HAL_SMBUS_CLEAR_FLAG(hsmbus, SMBUS_FLAG_PECERR);</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;  }</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160; </div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;  <span class="comment">/* Store current volatile hsmbus-&gt;State, misra rule */</span></div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;  tmperror = hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#ac89d133ea52f54c89e931d4c6944ad0d">ErrorCode</a>;</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160; </div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;  <span class="comment">/* Call the Error Callback in case of Error detected */</span></div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;  <span class="keywordflow">if</span> ((tmperror != HAL_SMBUS_ERROR_NONE) &amp;&amp; (tmperror != HAL_SMBUS_ERROR_ACKF))</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;  {</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;    <span class="comment">/* Do not Reset the HAL state in case of ALERT error */</span></div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;    <span class="keywordflow">if</span> ((tmperror &amp; HAL_SMBUS_ERROR_ALERT) != HAL_SMBUS_ERROR_ALERT)</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;    {</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;      <span class="comment">/* Store current volatile hsmbus-&gt;State, misra rule */</span></div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;      tmpstate = hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a>;</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160; </div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;      <span class="keywordflow">if</span> (((tmpstate &amp; HAL_SMBUS_STATE_SLAVE_BUSY_TX) == HAL_SMBUS_STATE_SLAVE_BUSY_TX)</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;          || ((tmpstate &amp; HAL_SMBUS_STATE_SLAVE_BUSY_RX) == HAL_SMBUS_STATE_SLAVE_BUSY_RX))</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;      {</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;        <span class="comment">/* Reset only HAL_SMBUS_STATE_SLAVE_BUSY_XX */</span></div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;        <span class="comment">/* keep HAL_SMBUS_STATE_LISTEN if set */</span></div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;        hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a798d6744ccf8e046801eb6b0185b382e">PreviousState</a> = HAL_SMBUS_STATE_READY;</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;        hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> = HAL_SMBUS_STATE_LISTEN;</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;      }</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;    }</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160; </div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;    <span class="comment">/* Call the Error callback to inform upper layer */</span></div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;<span class="preprocessor">#if (USE_HAL_SMBUS_REGISTER_CALLBACKS == 1)</span></div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#ad97ceff154019926c3ec6c05b2ece615">ErrorCallback</a>(hsmbus);</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;    <a class="code" href="group__SMBUS__IRQ__Handler__and__Callbacks.html#ga51d5ec01a7259b914ac084c5b314869c">HAL_SMBUS_ErrorCallback</a>(hsmbus);</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USE_HAL_SMBUS_REGISTER_CALLBACKS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;  }</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga2f9b6d97330eafec428fef78b982ae4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2f9b6d97330eafec428fef78b982ae4c">&#9670;&nbsp;</a></span>SMBUS_Master_ISR()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static HAL_StatusTypeDef SMBUS_Master_ISR </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="group__SMBUS__handle__Structure__definition.html#struct____SMBUS__HandleTypeDef">__SMBUS_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hsmbus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>StatusFlags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Interrupt Sub-Routine which handle the Interrupt Flags Master Mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hsmbus</td><td>Pointer to a SMBUS_HandleTypeDef structure that contains the configuration information for the specified SMBUS. </td></tr>
    <tr><td class="paramname">StatusFlags</td><td>Value of Interrupt Flags. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__smbus_8c_source.html#l01804">1804</a> of file <a class="el" href="stm32l4xx__hal__smbus_8c_source.html">stm32l4xx_hal_smbus.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;{</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;  uint16_t DevAddress;</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160; </div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;  <span class="comment">/* Process Locked */</span></div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(hsmbus);</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160; </div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;  <span class="keywordflow">if</span> (SMBUS_CHECK_FLAG(StatusFlags, SMBUS_FLAG_AF) != RESET)</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;  {</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;    <span class="comment">/* Clear NACK Flag */</span></div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;    __HAL_SMBUS_CLEAR_FLAG(hsmbus, SMBUS_FLAG_AF);</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160; </div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    <span class="comment">/* Set corresponding Error Code */</span></div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    <span class="comment">/* No need to generate STOP, it is automatically done */</span></div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#ac89d133ea52f54c89e931d4c6944ad0d">ErrorCode</a> |= HAL_SMBUS_ERROR_ACKF;</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160; </div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;    <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hsmbus);</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160; </div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;    <span class="comment">/* Call the Error callback to inform upper layer */</span></div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;<span class="preprocessor">#if (USE_HAL_SMBUS_REGISTER_CALLBACKS == 1)</span></div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#ad97ceff154019926c3ec6c05b2ece615">ErrorCallback</a>(hsmbus);</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;    <a class="code" href="group__SMBUS__IRQ__Handler__and__Callbacks.html#ga51d5ec01a7259b914ac084c5b314869c">HAL_SMBUS_ErrorCallback</a>(hsmbus);</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USE_HAL_SMBUS_REGISTER_CALLBACKS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;  }</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (SMBUS_CHECK_FLAG(StatusFlags, SMBUS_FLAG_STOPF) != RESET)</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;  {</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;    <span class="comment">/* Check and treat errors if errors occurs during STOP process */</span></div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;    <a class="code" href="group__SMBUS__Private__Functions.html#ga653ffcf99e76df1233ad57788e8b524c">SMBUS_ITErrorHandler</a>(hsmbus);</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160; </div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    <span class="comment">/* Call the corresponding callback to inform upper layer of End of Transfer */</span></div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;    <span class="keywordflow">if</span> (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> == HAL_SMBUS_STATE_MASTER_BUSY_TX)</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    {</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;      <span class="comment">/* Disable Interrupt */</span></div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;      <a class="code" href="group__SMBUS__Private__Functions.html#ga5ce679beb290d3003123e1b1602ca58d">SMBUS_Disable_IRQ</a>(hsmbus, SMBUS_IT_TX);</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160; </div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;      <span class="comment">/* Clear STOP Flag */</span></div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;      __HAL_SMBUS_CLEAR_FLAG(hsmbus, SMBUS_FLAG_STOPF);</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160; </div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;      <span class="comment">/* Clear Configuration Register 2 */</span></div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;      SMBUS_RESET_CR2(hsmbus);</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160; </div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;      <span class="comment">/* Flush remaining data in Fifo register in case of error occurs before TXEmpty */</span></div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;      <span class="comment">/* Disable the selected SMBUS peripheral */</span></div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;      __HAL_SMBUS_DISABLE(hsmbus);</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160; </div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a798d6744ccf8e046801eb6b0185b382e">PreviousState</a> = HAL_SMBUS_STATE_READY;</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> = HAL_SMBUS_STATE_READY;</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160; </div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;      <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hsmbus);</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160; </div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;      <span class="comment">/* REenable the selected SMBUS peripheral */</span></div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;      __HAL_SMBUS_ENABLE(hsmbus);</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160; </div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;      <span class="comment">/* Call the corresponding callback to inform upper layer of End of Transfer */</span></div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;<span class="preprocessor">#if (USE_HAL_SMBUS_REGISTER_CALLBACKS == 1)</span></div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#afa0b7f81420e14922df3b1bce9a9d0c6">MasterTxCpltCallback</a>(hsmbus);</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;      <a class="code" href="group__SMBUS__IRQ__Handler__and__Callbacks.html#gaa7facf1244f0d3d09e167f37e4a2f3b4">HAL_SMBUS_MasterTxCpltCallback</a>(hsmbus);</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USE_HAL_SMBUS_REGISTER_CALLBACKS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    }</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> == HAL_SMBUS_STATE_MASTER_BUSY_RX)</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;    {</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;      <span class="comment">/* Store Last receive data if any */</span></div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;      <span class="keywordflow">if</span> (SMBUS_CHECK_FLAG(StatusFlags, SMBUS_FLAG_RXNE) != RESET)</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;      {</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;        <span class="comment">/* Read data from RXDR */</span></div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;        *hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a11ddebff2664a9ce6ddc87966a34d6dd">pBuffPtr</a> = (uint8_t)(hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#aa75325e5d1d4270b1aa44be956eaae77">Instance</a>-&gt;RXDR);</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160; </div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;        <span class="comment">/* Increment Buffer pointer */</span></div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;        hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a11ddebff2664a9ce6ddc87966a34d6dd">pBuffPtr</a>++;</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160; </div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;        <span class="keywordflow">if</span> ((hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a> &gt; 0U))</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;        {</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;          hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a>--;</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;          hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a04028e4c742c86e051abcba0854e9a4e">XferCount</a>--;</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;        }</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;      }</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160; </div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;      <span class="comment">/* Disable Interrupt */</span></div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;      <a class="code" href="group__SMBUS__Private__Functions.html#ga5ce679beb290d3003123e1b1602ca58d">SMBUS_Disable_IRQ</a>(hsmbus, SMBUS_IT_RX);</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160; </div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;      <span class="comment">/* Clear STOP Flag */</span></div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;      __HAL_SMBUS_CLEAR_FLAG(hsmbus, SMBUS_FLAG_STOPF);</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160; </div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;      <span class="comment">/* Clear Configuration Register 2 */</span></div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;      SMBUS_RESET_CR2(hsmbus);</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160; </div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a798d6744ccf8e046801eb6b0185b382e">PreviousState</a> = HAL_SMBUS_STATE_READY;</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> = HAL_SMBUS_STATE_READY;</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160; </div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;      <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hsmbus);</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160; </div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;      <span class="comment">/* Call the corresponding callback to inform upper layer of End of Transfer */</span></div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;<span class="preprocessor">#if (USE_HAL_SMBUS_REGISTER_CALLBACKS == 1)</span></div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#afd1954dff527a934cb9802b3eec046a0">MasterRxCpltCallback</a>(hsmbus);</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;      <a class="code" href="group__SMBUS__IRQ__Handler__and__Callbacks.html#ga5ba14080b9562c7cf8a4d159f3f6c146">HAL_SMBUS_MasterRxCpltCallback</a>(hsmbus);</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USE_HAL_SMBUS_REGISTER_CALLBACKS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;    }</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;    {</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;      <span class="comment">/* Nothing to do */</span></div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;    }</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;  }</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (SMBUS_CHECK_FLAG(StatusFlags, SMBUS_FLAG_RXNE) != RESET)</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;  {</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;    <span class="comment">/* Read data from RXDR */</span></div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;    *hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a11ddebff2664a9ce6ddc87966a34d6dd">pBuffPtr</a> = (uint8_t)(hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#aa75325e5d1d4270b1aa44be956eaae77">Instance</a>-&gt;RXDR);</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160; </div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;    <span class="comment">/* Increment Buffer pointer */</span></div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a11ddebff2664a9ce6ddc87966a34d6dd">pBuffPtr</a>++;</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160; </div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;    <span class="comment">/* Increment Size counter */</span></div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a>--;</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a04028e4c742c86e051abcba0854e9a4e">XferCount</a>--;</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;  }</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (SMBUS_CHECK_FLAG(StatusFlags, SMBUS_FLAG_TXIS) != RESET)</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;  {</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;    <span class="comment">/* Write data to TXDR */</span></div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#aa75325e5d1d4270b1aa44be956eaae77">Instance</a>-&gt;TXDR = *hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a11ddebff2664a9ce6ddc87966a34d6dd">pBuffPtr</a>;</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160; </div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;    <span class="comment">/* Increment Buffer pointer */</span></div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a11ddebff2664a9ce6ddc87966a34d6dd">pBuffPtr</a>++;</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160; </div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;    <span class="comment">/* Increment Size counter */</span></div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a>--;</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a04028e4c742c86e051abcba0854e9a4e">XferCount</a>--;</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;  }</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (SMBUS_CHECK_FLAG(StatusFlags, SMBUS_FLAG_TCR) != RESET)</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;  {</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;    <span class="keywordflow">if</span> ((hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a04028e4c742c86e051abcba0854e9a4e">XferCount</a> != 0U) &amp;&amp; (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a> == 0U))</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;    {</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;      DevAddress = (uint16_t)(hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#aa75325e5d1d4270b1aa44be956eaae77">Instance</a>-&gt;CR2 &amp; I2C_CR2_SADD);</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160; </div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;      <span class="keywordflow">if</span> (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a04028e4c742c86e051abcba0854e9a4e">XferCount</a> &gt; MAX_NBYTE_SIZE)</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;      {</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;        <a class="code" href="group__SMBUS__Private__Functions.html#ga18529fd6b5cb7c9875a009cb56791ad9">SMBUS_TransferConfig</a>(hsmbus, DevAddress, MAX_NBYTE_SIZE, (SMBUS_RELOAD_MODE | (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a8d0b7062cdc7f83a02c2da15006f2657">XferOptions</a> &amp; SMBUS_SENDPEC_MODE)), SMBUS_NO_STARTSTOP);</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;        hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a> = MAX_NBYTE_SIZE;</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;      }</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;      {</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;        hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a> = hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a04028e4c742c86e051abcba0854e9a4e">XferCount</a>;</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;        <a class="code" href="group__SMBUS__Private__Functions.html#ga18529fd6b5cb7c9875a009cb56791ad9">SMBUS_TransferConfig</a>(hsmbus, DevAddress, (uint8_t)hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a>, hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a8d0b7062cdc7f83a02c2da15006f2657">XferOptions</a>, SMBUS_NO_STARTSTOP);</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;        <span class="comment">/* If PEC mode is enable, size to transmit should be Size-1 byte, corresponding to PEC byte */</span></div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;        <span class="comment">/* PEC byte is automatically sent by HW block, no need to manage it in Transmit process */</span></div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;        <span class="keywordflow">if</span> (SMBUS_GET_PEC_MODE(hsmbus) != 0UL)</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;        {</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;          hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a>--;</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;          hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a04028e4c742c86e051abcba0854e9a4e">XferCount</a>--;</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;        }</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;      }</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;    }</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a04028e4c742c86e051abcba0854e9a4e">XferCount</a> == 0U) &amp;&amp; (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a> == 0U))</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;    {</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;      <span class="comment">/* Call TxCpltCallback() if no stop mode is set */</span></div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;      <span class="keywordflow">if</span> (SMBUS_GET_STOP_MODE(hsmbus) != SMBUS_AUTOEND_MODE)</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;      {</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;        <span class="comment">/* Call the corresponding callback to inform upper layer of End of Transfer */</span></div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;        <span class="keywordflow">if</span> (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> == HAL_SMBUS_STATE_MASTER_BUSY_TX)</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;        {</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;          <span class="comment">/* Disable Interrupt */</span></div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;          <a class="code" href="group__SMBUS__Private__Functions.html#ga5ce679beb290d3003123e1b1602ca58d">SMBUS_Disable_IRQ</a>(hsmbus, SMBUS_IT_TX);</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;          hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a798d6744ccf8e046801eb6b0185b382e">PreviousState</a> = hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a>;</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;          hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> = HAL_SMBUS_STATE_READY;</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160; </div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;          <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;          <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hsmbus);</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160; </div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;          <span class="comment">/* Call the corresponding callback to inform upper layer of End of Transfer */</span></div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;<span class="preprocessor">#if (USE_HAL_SMBUS_REGISTER_CALLBACKS == 1)</span></div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;          hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#afa0b7f81420e14922df3b1bce9a9d0c6">MasterTxCpltCallback</a>(hsmbus);</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;          <a class="code" href="group__SMBUS__IRQ__Handler__and__Callbacks.html#gaa7facf1244f0d3d09e167f37e4a2f3b4">HAL_SMBUS_MasterTxCpltCallback</a>(hsmbus);</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USE_HAL_SMBUS_REGISTER_CALLBACKS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;        }</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> == HAL_SMBUS_STATE_MASTER_BUSY_RX)</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;        {</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;          <a class="code" href="group__SMBUS__Private__Functions.html#ga5ce679beb290d3003123e1b1602ca58d">SMBUS_Disable_IRQ</a>(hsmbus, SMBUS_IT_RX);</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;          hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a798d6744ccf8e046801eb6b0185b382e">PreviousState</a> = hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a>;</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;          hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> = HAL_SMBUS_STATE_READY;</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160; </div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;          <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;          <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hsmbus);</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160; </div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;          <span class="comment">/* Call the corresponding callback to inform upper layer of End of Transfer */</span></div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;<span class="preprocessor">#if (USE_HAL_SMBUS_REGISTER_CALLBACKS == 1)</span></div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;          hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#afd1954dff527a934cb9802b3eec046a0">MasterRxCpltCallback</a>(hsmbus);</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;          <a class="code" href="group__SMBUS__IRQ__Handler__and__Callbacks.html#ga5ba14080b9562c7cf8a4d159f3f6c146">HAL_SMBUS_MasterRxCpltCallback</a>(hsmbus);</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USE_HAL_SMBUS_REGISTER_CALLBACKS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;        }</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;        {</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;          <span class="comment">/* Nothing to do */</span></div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;        }</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;      }</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;    }</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;    {</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;      <span class="comment">/* Nothing to do */</span></div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;    }</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;  }</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (SMBUS_CHECK_FLAG(StatusFlags, SMBUS_FLAG_TC) != RESET)</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;  {</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;    <span class="keywordflow">if</span> (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a04028e4c742c86e051abcba0854e9a4e">XferCount</a> == 0U)</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;    {</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;      <span class="comment">/* Specific use case for Quick command */</span></div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;      <span class="keywordflow">if</span> (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a11ddebff2664a9ce6ddc87966a34d6dd">pBuffPtr</a> == NULL)</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;      {</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;        <span class="comment">/* Generate a Stop command */</span></div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;        hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#aa75325e5d1d4270b1aa44be956eaae77">Instance</a>-&gt;CR2 |= I2C_CR2_STOP;</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;      }</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;      <span class="comment">/* Call TxCpltCallback() if no stop mode is set */</span></div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (SMBUS_GET_STOP_MODE(hsmbus) != SMBUS_AUTOEND_MODE)</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;      {</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;        <span class="comment">/* No Generate Stop, to permit restart mode */</span></div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;        <span class="comment">/* The stop will be done at the end of transfer, when SMBUS_AUTOEND_MODE enable */</span></div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160; </div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;        <span class="comment">/* Call the corresponding callback to inform upper layer of End of Transfer */</span></div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;        <span class="keywordflow">if</span> (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> == HAL_SMBUS_STATE_MASTER_BUSY_TX)</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;        {</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;          <span class="comment">/* Disable Interrupt */</span></div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;          <a class="code" href="group__SMBUS__Private__Functions.html#ga5ce679beb290d3003123e1b1602ca58d">SMBUS_Disable_IRQ</a>(hsmbus, SMBUS_IT_TX);</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;          hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a798d6744ccf8e046801eb6b0185b382e">PreviousState</a> = hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a>;</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;          hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> = HAL_SMBUS_STATE_READY;</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160; </div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;          <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;          <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hsmbus);</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160; </div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;          <span class="comment">/* Call the corresponding callback to inform upper layer of End of Transfer */</span></div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;<span class="preprocessor">#if (USE_HAL_SMBUS_REGISTER_CALLBACKS == 1)</span></div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;          hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#afa0b7f81420e14922df3b1bce9a9d0c6">MasterTxCpltCallback</a>(hsmbus);</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;          <a class="code" href="group__SMBUS__IRQ__Handler__and__Callbacks.html#gaa7facf1244f0d3d09e167f37e4a2f3b4">HAL_SMBUS_MasterTxCpltCallback</a>(hsmbus);</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USE_HAL_SMBUS_REGISTER_CALLBACKS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;        }</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> == HAL_SMBUS_STATE_MASTER_BUSY_RX)</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;        {</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;          <a class="code" href="group__SMBUS__Private__Functions.html#ga5ce679beb290d3003123e1b1602ca58d">SMBUS_Disable_IRQ</a>(hsmbus, SMBUS_IT_RX);</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;          hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a798d6744ccf8e046801eb6b0185b382e">PreviousState</a> = hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a>;</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;          hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> = HAL_SMBUS_STATE_READY;</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160; </div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;          <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;          <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hsmbus);</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160; </div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;          <span class="comment">/* Call the corresponding callback to inform upper layer of End of Transfer */</span></div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;<span class="preprocessor">#if (USE_HAL_SMBUS_REGISTER_CALLBACKS == 1)</span></div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;          hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#afd1954dff527a934cb9802b3eec046a0">MasterRxCpltCallback</a>(hsmbus);</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;          <a class="code" href="group__SMBUS__IRQ__Handler__and__Callbacks.html#ga5ba14080b9562c7cf8a4d159f3f6c146">HAL_SMBUS_MasterRxCpltCallback</a>(hsmbus);</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USE_HAL_SMBUS_REGISTER_CALLBACKS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;        }</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;        {</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;          <span class="comment">/* Nothing to do */</span></div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;        }</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;      }</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;      {</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;        <span class="comment">/* Nothing to do */</span></div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;      }</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;    }</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;  }</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;  {</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;    <span class="comment">/* Nothing to do */</span></div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;  }</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160; </div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;  <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hsmbus);</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160; </div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gaf9a06328d1cb4721d4f23a279794aac0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf9a06328d1cb4721d4f23a279794aac0">&#9670;&nbsp;</a></span>SMBUS_Slave_ISR()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static HAL_StatusTypeDef SMBUS_Slave_ISR </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="group__SMBUS__handle__Structure__definition.html#struct____SMBUS__HandleTypeDef">__SMBUS_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hsmbus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>StatusFlags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Interrupt Sub-Routine which handle the Interrupt Flags Slave Mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hsmbus</td><td>Pointer to a SMBUS_HandleTypeDef structure that contains the configuration information for the specified SMBUS. </td></tr>
    <tr><td class="paramname">StatusFlags</td><td>Value of Interrupt Flags. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__smbus_8c_source.html#l02088">2088</a> of file <a class="el" href="stm32l4xx__hal__smbus_8c_source.html">stm32l4xx_hal_smbus.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;{</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;  uint8_t TransferDirection;</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;  uint16_t SlaveAddrCode;</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160; </div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;  <span class="comment">/* Process Locked */</span></div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(hsmbus);</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160; </div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;  <span class="keywordflow">if</span> (SMBUS_CHECK_FLAG(StatusFlags, SMBUS_FLAG_AF) != RESET)</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;  {</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;    <span class="comment">/* Check that SMBUS transfer finished */</span></div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;    <span class="comment">/* if yes, normal usecase, a NACK is sent by the HOST when Transfer is finished */</span></div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;    <span class="comment">/* Mean XferCount == 0*/</span></div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;    <span class="comment">/* So clear Flag NACKF only */</span></div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;    <span class="keywordflow">if</span> (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a04028e4c742c86e051abcba0854e9a4e">XferCount</a> == 0U)</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;    {</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;      <span class="comment">/* Clear NACK Flag */</span></div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;      __HAL_SMBUS_CLEAR_FLAG(hsmbus, SMBUS_FLAG_AF);</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160; </div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;      <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hsmbus);</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;    }</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;    {</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;      <span class="comment">/* if no, error usecase, a Non-Acknowledge of last Data is generated by the HOST*/</span></div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;      <span class="comment">/* Clear NACK Flag */</span></div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;      __HAL_SMBUS_CLEAR_FLAG(hsmbus, SMBUS_FLAG_AF);</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160; </div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;      <span class="comment">/* Set HAL State to &quot;Idle&quot; State, mean to LISTEN state */</span></div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;      <span class="comment">/* So reset Slave Busy state */</span></div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a798d6744ccf8e046801eb6b0185b382e">PreviousState</a> = hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a>;</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> &amp;= ~((uint32_t)HAL_SMBUS_STATE_SLAVE_BUSY_TX);</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> &amp;= ~((uint32_t)HAL_SMBUS_STATE_SLAVE_BUSY_RX);</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160; </div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;      <span class="comment">/* Disable RX/TX Interrupts, keep only ADDR Interrupt */</span></div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;      <a class="code" href="group__SMBUS__Private__Functions.html#ga5ce679beb290d3003123e1b1602ca58d">SMBUS_Disable_IRQ</a>(hsmbus, SMBUS_IT_RX | SMBUS_IT_TX);</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160; </div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;      <span class="comment">/* Set ErrorCode corresponding to a Non-Acknowledge */</span></div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#ac89d133ea52f54c89e931d4c6944ad0d">ErrorCode</a> |= HAL_SMBUS_ERROR_ACKF;</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160; </div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;      <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hsmbus);</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160; </div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;      <span class="comment">/* Call the Error callback to inform upper layer */</span></div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;<span class="preprocessor">#if (USE_HAL_SMBUS_REGISTER_CALLBACKS == 1)</span></div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#ad97ceff154019926c3ec6c05b2ece615">ErrorCallback</a>(hsmbus);</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;      <a class="code" href="group__SMBUS__IRQ__Handler__and__Callbacks.html#ga51d5ec01a7259b914ac084c5b314869c">HAL_SMBUS_ErrorCallback</a>(hsmbus);</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USE_HAL_SMBUS_REGISTER_CALLBACKS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;    }</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;  }</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (SMBUS_CHECK_FLAG(StatusFlags, SMBUS_FLAG_ADDR) != RESET)</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;  {</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;    TransferDirection = (uint8_t)(SMBUS_GET_DIR(hsmbus));</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;    SlaveAddrCode = (uint16_t)(SMBUS_GET_ADDR_MATCH(hsmbus));</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160; </div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;    <span class="comment">/* Disable ADDR interrupt to prevent multiple ADDRInterrupt*/</span></div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;    <span class="comment">/* Other ADDRInterrupt will be treat in next Listen usecase */</span></div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;    __HAL_SMBUS_DISABLE_IT(hsmbus, SMBUS_IT_ADDRI);</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160; </div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;    <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hsmbus);</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160; </div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;    <span class="comment">/* Call Slave Addr callback */</span></div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;<span class="preprocessor">#if (USE_HAL_SMBUS_REGISTER_CALLBACKS == 1)</span></div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#af8b150ae04dda268bdb06e0624513502">AddrCallback</a>(hsmbus, TransferDirection, SlaveAddrCode);</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;    <a class="code" href="group__SMBUS__IRQ__Handler__and__Callbacks.html#ga1fd24223aaf7ab7ef07a07c454a1f342">HAL_SMBUS_AddrCallback</a>(hsmbus, TransferDirection, SlaveAddrCode);</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USE_HAL_SMBUS_REGISTER_CALLBACKS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;  }</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((SMBUS_CHECK_FLAG(StatusFlags, SMBUS_FLAG_RXNE) != RESET) || (SMBUS_CHECK_FLAG(StatusFlags, SMBUS_FLAG_TCR) != RESET))</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;  {</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;    <span class="keywordflow">if</span> ((hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> &amp; HAL_SMBUS_STATE_SLAVE_BUSY_RX) == HAL_SMBUS_STATE_SLAVE_BUSY_RX)</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;    {</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;      <span class="comment">/* Read data from RXDR */</span></div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;      *hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a11ddebff2664a9ce6ddc87966a34d6dd">pBuffPtr</a> = (uint8_t)(hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#aa75325e5d1d4270b1aa44be956eaae77">Instance</a>-&gt;RXDR);</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160; </div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;      <span class="comment">/* Increment Buffer pointer */</span></div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a11ddebff2664a9ce6ddc87966a34d6dd">pBuffPtr</a>++;</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160; </div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a>--;</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a04028e4c742c86e051abcba0854e9a4e">XferCount</a>--;</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160; </div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;      <span class="keywordflow">if</span> (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a04028e4c742c86e051abcba0854e9a4e">XferCount</a> == 1U)</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;      {</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;        <span class="comment">/* Receive last Byte, can be PEC byte in case of PEC BYTE enabled */</span></div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;        <span class="comment">/* or only the last Byte of Transfer */</span></div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;        <span class="comment">/* So reset the RELOAD bit mode */</span></div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;        hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a8d0b7062cdc7f83a02c2da15006f2657">XferOptions</a> &amp;= ~SMBUS_RELOAD_MODE;</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;        <a class="code" href="group__SMBUS__Private__Functions.html#ga18529fd6b5cb7c9875a009cb56791ad9">SMBUS_TransferConfig</a>(hsmbus, 0, 1, hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a8d0b7062cdc7f83a02c2da15006f2657">XferOptions</a>, SMBUS_NO_STARTSTOP);</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;      }</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a04028e4c742c86e051abcba0854e9a4e">XferCount</a> == 0U)</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;      {</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;        <span class="comment">/* Last Byte is received, disable Interrupt */</span></div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;        <a class="code" href="group__SMBUS__Private__Functions.html#ga5ce679beb290d3003123e1b1602ca58d">SMBUS_Disable_IRQ</a>(hsmbus, SMBUS_IT_RX);</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160; </div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;        <span class="comment">/* Remove HAL_SMBUS_STATE_SLAVE_BUSY_RX, keep only HAL_SMBUS_STATE_LISTEN */</span></div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;        hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a798d6744ccf8e046801eb6b0185b382e">PreviousState</a> = hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a>;</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;        hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> &amp;= ~((uint32_t)HAL_SMBUS_STATE_SLAVE_BUSY_RX);</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160; </div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;        <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;        <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hsmbus);</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160; </div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;        <span class="comment">/* Call the corresponding callback to inform upper layer of End of Transfer */</span></div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;<span class="preprocessor">#if (USE_HAL_SMBUS_REGISTER_CALLBACKS == 1)</span></div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;        hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#ac6fc2b809bfc9725b51f423dd9131e2d">SlaveRxCpltCallback</a>(hsmbus);</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;        <a class="code" href="group__SMBUS__IRQ__Handler__and__Callbacks.html#ga08cc134c3df79f4af69e08daa3a7b73d">HAL_SMBUS_SlaveRxCpltCallback</a>(hsmbus);</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USE_HAL_SMBUS_REGISTER_CALLBACKS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;      }</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;      {</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;        <span class="comment">/* Set Reload for next Bytes */</span></div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;        <a class="code" href="group__SMBUS__Private__Functions.html#ga18529fd6b5cb7c9875a009cb56791ad9">SMBUS_TransferConfig</a>(hsmbus, 0, 1, SMBUS_RELOAD_MODE  | (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a8d0b7062cdc7f83a02c2da15006f2657">XferOptions</a> &amp; SMBUS_SENDPEC_MODE), SMBUS_NO_STARTSTOP);</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160; </div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;        <span class="comment">/* Ack last Byte Read */</span></div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;        hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#aa75325e5d1d4270b1aa44be956eaae77">Instance</a>-&gt;CR2 &amp;= ~I2C_CR2_NACK;</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;      }</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;    }</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> &amp; HAL_SMBUS_STATE_SLAVE_BUSY_TX) == HAL_SMBUS_STATE_SLAVE_BUSY_TX)</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;    {</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;      <span class="keywordflow">if</span> ((hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a04028e4c742c86e051abcba0854e9a4e">XferCount</a> != 0U) &amp;&amp; (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a> == 0U))</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;      {</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;        <span class="keywordflow">if</span> (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a04028e4c742c86e051abcba0854e9a4e">XferCount</a> &gt; MAX_NBYTE_SIZE)</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;        {</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;          <a class="code" href="group__SMBUS__Private__Functions.html#ga18529fd6b5cb7c9875a009cb56791ad9">SMBUS_TransferConfig</a>(hsmbus, 0, MAX_NBYTE_SIZE, (SMBUS_RELOAD_MODE | (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a8d0b7062cdc7f83a02c2da15006f2657">XferOptions</a> &amp; SMBUS_SENDPEC_MODE)), SMBUS_NO_STARTSTOP);</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;          hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a> = MAX_NBYTE_SIZE;</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;        }</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;        {</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;          hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a> = hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a04028e4c742c86e051abcba0854e9a4e">XferCount</a>;</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;          <a class="code" href="group__SMBUS__Private__Functions.html#ga18529fd6b5cb7c9875a009cb56791ad9">SMBUS_TransferConfig</a>(hsmbus, 0, (uint8_t)hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a>, hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a8d0b7062cdc7f83a02c2da15006f2657">XferOptions</a>, SMBUS_NO_STARTSTOP);</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;          <span class="comment">/* If PEC mode is enable, size to transmit should be Size-1 byte, corresponding to PEC byte */</span></div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;          <span class="comment">/* PEC byte is automatically sent by HW block, no need to manage it in Transmit process */</span></div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;          <span class="keywordflow">if</span> (SMBUS_GET_PEC_MODE(hsmbus) != 0UL)</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;          {</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;            hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a>--;</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;            hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a04028e4c742c86e051abcba0854e9a4e">XferCount</a>--;</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;          }</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;        }</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;      }</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;    }</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;    {</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;      <span class="comment">/* Nothing to do */</span></div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;    }</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;  }</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (SMBUS_CHECK_FLAG(StatusFlags, SMBUS_FLAG_TXIS) != RESET)</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;  {</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;    <span class="comment">/* Write data to TXDR only if XferCount not reach &quot;0&quot; */</span></div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;    <span class="comment">/* A TXIS flag can be set, during STOP treatment      */</span></div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;    <span class="comment">/* Check if all Data have already been sent */</span></div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;    <span class="comment">/* If it is the case, this last write in TXDR is not sent, correspond to a dummy TXIS event */</span></div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;    <span class="keywordflow">if</span> (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a04028e4c742c86e051abcba0854e9a4e">XferCount</a> &gt; 0U)</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;    {</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;      <span class="comment">/* Write data to TXDR */</span></div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#aa75325e5d1d4270b1aa44be956eaae77">Instance</a>-&gt;TXDR = *hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a11ddebff2664a9ce6ddc87966a34d6dd">pBuffPtr</a>;</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160; </div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;      <span class="comment">/* Increment Buffer pointer */</span></div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a11ddebff2664a9ce6ddc87966a34d6dd">pBuffPtr</a>++;</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160; </div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a04028e4c742c86e051abcba0854e9a4e">XferCount</a>--;</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a>--;</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;    }</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160; </div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;    <span class="keywordflow">if</span> (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a04028e4c742c86e051abcba0854e9a4e">XferCount</a> == 0U)</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;    {</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;      <span class="comment">/* Last Byte is Transmitted */</span></div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;      <span class="comment">/* Remove HAL_SMBUS_STATE_SLAVE_BUSY_TX, keep only HAL_SMBUS_STATE_LISTEN */</span></div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;      <a class="code" href="group__SMBUS__Private__Functions.html#ga5ce679beb290d3003123e1b1602ca58d">SMBUS_Disable_IRQ</a>(hsmbus, SMBUS_IT_TX);</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a798d6744ccf8e046801eb6b0185b382e">PreviousState</a> = hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a>;</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> &amp;= ~((uint32_t)HAL_SMBUS_STATE_SLAVE_BUSY_TX);</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160; </div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;      <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hsmbus);</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160; </div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;      <span class="comment">/* Call the corresponding callback to inform upper layer of End of Transfer */</span></div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;<span class="preprocessor">#if (USE_HAL_SMBUS_REGISTER_CALLBACKS == 1)</span></div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#ac1230d9c2106df1a7dd2cd832c7211db">SlaveTxCpltCallback</a>(hsmbus);</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;      <a class="code" href="group__SMBUS__IRQ__Handler__and__Callbacks.html#gaf47c79439c5e0ae2f81949563d6bb2af">HAL_SMBUS_SlaveTxCpltCallback</a>(hsmbus);</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USE_HAL_SMBUS_REGISTER_CALLBACKS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;    }</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;  }</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;  {</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;    <span class="comment">/* Nothing to do */</span></div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;  }</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160; </div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;  <span class="comment">/* Check if STOPF is set */</span></div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;  <span class="keywordflow">if</span> (SMBUS_CHECK_FLAG(StatusFlags, SMBUS_FLAG_STOPF) != RESET)</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;  {</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;    <span class="keywordflow">if</span> ((hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> &amp; HAL_SMBUS_STATE_LISTEN) == HAL_SMBUS_STATE_LISTEN)</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;    {</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;      <span class="comment">/* Store Last receive data if any */</span></div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;      <span class="keywordflow">if</span> (__HAL_SMBUS_GET_FLAG(hsmbus, SMBUS_FLAG_RXNE) != RESET)</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;      {</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;        <span class="comment">/* Read data from RXDR */</span></div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;        *hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a11ddebff2664a9ce6ddc87966a34d6dd">pBuffPtr</a> = (uint8_t)(hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#aa75325e5d1d4270b1aa44be956eaae77">Instance</a>-&gt;RXDR);</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160; </div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;        <span class="comment">/* Increment Buffer pointer */</span></div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;        hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a11ddebff2664a9ce6ddc87966a34d6dd">pBuffPtr</a>++;</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160; </div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;        <span class="keywordflow">if</span> ((hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a> &gt; 0U))</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;        {</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;          hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a>--;</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;          hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a04028e4c742c86e051abcba0854e9a4e">XferCount</a>--;</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;        }</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;      }</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160; </div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;      <span class="comment">/* Disable RX and TX Interrupts */</span></div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;      <a class="code" href="group__SMBUS__Private__Functions.html#ga5ce679beb290d3003123e1b1602ca58d">SMBUS_Disable_IRQ</a>(hsmbus, SMBUS_IT_RX | SMBUS_IT_TX);</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160; </div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;      <span class="comment">/* Disable ADDR Interrupt */</span></div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;      <a class="code" href="group__SMBUS__Private__Functions.html#ga5ce679beb290d3003123e1b1602ca58d">SMBUS_Disable_IRQ</a>(hsmbus, SMBUS_IT_ADDR);</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160; </div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;      <span class="comment">/* Disable Address Acknowledge */</span></div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#aa75325e5d1d4270b1aa44be956eaae77">Instance</a>-&gt;CR2 |= I2C_CR2_NACK;</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160; </div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;      <span class="comment">/* Clear Configuration Register 2 */</span></div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;      SMBUS_RESET_CR2(hsmbus);</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160; </div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;      <span class="comment">/* Clear STOP Flag */</span></div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;      __HAL_SMBUS_CLEAR_FLAG(hsmbus, SMBUS_FLAG_STOPF);</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160; </div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;      <span class="comment">/* Clear ADDR flag */</span></div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;      __HAL_SMBUS_CLEAR_FLAG(hsmbus, SMBUS_FLAG_ADDR);</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160; </div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a8d0b7062cdc7f83a02c2da15006f2657">XferOptions</a> = 0;</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a798d6744ccf8e046801eb6b0185b382e">PreviousState</a> = hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a>;</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> = HAL_SMBUS_STATE_READY;</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160; </div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;      <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hsmbus);</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160; </div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;      <span class="comment">/* Call the Listen Complete callback, to inform upper layer of the end of Listen usecase */</span></div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;<span class="preprocessor">#if (USE_HAL_SMBUS_REGISTER_CALLBACKS == 1)</span></div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#afa933402f8e7295b5cd2c5ac65a7634c">ListenCpltCallback</a>(hsmbus);</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;      <a class="code" href="group__SMBUS__IRQ__Handler__and__Callbacks.html#gaefc4085f3b1ba083fcd22eb8f3a15298">HAL_SMBUS_ListenCpltCallback</a>(hsmbus);</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USE_HAL_SMBUS_REGISTER_CALLBACKS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;    }</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;  }</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160; </div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;  <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hsmbus);</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160; </div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga18529fd6b5cb7c9875a009cb56791ad9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga18529fd6b5cb7c9875a009cb56791ad9">&#9670;&nbsp;</a></span>SMBUS_TransferConfig()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void SMBUS_TransferConfig </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="group__SMBUS__handle__Structure__definition.html#struct____SMBUS__HandleTypeDef">__SMBUS_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hsmbus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>DevAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>Size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>Mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>Request</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handle SMBUSx communication when starting transfer or during transfer (TC or TCR flag are set). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hsmbus</td><td>SMBUS handle. </td></tr>
    <tr><td class="paramname">DevAddress</td><td>specifies the slave address to be programmed. </td></tr>
    <tr><td class="paramname">Size</td><td>specifies the number of bytes to be programmed. This parameter must be a value between 0 and 255. </td></tr>
    <tr><td class="paramname">Mode</td><td>New state of the SMBUS START condition generation. This parameter can be one or a combination of the following values: <ul>
<li>SMBUS_RELOAD_MODE Enable Reload mode. </li>
<li>SMBUS_AUTOEND_MODE Enable Automatic end mode. </li>
<li>SMBUS_SOFTEND_MODE Enable Software end mode and Reload mode. </li>
<li>SMBUS_SENDPEC_MODE Enable Packet Error Calculation mode. </li>
</ul>
</td></tr>
    <tr><td class="paramname">Request</td><td>New state of the SMBUS START condition generation. This parameter can be one of the following values: <ul>
<li>SMBUS_NO_STARTSTOP Don't Generate stop and start condition. </li>
<li>SMBUS_GENERATE_STOP Generate stop condition (Size should be set to 0). </li>
<li>SMBUS_GENERATE_START_READ Generate Restart for read request. </li>
<li>SMBUS_GENERATE_START_WRITE Generate Restart for write request. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__smbus_8c_source.html#l02606">2606</a> of file <a class="el" href="stm32l4xx__hal__smbus_8c_source.html">stm32l4xx_hal_smbus.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;{</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_SMBUS_ALL_INSTANCE(hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#aa75325e5d1d4270b1aa44be956eaae77">Instance</a>));</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_SMBUS_TRANSFER_MODE(Mode));</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_SMBUS_TRANSFER_REQUEST(Request));</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160; </div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;  <span class="comment">/* update CR2 register */</span></div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#gaf0bea6a9989d50f8ffa9b2afc911fc4b">MODIFY_REG</a>(hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#aa75325e5d1d4270b1aa44be956eaae77">Instance</a>-&gt;CR2, ((I2C_CR2_SADD | I2C_CR2_NBYTES | I2C_CR2_RELOAD | I2C_CR2_AUTOEND | (I2C_CR2_RD_WRN &amp; (uint32_t)(Request &gt;&gt; (31UL - I2C_CR2_RD_WRN_Pos))) | I2C_CR2_START | I2C_CR2_STOP  | I2C_CR2_PECBYTE)), \</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;             (uint32_t)(((uint32_t)DevAddress &amp; I2C_CR2_SADD) | (((uint32_t)Size &lt;&lt; I2C_CR2_NBYTES_Pos) &amp; I2C_CR2_NBYTES) | (uint32_t)Mode | (uint32_t)Request));</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gaf7681b168ba210f27ce0c9d7c955f153"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf7681b168ba210f27ce0c9d7c955f153">&#9670;&nbsp;</a></span>SMBUS_WaitOnFlagUntilTimeout()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static HAL_StatusTypeDef SMBUS_WaitOnFlagUntilTimeout </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="group__SMBUS__handle__Structure__definition.html#struct____SMBUS__HandleTypeDef">__SMBUS_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hsmbus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>Flag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FlagStatus&#160;</td>
          <td class="paramname"><em>Status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>Timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handle SMBUS Communication Timeout. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hsmbus</td><td>Pointer to a SMBUS_HandleTypeDef structure that contains the configuration information for the specified SMBUS. </td></tr>
    <tr><td class="paramname">Flag</td><td>Specifies the SMBUS flag to check. </td></tr>
    <tr><td class="paramname">Status</td><td>The new Flag status (SET or RESET). </td></tr>
    <tr><td class="paramname">Timeout</td><td>Timeout duration </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__smbus_8c_source.html#l02557">2557</a> of file <a class="el" href="stm32l4xx__hal__smbus_8c_source.html">stm32l4xx_hal_smbus.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;{</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;  uint32_t tickstart = <a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>();</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160; </div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;  <span class="comment">/* Wait until flag is set */</span></div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;  <span class="keywordflow">while</span> ((FlagStatus)(__HAL_SMBUS_GET_FLAG(hsmbus, Flag)) == Status)</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;  {</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;    <span class="comment">/* Check for the Timeout */</span></div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;    <span class="keywordflow">if</span> (Timeout != HAL_MAX_DELAY)</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;    {</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;      <span class="keywordflow">if</span> (((<a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>() - tickstart) &gt; Timeout) || (Timeout == 0UL))</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;      {</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;        hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a798d6744ccf8e046801eb6b0185b382e">PreviousState</a> = hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a>;</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;        hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> = HAL_SMBUS_STATE_READY;</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160; </div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;        <span class="comment">/* Update SMBUS error code */</span></div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;        hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#ac89d133ea52f54c89e931d4c6944ad0d">ErrorCode</a> |= HAL_SMBUS_ERROR_HALTIMEOUT;</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160; </div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;        <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;        <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hsmbus);</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160; </div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;        <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;      }</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;    }</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;  }</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160; </div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="agroup__SMBUS__handle__Structure__definition_html_a3d9bde0af5ad8f473ff6b201c6eebf4a"><div class="ttname"><a href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">__SMBUS_HandleTypeDef::XferSize</a></div><div class="ttdeci">uint16_t XferSize</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8h_source.html#l00143">stm32l4xx_hal_smbus.h:143</a></div></div>
<div class="ttc" id="agroup__SMBUS__IRQ__Handler__and__Callbacks_html_ga08cc134c3df79f4af69e08daa3a7b73d"><div class="ttname"><a href="group__SMBUS__IRQ__Handler__and__Callbacks.html#ga08cc134c3df79f4af69e08daa3a7b73d">HAL_SMBUS_SlaveRxCpltCallback</a></div><div class="ttdeci">void HAL_SMBUS_SlaveRxCpltCallback(SMBUS_HandleTypeDef *hsmbus)</div><div class="ttdoc">Slave Rx Transfer completed callback.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8c_source.html#l01680">stm32l4xx_hal_smbus.c:1680</a></div></div>
<div class="ttc" id="agroup__RTCEx__Exported__Functions__Group2_html_ga3feac430acb1b5e74ad139639f3af9ca"><div class="ttname"><a href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a></div><div class="ttdeci">__HAL_UNLOCK(hrtc)</div></div>
<div class="ttc" id="agroup__SMBUS__handle__Structure__definition_html_a11ddebff2664a9ce6ddc87966a34d6dd"><div class="ttname"><a href="group__SMBUS__handle__Structure__definition.html#a11ddebff2664a9ce6ddc87966a34d6dd">__SMBUS_HandleTypeDef::pBuffPtr</a></div><div class="ttdeci">uint8_t * pBuffPtr</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8h_source.html#l00141">stm32l4xx_hal_smbus.h:141</a></div></div>
<div class="ttc" id="agroup__SMBUS__Private__Functions_html_ga5ce679beb290d3003123e1b1602ca58d"><div class="ttname"><a href="group__SMBUS__Private__Functions.html#ga5ce679beb290d3003123e1b1602ca58d">SMBUS_Disable_IRQ</a></div><div class="ttdeci">static void SMBUS_Disable_IRQ(struct __SMBUS_HandleTypeDef *hsmbus, uint32_t InterruptRequest)</div><div class="ttdoc">Manage the disabling of Interrupts.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8c_source.html#l02384">stm32l4xx_hal_smbus.c:2384</a></div></div>
<div class="ttc" id="agroup__SMBUS__handle__Structure__definition_html_afd1954dff527a934cb9802b3eec046a0"><div class="ttname"><a href="group__SMBUS__handle__Structure__definition.html#afd1954dff527a934cb9802b3eec046a0">__SMBUS_HandleTypeDef::MasterRxCpltCallback</a></div><div class="ttdeci">void(* MasterRxCpltCallback)(struct __SMBUS_HandleTypeDef *hsmbus)</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8h_source.html#l00159">stm32l4xx_hal_smbus.h:159</a></div></div>
<div class="ttc" id="agroup__SMBUS__handle__Structure__definition_html_a67e1ae2c9bc62052a8dc1f7ed179a07c"><div class="ttname"><a href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">__SMBUS_HandleTypeDef::State</a></div><div class="ttdeci">__IO uint32_t State</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8h_source.html#l00153">stm32l4xx_hal_smbus.h:153</a></div></div>
<div class="ttc" id="agroup__SMBUS__handle__Structure__definition_html_a8d0b7062cdc7f83a02c2da15006f2657"><div class="ttname"><a href="group__SMBUS__handle__Structure__definition.html#a8d0b7062cdc7f83a02c2da15006f2657">__SMBUS_HandleTypeDef::XferOptions</a></div><div class="ttdeci">__IO uint32_t XferOptions</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8h_source.html#l00147">stm32l4xx_hal_smbus.h:147</a></div></div>
<div class="ttc" id="agroup__SMBUS__IRQ__Handler__and__Callbacks_html_gaefc4085f3b1ba083fcd22eb8f3a15298"><div class="ttname"><a href="group__SMBUS__IRQ__Handler__and__Callbacks.html#gaefc4085f3b1ba083fcd22eb8f3a15298">HAL_SMBUS_ListenCpltCallback</a></div><div class="ttdeci">void HAL_SMBUS_ListenCpltCallback(SMBUS_HandleTypeDef *hsmbus)</div><div class="ttdoc">Listen Complete callback.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8c_source.html#l01716">stm32l4xx_hal_smbus.c:1716</a></div></div>
<div class="ttc" id="agroup__HAL__Exported__Functions__Group2_html_gac9b3a85a73735ac840d0dcb59bc0fdd6"><div class="ttname"><a href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a></div><div class="ttdeci">uint32_t HAL_GetTick(void)</div><div class="ttdoc">Provide a tick value in millisecond.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal_8c_source.html#l00337">stm32l4xx_hal.c:337</a></div></div>
<div class="ttc" id="agroup__SMBUS__handle__Structure__definition_html_ad97ceff154019926c3ec6c05b2ece615"><div class="ttname"><a href="group__SMBUS__handle__Structure__definition.html#ad97ceff154019926c3ec6c05b2ece615">__SMBUS_HandleTypeDef::ErrorCallback</a></div><div class="ttdeci">void(* ErrorCallback)(struct __SMBUS_HandleTypeDef *hsmbus)</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8h_source.html#l00163">stm32l4xx_hal_smbus.h:163</a></div></div>
<div class="ttc" id="agroup__SMBUS__handle__Structure__definition_html_a798d6744ccf8e046801eb6b0185b382e"><div class="ttname"><a href="group__SMBUS__handle__Structure__definition.html#a798d6744ccf8e046801eb6b0185b382e">__SMBUS_HandleTypeDef::PreviousState</a></div><div class="ttdeci">__IO uint32_t PreviousState</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8h_source.html#l00149">stm32l4xx_hal_smbus.h:149</a></div></div>
<div class="ttc" id="agroup__SMBUS__IRQ__Handler__and__Callbacks_html_ga5ba14080b9562c7cf8a4d159f3f6c146"><div class="ttname"><a href="group__SMBUS__IRQ__Handler__and__Callbacks.html#ga5ba14080b9562c7cf8a4d159f3f6c146">HAL_SMBUS_MasterRxCpltCallback</a></div><div class="ttdeci">void HAL_SMBUS_MasterRxCpltCallback(SMBUS_HandleTypeDef *hsmbus)</div><div class="ttdoc">Master Rx Transfer completed callback.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8c_source.html#l01649">stm32l4xx_hal_smbus.c:1649</a></div></div>
<div class="ttc" id="agroup__RTCEx__Exported__Functions__Group2_html_ga05dcbf41f5c5e42a592e9ad9e351391e"><div class="ttname"><a href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a></div><div class="ttdeci">return HAL_OK</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__rtc__ex_8c_source.html#l00885">stm32l4xx_hal_rtc_ex.c:885</a></div></div>
<div class="ttc" id="agroup__SMBUS__handle__Structure__definition_html_ac6fc2b809bfc9725b51f423dd9131e2d"><div class="ttname"><a href="group__SMBUS__handle__Structure__definition.html#ac6fc2b809bfc9725b51f423dd9131e2d">__SMBUS_HandleTypeDef::SlaveRxCpltCallback</a></div><div class="ttdeci">void(* SlaveRxCpltCallback)(struct __SMBUS_HandleTypeDef *hsmbus)</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8h_source.html#l00161">stm32l4xx_hal_smbus.h:161</a></div></div>
<div class="ttc" id="agroup__SMBUS__handle__Structure__definition_html_aa75325e5d1d4270b1aa44be956eaae77"><div class="ttname"><a href="group__SMBUS__handle__Structure__definition.html#aa75325e5d1d4270b1aa44be956eaae77">__SMBUS_HandleTypeDef::Instance</a></div><div class="ttdeci">I2C_TypeDef * Instance</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8h_source.html#l00137">stm32l4xx_hal_smbus.h:137</a></div></div>
<div class="ttc" id="agroup__SMBUS__handle__Structure__definition_html_ac89d133ea52f54c89e931d4c6944ad0d"><div class="ttname"><a href="group__SMBUS__handle__Structure__definition.html#ac89d133ea52f54c89e931d4c6944ad0d">__SMBUS_HandleTypeDef::ErrorCode</a></div><div class="ttdeci">__IO uint32_t ErrorCode</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8h_source.html#l00155">stm32l4xx_hal_smbus.h:155</a></div></div>
<div class="ttc" id="agroup__SMBUS__IRQ__Handler__and__Callbacks_html_gaf47c79439c5e0ae2f81949563d6bb2af"><div class="ttname"><a href="group__SMBUS__IRQ__Handler__and__Callbacks.html#gaf47c79439c5e0ae2f81949563d6bb2af">HAL_SMBUS_SlaveTxCpltCallback</a></div><div class="ttdeci">void HAL_SMBUS_SlaveTxCpltCallback(SMBUS_HandleTypeDef *hsmbus)</div><div class="ttdoc">Slave Tx Transfer completed callback.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8c_source.html#l01664">stm32l4xx_hal_smbus.c:1664</a></div></div>
<div class="ttc" id="agroup__SMBUS__Private__Functions_html_ga653ffcf99e76df1233ad57788e8b524c"><div class="ttname"><a href="group__SMBUS__Private__Functions.html#ga653ffcf99e76df1233ad57788e8b524c">SMBUS_ITErrorHandler</a></div><div class="ttdeci">static void SMBUS_ITErrorHandler(struct __SMBUS_HandleTypeDef *hsmbus)</div><div class="ttdoc">SMBUS interrupts error handler.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8c_source.html#l02456">stm32l4xx_hal_smbus.c:2456</a></div></div>
<div class="ttc" id="agroup__SMBUS__handle__Structure__definition_html_a04028e4c742c86e051abcba0854e9a4e"><div class="ttname"><a href="group__SMBUS__handle__Structure__definition.html#a04028e4c742c86e051abcba0854e9a4e">__SMBUS_HandleTypeDef::XferCount</a></div><div class="ttdeci">__IO uint16_t XferCount</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8h_source.html#l00145">stm32l4xx_hal_smbus.h:145</a></div></div>
<div class="ttc" id="agroup__SMBUS__IRQ__Handler__and__Callbacks_html_ga51d5ec01a7259b914ac084c5b314869c"><div class="ttname"><a href="group__SMBUS__IRQ__Handler__and__Callbacks.html#ga51d5ec01a7259b914ac084c5b314869c">HAL_SMBUS_ErrorCallback</a></div><div class="ttdeci">void HAL_SMBUS_ErrorCallback(SMBUS_HandleTypeDef *hsmbus)</div><div class="ttdoc">SMBUS error callback.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8c_source.html#l01732">stm32l4xx_hal_smbus.c:1732</a></div></div>
<div class="ttc" id="agroup__RTCEx__Exported__Functions__Group2_html_gaf0bea6a9989d50f8ffa9b2afc911fc4b"><div class="ttname"><a href="group__RTCEx__Exported__Functions__Group2.html#gaf0bea6a9989d50f8ffa9b2afc911fc4b">MODIFY_REG</a></div><div class="ttdeci">MODIFY_REG(hrtc-&gt;Instance-&gt;CR, RTC_CR_WUCKSEL,(uint32_t) WakeUpClock)</div></div>
<div class="ttc" id="agroup__SMBUS__Private__Functions_html_ga18529fd6b5cb7c9875a009cb56791ad9"><div class="ttname"><a href="group__SMBUS__Private__Functions.html#ga18529fd6b5cb7c9875a009cb56791ad9">SMBUS_TransferConfig</a></div><div class="ttdeci">static void SMBUS_TransferConfig(struct __SMBUS_HandleTypeDef *hsmbus, uint16_t DevAddress, uint8_t Size, uint32_t Mode, uint32_t Request)</div><div class="ttdoc">Handle SMBUSx communication when starting transfer or during transfer (TC or TCR flag are set).</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8c_source.html#l02606">stm32l4xx_hal_smbus.c:2606</a></div></div>
<div class="ttc" id="agroup__SMBUS__handle__Structure__definition_html_afa933402f8e7295b5cd2c5ac65a7634c"><div class="ttname"><a href="group__SMBUS__handle__Structure__definition.html#afa933402f8e7295b5cd2c5ac65a7634c">__SMBUS_HandleTypeDef::ListenCpltCallback</a></div><div class="ttdeci">void(* ListenCpltCallback)(struct __SMBUS_HandleTypeDef *hsmbus)</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8h_source.html#l00162">stm32l4xx_hal_smbus.h:162</a></div></div>
<div class="ttc" id="agroup__SMBUS__IRQ__Handler__and__Callbacks_html_ga1fd24223aaf7ab7ef07a07c454a1f342"><div class="ttname"><a href="group__SMBUS__IRQ__Handler__and__Callbacks.html#ga1fd24223aaf7ab7ef07a07c454a1f342">HAL_SMBUS_AddrCallback</a></div><div class="ttdeci">void HAL_SMBUS_AddrCallback(SMBUS_HandleTypeDef *hsmbus, uint8_t TransferDirection, uint16_t AddrMatchCode)</div><div class="ttdoc">Slave Address Match callback.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8c_source.html#l01698">stm32l4xx_hal_smbus.c:1698</a></div></div>
<div class="ttc" id="agroup__SMBUS__handle__Structure__definition_html_af8b150ae04dda268bdb06e0624513502"><div class="ttname"><a href="group__SMBUS__handle__Structure__definition.html#af8b150ae04dda268bdb06e0624513502">__SMBUS_HandleTypeDef::AddrCallback</a></div><div class="ttdeci">void(* AddrCallback)(struct __SMBUS_HandleTypeDef *hsmbus, uint8_t TransferDirection, uint16_t AddrMatchCode)</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8h_source.html#l00165">stm32l4xx_hal_smbus.h:165</a></div></div>
<div class="ttc" id="agroup__RTCEx__Exported__Functions__Group2_html_ga88b8891e30e4b1c54fecb1235c95870d"><div class="ttname"><a href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a></div><div class="ttdeci">__HAL_LOCK(hrtc)</div></div>
<div class="ttc" id="agroup__SMBUS__IRQ__Handler__and__Callbacks_html_gaa7facf1244f0d3d09e167f37e4a2f3b4"><div class="ttname"><a href="group__SMBUS__IRQ__Handler__and__Callbacks.html#gaa7facf1244f0d3d09e167f37e4a2f3b4">HAL_SMBUS_MasterTxCpltCallback</a></div><div class="ttdeci">void HAL_SMBUS_MasterTxCpltCallback(SMBUS_HandleTypeDef *hsmbus)</div><div class="ttdoc">Master Tx Transfer completed callback.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8c_source.html#l01633">stm32l4xx_hal_smbus.c:1633</a></div></div>
<div class="ttc" id="agroup__RTCEx__Exported__Functions__Group2_html_ga2b23ae77e9ce099e35aaa5e9e0daba7b"><div class="ttname"><a href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a></div><div class="ttdeci">assert_param(IS_RTC_WAKEUP_CLOCK(WakeUpClock))</div></div>
<div class="ttc" id="agroup__SMBUS__handle__Structure__definition_html_afa0b7f81420e14922df3b1bce9a9d0c6"><div class="ttname"><a href="group__SMBUS__handle__Structure__definition.html#afa0b7f81420e14922df3b1bce9a9d0c6">__SMBUS_HandleTypeDef::MasterTxCpltCallback</a></div><div class="ttdeci">void(* MasterTxCpltCallback)(struct __SMBUS_HandleTypeDef *hsmbus)</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8h_source.html#l00158">stm32l4xx_hal_smbus.h:158</a></div></div>
<div class="ttc" id="agroup__SMBUS__handle__Structure__definition_html_ac1230d9c2106df1a7dd2cd832c7211db"><div class="ttname"><a href="group__SMBUS__handle__Structure__definition.html#ac1230d9c2106df1a7dd2cd832c7211db">__SMBUS_HandleTypeDef::SlaveTxCpltCallback</a></div><div class="ttdeci">void(* SlaveTxCpltCallback)(struct __SMBUS_HandleTypeDef *hsmbus)</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8h_source.html#l00160">stm32l4xx_hal_smbus.h:160</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.16 </li>
  </ul>
</div>
</body>
</html>
