<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STM32L4xx_HAL_Driver: Extended Input and Output operation functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">STM32L4xx_HAL_Driver
   &#160;<span id="projectnumber">1.14.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__ADCEx__Exported__Functions__Group1.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Extended Input and Output operation functions<div class="ingroups"><a class="el" href="group__STM32L4xx__HAL__Driver.html">STM32L4xx_HAL_Driver</a> &raquo; <a class="el" href="group__ADCEx.html">ADCEx</a> &raquo; <a class="el" href="group__ADCEx__Exported__Functions.html">ADC Extended Exported Functions</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Extended IO operation functions.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga12d140e07af14ab117239e9d0b4a6545"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ADCEx__Exported__Functions__Group1.html#ga12d140e07af14ab117239e9d0b4a6545">HAL_ADCEx_Calibration_Start</a> (<a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *hadc, uint32_t SingleDiff)</td></tr>
<tr class="memdesc:ga12d140e07af14ab117239e9d0b4a6545"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform an ADC automatic self-calibration Calibration prerequisite: ADC must be disabled (execute this function before <a class="el" href="group__ADC__Exported__Functions__Group2.html#ga193666e3bde978627c9ee1e2073c69c0" title="Enable ADC, start conversion of regular group.">HAL_ADC_Start()</a> or after <a class="el" href="group__ADC__Exported__Functions__Group2.html#ga1b00cb85fc6c0f40fabd02701528711d" title="Stop ADC conversion of regular group (and injected channels in case of auto_injection mode),...">HAL_ADC_Stop()</a> ).  <a href="group__ADCEx__Exported__Functions__Group1.html#ga12d140e07af14ab117239e9d0b4a6545">More...</a><br /></td></tr>
<tr class="separator:ga12d140e07af14ab117239e9d0b4a6545"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf2f0a441cdd5047e313d5be7abbdb022"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ADCEx__Exported__Functions__Group1.html#gaf2f0a441cdd5047e313d5be7abbdb022">HAL_ADCEx_Calibration_GetValue</a> (<a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *hadc, uint32_t SingleDiff)</td></tr>
<tr class="memdesc:gaf2f0a441cdd5047e313d5be7abbdb022"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the calibration factor.  <a href="group__ADCEx__Exported__Functions__Group1.html#gaf2f0a441cdd5047e313d5be7abbdb022">More...</a><br /></td></tr>
<tr class="separator:gaf2f0a441cdd5047e313d5be7abbdb022"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga716630eb7958eb75d3053c886a205e48"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ADCEx__Exported__Functions__Group1.html#ga716630eb7958eb75d3053c886a205e48">HAL_ADCEx_Calibration_SetValue</a> (<a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *hadc, uint32_t SingleDiff, uint32_t CalibrationFactor)</td></tr>
<tr class="memdesc:ga716630eb7958eb75d3053c886a205e48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the calibration factor to overwrite automatic conversion result. ADC must be enabled and no conversion is ongoing.  <a href="group__ADCEx__Exported__Functions__Group1.html#ga716630eb7958eb75d3053c886a205e48">More...</a><br /></td></tr>
<tr class="separator:ga716630eb7958eb75d3053c886a205e48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa666882ff772df8a5140090422825ed6"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ADCEx__Exported__Functions__Group1.html#gaa666882ff772df8a5140090422825ed6">HAL_ADCEx_InjectedStart</a> (<a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *hadc)</td></tr>
<tr class="memdesc:gaa666882ff772df8a5140090422825ed6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable ADC, start conversion of injected group.  <a href="group__ADCEx__Exported__Functions__Group1.html#gaa666882ff772df8a5140090422825ed6">More...</a><br /></td></tr>
<tr class="separator:gaa666882ff772df8a5140090422825ed6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga91f6c85ae910e9baaf578a346c30c7c1"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ADCEx__Exported__Functions__Group1.html#ga91f6c85ae910e9baaf578a346c30c7c1">HAL_ADCEx_InjectedStop</a> (<a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *hadc)</td></tr>
<tr class="memdesc:ga91f6c85ae910e9baaf578a346c30c7c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop conversion of injected channels. Disable ADC peripheral if no regular conversion is on going.  <a href="group__ADCEx__Exported__Functions__Group1.html#ga91f6c85ae910e9baaf578a346c30c7c1">More...</a><br /></td></tr>
<tr class="separator:ga91f6c85ae910e9baaf578a346c30c7c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5e11b306be79f36c71a73f2e465ad613"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ADCEx__Exported__Functions__Group1.html#ga5e11b306be79f36c71a73f2e465ad613">HAL_ADCEx_InjectedPollForConversion</a> (<a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *hadc, uint32_t Timeout)</td></tr>
<tr class="memdesc:ga5e11b306be79f36c71a73f2e465ad613"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for injected group conversion to be completed.  <a href="group__ADCEx__Exported__Functions__Group1.html#ga5e11b306be79f36c71a73f2e465ad613">More...</a><br /></td></tr>
<tr class="separator:ga5e11b306be79f36c71a73f2e465ad613"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf55cd28b1394a0564f99e1f5069c0ed1"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ADCEx__Exported__Functions__Group1.html#gaf55cd28b1394a0564f99e1f5069c0ed1">HAL_ADCEx_InjectedStart_IT</a> (<a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *hadc)</td></tr>
<tr class="memdesc:gaf55cd28b1394a0564f99e1f5069c0ed1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable ADC, start conversion of injected group with interruption.  <a href="group__ADCEx__Exported__Functions__Group1.html#gaf55cd28b1394a0564f99e1f5069c0ed1">More...</a><br /></td></tr>
<tr class="separator:gaf55cd28b1394a0564f99e1f5069c0ed1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae032f41136f4dc4b3f3c2476b96a21f5"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ADCEx__Exported__Functions__Group1.html#gae032f41136f4dc4b3f3c2476b96a21f5">HAL_ADCEx_InjectedStop_IT</a> (<a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *hadc)</td></tr>
<tr class="memdesc:gae032f41136f4dc4b3f3c2476b96a21f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop conversion of injected channels, disable interruption of end-of-conversion. Disable ADC peripheral if no regular conversion is on going.  <a href="group__ADCEx__Exported__Functions__Group1.html#gae032f41136f4dc4b3f3c2476b96a21f5">More...</a><br /></td></tr>
<tr class="separator:gae032f41136f4dc4b3f3c2476b96a21f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab36a3508a06430d7c7d0def79ec61b08"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ADCEx__Exported__Functions__Group1.html#gab36a3508a06430d7c7d0def79ec61b08">HAL_ADCEx_MultiModeStart_DMA</a> (<a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *hadc, uint32_t *pData, uint32_t Length)</td></tr>
<tr class="memdesc:gab36a3508a06430d7c7d0def79ec61b08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable ADC, start MultiMode conversion and transfer regular results through DMA.  <a href="group__ADCEx__Exported__Functions__Group1.html#gab36a3508a06430d7c7d0def79ec61b08">More...</a><br /></td></tr>
<tr class="separator:gab36a3508a06430d7c7d0def79ec61b08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6a114ff60985be225d621a5c3be8ddf2"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ADCEx__Exported__Functions__Group1.html#ga6a114ff60985be225d621a5c3be8ddf2">HAL_ADCEx_MultiModeStop_DMA</a> (<a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *hadc)</td></tr>
<tr class="memdesc:ga6a114ff60985be225d621a5c3be8ddf2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop multimode ADC conversion, disable ADC DMA transfer, disable ADC peripheral.  <a href="group__ADCEx__Exported__Functions__Group1.html#ga6a114ff60985be225d621a5c3be8ddf2">More...</a><br /></td></tr>
<tr class="separator:ga6a114ff60985be225d621a5c3be8ddf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5ab7c06d2f0b5f9de1f86de5713d68d2"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ADCEx__Exported__Functions__Group1.html#ga5ab7c06d2f0b5f9de1f86de5713d68d2">HAL_ADCEx_MultiModeGetValue</a> (<a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *hadc)</td></tr>
<tr class="memdesc:ga5ab7c06d2f0b5f9de1f86de5713d68d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the last ADC Master and Slave regular conversions results when in multimode configuration.  <a href="group__ADCEx__Exported__Functions__Group1.html#ga5ab7c06d2f0b5f9de1f86de5713d68d2">More...</a><br /></td></tr>
<tr class="separator:ga5ab7c06d2f0b5f9de1f86de5713d68d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7996668b61263f91c76d5f55551f3a07"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ADCEx__Exported__Functions__Group1.html#ga7996668b61263f91c76d5f55551f3a07">HAL_ADCEx_InjectedGetValue</a> (<a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *hadc, uint32_t InjectedRank)</td></tr>
<tr class="memdesc:ga7996668b61263f91c76d5f55551f3a07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get ADC injected group conversion result.  <a href="group__ADCEx__Exported__Functions__Group1.html#ga7996668b61263f91c76d5f55551f3a07">More...</a><br /></td></tr>
<tr class="separator:ga7996668b61263f91c76d5f55551f3a07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gade71165e2efb09c48f919e6477b73683"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ADCEx__Exported__Functions__Group1.html#gade71165e2efb09c48f919e6477b73683">HAL_ADCEx_InjectedConvCpltCallback</a> (<a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *hadc)</td></tr>
<tr class="memdesc:gade71165e2efb09c48f919e6477b73683"><td class="mdescLeft">&#160;</td><td class="mdescRight">Injected conversion complete callback in non-blocking mode.  <a href="group__ADCEx__Exported__Functions__Group1.html#gade71165e2efb09c48f919e6477b73683">More...</a><br /></td></tr>
<tr class="separator:gade71165e2efb09c48f919e6477b73683"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6d885ffaca17e58e6d6602a6495f95d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ADCEx__Exported__Functions__Group1.html#ga6d885ffaca17e58e6d6602a6495f95d3">HAL_ADCEx_InjectedQueueOverflowCallback</a> (<a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *hadc)</td></tr>
<tr class="memdesc:ga6d885ffaca17e58e6d6602a6495f95d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Injected context queue overflow callback.  <a href="group__ADCEx__Exported__Functions__Group1.html#ga6d885ffaca17e58e6d6602a6495f95d3">More...</a><br /></td></tr>
<tr class="separator:ga6d885ffaca17e58e6d6602a6495f95d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad01581abaee073df15893ec37c4bf95b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ADCEx__Exported__Functions__Group1.html#gad01581abaee073df15893ec37c4bf95b">HAL_ADCEx_LevelOutOfWindow2Callback</a> (<a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *hadc)</td></tr>
<tr class="memdesc:gad01581abaee073df15893ec37c4bf95b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Analog watchdog 2 callback in non-blocking mode.  <a href="group__ADCEx__Exported__Functions__Group1.html#gad01581abaee073df15893ec37c4bf95b">More...</a><br /></td></tr>
<tr class="separator:gad01581abaee073df15893ec37c4bf95b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaef000c73b8ec88204c0e9ad201bdd4c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ADCEx__Exported__Functions__Group1.html#gaef000c73b8ec88204c0e9ad201bdd4c0">HAL_ADCEx_LevelOutOfWindow3Callback</a> (<a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *hadc)</td></tr>
<tr class="memdesc:gaef000c73b8ec88204c0e9ad201bdd4c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Analog watchdog 3 callback in non-blocking mode.  <a href="group__ADCEx__Exported__Functions__Group1.html#gaef000c73b8ec88204c0e9ad201bdd4c0">More...</a><br /></td></tr>
<tr class="separator:gaef000c73b8ec88204c0e9ad201bdd4c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae13c4f5642800e31eaeec18d9c098b5f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ADCEx__Exported__Functions__Group1.html#gae13c4f5642800e31eaeec18d9c098b5f">HAL_ADCEx_EndOfSamplingCallback</a> (<a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *hadc)</td></tr>
<tr class="memdesc:gae13c4f5642800e31eaeec18d9c098b5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">End Of Sampling callback in non-blocking mode.  <a href="group__ADCEx__Exported__Functions__Group1.html#gae13c4f5642800e31eaeec18d9c098b5f">More...</a><br /></td></tr>
<tr class="separator:gae13c4f5642800e31eaeec18d9c098b5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0b8d070f599968503f636466667af01a"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ADCEx__Exported__Functions__Group1.html#ga0b8d070f599968503f636466667af01a">HAL_ADCEx_RegularStop</a> (<a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *hadc)</td></tr>
<tr class="memdesc:ga0b8d070f599968503f636466667af01a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop ADC conversion of regular group (and injected channels in case of auto_injection mode), disable ADC peripheral if no conversion is on going on injected group.  <a href="group__ADCEx__Exported__Functions__Group1.html#ga0b8d070f599968503f636466667af01a">More...</a><br /></td></tr>
<tr class="separator:ga0b8d070f599968503f636466667af01a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae383afc51053ebae80e81eb8a3dc4ff9"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ADCEx__Exported__Functions__Group1.html#gae383afc51053ebae80e81eb8a3dc4ff9">HAL_ADCEx_RegularStop_IT</a> (<a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *hadc)</td></tr>
<tr class="memdesc:gae383afc51053ebae80e81eb8a3dc4ff9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop ADC conversion of ADC groups regular and injected, disable interrution of end-of-conversion, disable ADC peripheral if no conversion is on going on injected group.  <a href="group__ADCEx__Exported__Functions__Group1.html#gae383afc51053ebae80e81eb8a3dc4ff9">More...</a><br /></td></tr>
<tr class="separator:gae383afc51053ebae80e81eb8a3dc4ff9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga39a320b4d1c2192f96ddade9887af58c"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ADCEx__Exported__Functions__Group1.html#ga39a320b4d1c2192f96ddade9887af58c">HAL_ADCEx_RegularStop_DMA</a> (<a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *hadc)</td></tr>
<tr class="memdesc:ga39a320b4d1c2192f96ddade9887af58c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop ADC conversion of regular group (and injected group in case of auto_injection mode), disable ADC DMA transfer, disable ADC peripheral if no conversion is on going on injected group.  <a href="group__ADCEx__Exported__Functions__Group1.html#ga39a320b4d1c2192f96ddade9887af58c">More...</a><br /></td></tr>
<tr class="separator:ga39a320b4d1c2192f96ddade9887af58c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaadbdd8685d24a5a74521c66811a5cb2e"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ADCEx__Exported__Functions__Group1.html#gaadbdd8685d24a5a74521c66811a5cb2e">HAL_ADCEx_RegularMultiModeStop_DMA</a> (<a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *hadc)</td></tr>
<tr class="memdesc:gaadbdd8685d24a5a74521c66811a5cb2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop DMA-based multimode ADC conversion, disable ADC DMA transfer, disable ADC peripheral if no injected conversion is on-going.  <a href="group__ADCEx__Exported__Functions__Group1.html#gaadbdd8685d24a5a74521c66811a5cb2e">More...</a><br /></td></tr>
<tr class="separator:gaadbdd8685d24a5a74521c66811a5cb2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Extended IO operation functions. </p>
<pre class="fragment"> ===============================================================================
                      ##### IO operation functions #####
 ===============================================================================
    [..]  This section provides functions allowing to:

      (+) Perform the ADC self-calibration for single or differential ending.
      (+) Get calibration factors for single or differential ending.
      (+) Set calibration factors for single or differential ending.

      (+) Start conversion of ADC group injected.
      (+) Stop conversion of ADC group injected.
      (+) Poll for conversion complete on ADC group injected.
      (+) Get result of ADC group injected channel conversion.
      (+) Start conversion of ADC group injected and enable interruptions.
      (+) Stop conversion of ADC group injected and disable interruptions.

      (+) When multimode feature is available, start multimode and enable DMA transfer.
      (+) Stop multimode and disable ADC DMA transfer.
      (+) Get result of multimode conversion.</pre> <h2 class="groupheader">Function Documentation</h2>
<a id="gaf2f0a441cdd5047e313d5be7abbdb022"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf2f0a441cdd5047e313d5be7abbdb022">&#9670;&nbsp;</a></span>HAL_ADCEx_Calibration_GetValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t HAL_ADCEx_Calibration_GetValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hadc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>SingleDiff</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the calibration factor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hadc</td><td>ADC handle. </td></tr>
    <tr><td class="paramname">SingleDiff</td><td>This parameter can be only: <ul>
<li>ADC_SINGLE_ENDED Channel in mode input single ended </li>
<li>ADC_DIFFERENTIAL_ENDED Channel in mode input differential ended </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Calibration</td><td>value. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html#l00203">203</a> of file <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html">stm32l4xx_hal_adc_ex.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;{</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_ADC_ALL_INSTANCE(hadc-&gt;Instance));</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_ADC_SINGLE_DIFFERENTIAL(SingleDiff));</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160; </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="comment">/* Return the selected ADC calibration value */</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__ADC__LL__EF__Configuration__ADC__Instance.html#gad1e8198d04a388cc4d8dfea8e8108daa">LL_ADC_GetCalibrationFactor</a>(hadc-&gt;Instance, SingleDiff);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga716630eb7958eb75d3053c886a205e48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga716630eb7958eb75d3053c886a205e48">&#9670;&nbsp;</a></span>HAL_ADCEx_Calibration_SetValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_ADCEx_Calibration_SetValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hadc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>SingleDiff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>CalibrationFactor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the calibration factor to overwrite automatic conversion result. ADC must be enabled and no conversion is ongoing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hadc</td><td>ADC handle </td></tr>
    <tr><td class="paramname">SingleDiff</td><td>This parameter can be only: <ul>
<li>ADC_SINGLE_ENDED Channel in mode input single ended </li>
<li>ADC_DIFFERENTIAL_ENDED Channel in mode input differential ended </li>
</ul>
</td></tr>
    <tr><td class="paramname">CalibrationFactor</td><td>Calibration factor (coded on 7 bits maximum) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>state </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html#l00223">223</a> of file <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html">stm32l4xx_hal_adc_ex.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;{</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  HAL_StatusTypeDef tmp_hal_status = <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  uint32_t tmp_adc_is_conversion_on_going_regular;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  uint32_t tmp_adc_is_conversion_on_going_injected;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_ADC_ALL_INSTANCE(hadc-&gt;Instance));</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_ADC_SINGLE_DIFFERENTIAL(SingleDiff));</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_ADC_CALFACT(CalibrationFactor));</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="comment">/* Process locked */</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(hadc);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="comment">/* Verification of hardware constraints before modifying the calibration    */</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="comment">/* factors register: ADC must be enabled, no conversion on going.           */</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  tmp_adc_is_conversion_on_going_regular = <a class="code" href="group__ADC__LL__EF__Operation__ADC__Group__Regular.html#ga172f19f834ef390ace45fbff5de2bb61">LL_ADC_REG_IsConversionOngoing</a>(hadc-&gt;Instance);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  tmp_adc_is_conversion_on_going_injected = <a class="code" href="group__ADC__LL__EF__Operation__ADC__Group__Injected.html#gaa8b7966e985795984e9850014d08be44">LL_ADC_INJ_IsConversionOngoing</a>(hadc-&gt;Instance);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="group__ADC__LL__EF__Operation__ADC__Instance.html#ga454aa94716b38980c9aba0cee71074a7">LL_ADC_IsEnabled</a>(hadc-&gt;Instance) != 0UL)</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      &amp;&amp; (tmp_adc_is_conversion_on_going_regular == 0UL)</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      &amp;&amp; (tmp_adc_is_conversion_on_going_injected == 0UL)</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;     )</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="comment">/* Set the selected ADC calibration value */</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <a class="code" href="group__ADC__LL__EF__Configuration__ADC__Instance.html#ga824344d3c7ce755028ee08d47db919ef">LL_ADC_SetCalibrationFactor</a>(hadc-&gt;Instance, SingleDiff, CalibrationFactor);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  }</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  {</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="comment">/* Update ADC state machine */</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    SET_BIT(hadc-&gt;State, HAL_ADC_STATE_ERROR_CONFIG);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="comment">/* Update ADC error code */</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    SET_BIT(hadc-&gt;ErrorCode, HAL_ADC_ERROR_INTERNAL);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="comment">/* Update ADC state machine to error */</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    tmp_hal_status = HAL_ERROR;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; </div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="comment">/* Process unlocked */</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hadc);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160; </div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="comment">/* Return function status */</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="keywordflow">return</span> tmp_hal_status;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga12d140e07af14ab117239e9d0b4a6545"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga12d140e07af14ab117239e9d0b4a6545">&#9670;&nbsp;</a></span>HAL_ADCEx_Calibration_Start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_ADCEx_Calibration_Start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hadc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>SingleDiff</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform an ADC automatic self-calibration Calibration prerequisite: ADC must be disabled (execute this function before <a class="el" href="group__ADC__Exported__Functions__Group2.html#ga193666e3bde978627c9ee1e2073c69c0" title="Enable ADC, start conversion of regular group.">HAL_ADC_Start()</a> or after <a class="el" href="group__ADC__Exported__Functions__Group2.html#ga1b00cb85fc6c0f40fabd02701528711d" title="Stop ADC conversion of regular group (and injected channels in case of auto_injection mode),...">HAL_ADC_Stop()</a> ). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hadc</td><td>ADC handle </td></tr>
    <tr><td class="paramname">SingleDiff</td><td>Selection of single-ended or differential input This parameter can be one of the following values: <ul>
<li>ADC_SINGLE_ENDED Channel in mode input single ended </li>
<li>ADC_DIFFERENTIAL_ENDED Channel in mode input differential ended </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html#l00129">129</a> of file <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html">stm32l4xx_hal_adc_ex.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;{</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  HAL_StatusTypeDef tmp_hal_status;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  __IO uint32_t wait_loop_index = 0UL;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_ADC_ALL_INSTANCE(hadc-&gt;Instance));</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_ADC_SINGLE_DIFFERENTIAL(SingleDiff));</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="comment">/* Process locked */</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(hadc);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160; </div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="comment">/* Calibration prerequisite: ADC must be disabled. */</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="comment">/* Disable the ADC (if not already disabled) */</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  tmp_hal_status = <a class="code" href="group__ADC__Private__Functions.html#gaf93525a5c14bfdf926f8d8331a63b44c">ADC_Disable</a>(hadc);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="comment">/* Check if ADC is effectively disabled */</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="keywordflow">if</span> (tmp_hal_status == <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="comment">/* Set ADC state */</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    ADC_STATE_CLR_SET(hadc-&gt;State,</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                      HAL_ADC_STATE_REG_BUSY | HAL_ADC_STATE_INJ_BUSY,</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                      HAL_ADC_STATE_BUSY_INTERNAL);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="comment">/* Start ADC calibration in mode single-ended or differential */</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <a class="code" href="group__ADC__LL__EF__Operation__ADC__Instance.html#ga0ec7b7d7c4207b4f36121d82bfe3a9e0">LL_ADC_StartCalibration</a>(hadc-&gt;Instance, SingleDiff);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="comment">/* Wait for calibration completion */</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="group__ADC__LL__EF__Operation__ADC__Instance.html#ga3c5c189afd79c99ebdcb51a7f580b818">LL_ADC_IsCalibrationOnGoing</a>(hadc-&gt;Instance) != 0UL)</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      wait_loop_index++;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      <span class="keywordflow">if</span> (wait_loop_index &gt;= ADC_CALIBRATION_TIMEOUT)</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      {</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="comment">/* Update ADC state machine to error */</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        ADC_STATE_CLR_SET(hadc-&gt;State,</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                          HAL_ADC_STATE_BUSY_INTERNAL,</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                          HAL_ADC_STATE_ERROR_INTERNAL);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <span class="comment">/* Process unlocked */</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hadc);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      }</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    }</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="comment">/* Set ADC state */</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    ADC_STATE_CLR_SET(hadc-&gt;State,</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                      HAL_ADC_STATE_BUSY_INTERNAL,</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                      HAL_ADC_STATE_READY);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    SET_BIT(hadc-&gt;State, HAL_ADC_STATE_ERROR_INTERNAL);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="comment">/* Note: No need to update variable &quot;tmp_hal_status&quot; here: already set    */</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="comment">/*       to state &quot;HAL_ERROR&quot; by function disabling the ADC.              */</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="comment">/* Process unlocked */</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hadc);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; </div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="comment">/* Return function status */</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="keywordflow">return</span> tmp_hal_status;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gae13c4f5642800e31eaeec18d9c098b5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae13c4f5642800e31eaeec18d9c098b5f">&#9670;&nbsp;</a></span>HAL_ADCEx_EndOfSamplingCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak void HAL_ADCEx_EndOfSamplingCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hadc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>End Of Sampling callback in non-blocking mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hadc</td><td>ADC handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html#l01235">1235</a> of file <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html">stm32l4xx_hal_adc_ex.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;{</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;  <span class="comment">/* Prevent unused argument(s) compilation warning */</span></div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;  UNUSED(hadc);</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160; </div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;  <span class="comment">/* NOTE : This function should not be modified. When the callback is needed,</span></div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;<span class="comment">            function HAL_ADCEx_EndOfSamplingCallback must be implemented in the user file.</span></div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;<span class="comment">  */</span></div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gade71165e2efb09c48f919e6477b73683"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gade71165e2efb09c48f919e6477b73683">&#9670;&nbsp;</a></span>HAL_ADCEx_InjectedConvCpltCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak void HAL_ADCEx_InjectedConvCpltCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hadc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Injected conversion complete callback in non-blocking mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hadc</td><td>ADC handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html#l01170">1170</a> of file <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html">stm32l4xx_hal_adc_ex.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;{</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  <span class="comment">/* Prevent unused argument(s) compilation warning */</span></div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  UNUSED(hadc);</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160; </div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  <span class="comment">/* NOTE : This function should not be modified. When the callback is needed,</span></div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;<span class="comment">            function HAL_ADCEx_InjectedConvCpltCallback must be implemented in the user file.</span></div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;<span class="comment">  */</span></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga7996668b61263f91c76d5f55551f3a07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7996668b61263f91c76d5f55551f3a07">&#9670;&nbsp;</a></span>HAL_ADCEx_InjectedGetValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t HAL_ADCEx_InjectedGetValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hadc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>InjectedRank</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get ADC injected group conversion result. </p>
<dl class="section note"><dt>Note</dt><dd>Reading register JDRx automatically clears ADC flag JEOC (ADC group injected end of unitary conversion). </dd>
<dd>
This function does not clear ADC flag JEOS (ADC group injected end of sequence conversion) Occurrence of flag JEOS rising:<ul>
<li>If sequencer is composed of 1 rank, flag JEOS is equivalent to flag JEOC.</li>
<li>If sequencer is composed of several ranks, during the scan sequence flag JEOC only is raised, at the end of the scan sequence both flags JEOC and EOS are raised. Flag JEOS must not be cleared by this function because it would not be compliant with low power features (feature low power auto-wait, not available on all STM32 families). To clear this flag, either use function: in programming model IT: <a class="el" href="group__ADC__Exported__Functions__Group2.html#ga28aaa5662eced92c5a4d23d8bd6b29ca">HAL_ADC_IRQHandler()</a>, in programming model polling: <a class="el" href="group__ADCEx__Exported__Functions__Group1.html#ga5e11b306be79f36c71a73f2e465ad613">HAL_ADCEx_InjectedPollForConversion()</a> or __HAL_ADC_CLEAR_FLAG(&amp;hadc, ADC_FLAG_JEOS). </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hadc</td><td>ADC handle </td></tr>
    <tr><td class="paramname">InjectedRank</td><td>the converted ADC injected rank. This parameter can be one of the following values: <ul>
<li>ADC_INJECTED_RANK_1 ADC group injected rank 1 </li>
<li>ADC_INJECTED_RANK_2 ADC group injected rank 2 </li>
<li>ADC_INJECTED_RANK_3 ADC group injected rank 3 </li>
<li>ADC_INJECTED_RANK_4 ADC group injected rank 4 </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ADC</td><td>group injected conversion data </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html#l01135">1135</a> of file <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html">stm32l4xx_hal_adc_ex.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;{</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  uint32_t tmp_jdr;</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160; </div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_ADC_ALL_INSTANCE(hadc-&gt;Instance));</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_ADC_INJECTED_RANK(InjectedRank));</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160; </div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;  <span class="comment">/* Get ADC converted value */</span></div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;  <span class="keywordflow">switch</span> (InjectedRank)</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;  {</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    <span class="keywordflow">case</span> ADC_INJECTED_RANK_4:</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;      tmp_jdr = hadc-&gt;Instance-&gt;JDR4;</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    <span class="keywordflow">case</span> ADC_INJECTED_RANK_3:</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;      tmp_jdr = hadc-&gt;Instance-&gt;JDR3;</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    <span class="keywordflow">case</span> ADC_INJECTED_RANK_2:</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;      tmp_jdr = hadc-&gt;Instance-&gt;JDR2;</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    <span class="keywordflow">case</span> ADC_INJECTED_RANK_1:</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;      tmp_jdr = hadc-&gt;Instance-&gt;JDR1;</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;  }</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160; </div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;  <span class="comment">/* Return ADC converted value */</span></div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;  <span class="keywordflow">return</span> tmp_jdr;</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga5e11b306be79f36c71a73f2e465ad613"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5e11b306be79f36c71a73f2e465ad613">&#9670;&nbsp;</a></span>HAL_ADCEx_InjectedPollForConversion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_ADCEx_InjectedPollForConversion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hadc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>Timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait for injected group conversion to be completed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hadc</td><td>ADC handle </td></tr>
    <tr><td class="paramname">Timeout</td><td>Timeout value in millisecond. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Depending on hadc-&gt;Init.EOCSelection, JEOS or JEOC is checked and cleared depending on AUTDLY bit status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html#l00483">483</a> of file <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html">stm32l4xx_hal_adc_ex.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;{</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  uint32_t tickstart;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  uint32_t tmp_Flag_End;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  uint32_t tmp_adc_inj_is_trigger_source_sw_start;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  uint32_t tmp_adc_reg_is_trigger_source_sw_start;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  uint32_t tmp_cfgr;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="preprocessor">#if defined(ADC_MULTIMODE_SUPPORT)</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <span class="keyword">const</span> ADC_TypeDef *tmpADC_Master;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  uint32_t tmp_multimode_config = <a class="code" href="group__ADC__LL__EF__Configuration__ADC__Multimode.html#ga6451f14ef7a4e19273c86555b61b86fa">LL_ADC_GetMultimode</a>(__LL_ADC_COMMON_INSTANCE(hadc-&gt;Instance));</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160; </div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_ADC_ALL_INSTANCE(hadc-&gt;Instance));</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160; </div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <span class="comment">/* If end of sequence selected */</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <span class="keywordflow">if</span> (hadc-&gt;Init.EOCSelection == ADC_EOC_SEQ_CONV)</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  {</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    tmp_Flag_End = ADC_FLAG_JEOS;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  }</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <span class="keywordflow">else</span> <span class="comment">/* end of conversion selected */</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  {</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    tmp_Flag_End = ADC_FLAG_JEOC;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  }</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160; </div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="comment">/* Get timeout */</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  tickstart = <a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>();</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160; </div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <span class="comment">/* Wait until End of Conversion or Sequence flag is raised */</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="keywordflow">while</span> ((hadc-&gt;Instance-&gt;ISR &amp; tmp_Flag_End) == 0UL)</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  {</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="comment">/* Check if timeout is disabled (set to infinite wait) */</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keywordflow">if</span> (Timeout != HAL_MAX_DELAY)</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    {</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;      <span class="keywordflow">if</span> (((<a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>() - tickstart) &gt; Timeout) || (Timeout == 0UL))</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;      {</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        <span class="comment">/* Update ADC state machine to timeout */</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        SET_BIT(hadc-&gt;State, HAL_ADC_STATE_TIMEOUT);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160; </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <span class="comment">/* Process unlocked */</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hadc);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160; </div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      }</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    }</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  }</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160; </div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <span class="comment">/* Retrieve ADC configuration */</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  tmp_adc_inj_is_trigger_source_sw_start = <a class="code" href="group__ADC__LL__EF__Configuration__ADC__Group__Injected.html#ga6ffa6d01a7b61dabe42c42a42c68c712">LL_ADC_INJ_IsTriggerSourceSWStart</a>(hadc-&gt;Instance);</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  tmp_adc_reg_is_trigger_source_sw_start = <a class="code" href="group__ADC__LL__EF__Configuration__ADC__Group__Regular.html#gaaa50f143fbbb1df8671053e1a7aec8c3">LL_ADC_REG_IsTriggerSourceSWStart</a>(hadc-&gt;Instance);</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <span class="comment">/* Get relevant register CFGR in ADC instance of ADC master or slave  */</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  <span class="comment">/* in function of multimode state (for devices with multimode         */</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <span class="comment">/* available).                                                        */</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="preprocessor">#if defined(ADC_MULTIMODE_SUPPORT)</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <span class="keywordflow">if</span> ((__LL_ADC_MULTI_INSTANCE_MASTER(hadc-&gt;Instance) == hadc-&gt;Instance)</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      || (tmp_multimode_config == LL_ADC_MULTI_INDEPENDENT)</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;      || (tmp_multimode_config == LL_ADC_MULTI_DUAL_REG_SIMULT)</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;      || (tmp_multimode_config == LL_ADC_MULTI_DUAL_REG_INTERL)</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;     )</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  {</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    tmp_cfgr = READ_REG(hadc-&gt;Instance-&gt;CFGR);</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  }</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  {</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    tmpADC_Master = __LL_ADC_MULTI_INSTANCE_MASTER(hadc-&gt;Instance);</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    tmp_cfgr = READ_REG(tmpADC_Master-&gt;CFGR);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  }</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  tmp_cfgr = READ_REG(hadc-&gt;Instance-&gt;CFGR);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160; </div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <span class="comment">/* Update ADC state machine */</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  SET_BIT(hadc-&gt;State, HAL_ADC_STATE_INJ_EOC);</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160; </div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <span class="comment">/* Determine whether any further conversion upcoming on group injected      */</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="comment">/* by external trigger or by automatic injected conversion                  */</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  <span class="comment">/* from group regular.                                                      */</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  <span class="keywordflow">if</span> ((tmp_adc_inj_is_trigger_source_sw_start != 0UL)            ||</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;      ((READ_BIT(tmp_cfgr, ADC_CFGR_JAUTO) == 0UL)      &amp;&amp;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;       ((tmp_adc_reg_is_trigger_source_sw_start != 0UL)  &amp;&amp;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        (READ_BIT(tmp_cfgr, ADC_CFGR_CONT) == 0UL))))</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  {</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="comment">/* Check whether end of sequence is reached */</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="keywordflow">if</span> (__HAL_ADC_GET_FLAG(hadc, ADC_FLAG_JEOS))</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    {</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      <span class="comment">/* Particular case if injected contexts queue is enabled:             */</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      <span class="comment">/* when the last context has been fully processed, JSQR is reset      */</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      <span class="comment">/* by the hardware. Even if no injected conversion is planned to come */</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      <span class="comment">/* (queue empty, triggers are ignored), it can start again            */</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;      <span class="comment">/* immediately after setting a new context (JADSTART is still set).   */</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      <span class="comment">/* Therefore, state of HAL ADC injected group is kept to busy.        */</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      <span class="keywordflow">if</span> (READ_BIT(tmp_cfgr, ADC_CFGR_JQM) == 0UL)</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;      {</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        <span class="comment">/* Set ADC state */</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hadc-&gt;State, HAL_ADC_STATE_INJ_BUSY);</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160; </div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        <span class="keywordflow">if</span> ((hadc-&gt;State &amp; HAL_ADC_STATE_REG_BUSY) == 0UL)</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        {</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;          SET_BIT(hadc-&gt;State, HAL_ADC_STATE_READY);</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        }</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      }</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    }</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  }</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160; </div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  <span class="comment">/* Clear polled flag */</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  <span class="keywordflow">if</span> (tmp_Flag_End == ADC_FLAG_JEOS)</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  {</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="comment">/* Clear end of sequence JEOS flag of injected group if low power feature */</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="comment">/* &quot;LowPowerAutoWait &quot; is disabled, to not interfere with this feature.   */</span></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="comment">/* For injected groups, no new conversion will start before JEOS is       */</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="comment">/* cleared.                                                               */</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keywordflow">if</span> (READ_BIT(tmp_cfgr, ADC_CFGR_AUTDLY) == 0UL)</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    {</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;      __HAL_ADC_CLEAR_FLAG(hadc, (ADC_FLAG_JEOC | ADC_FLAG_JEOS));</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    }</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  }</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  {</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    __HAL_ADC_CLEAR_FLAG(hadc, ADC_FLAG_JEOC);</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  }</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160; </div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <span class="comment">/* Return API HAL status */</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga6d885ffaca17e58e6d6602a6495f95d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6d885ffaca17e58e6d6602a6495f95d3">&#9670;&nbsp;</a></span>HAL_ADCEx_InjectedQueueOverflowCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak void HAL_ADCEx_InjectedQueueOverflowCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hadc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Injected context queue overflow callback. </p>
<dl class="section note"><dt>Note</dt><dd>This callback is called if injected context queue is enabled (parameter "QueueInjectedContext" in injected channel configuration) and if a new injected context is set when queue is full (maximum 2 contexts). </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hadc</td><td>ADC handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html#l01189">1189</a> of file <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html">stm32l4xx_hal_adc_ex.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;{</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;  <span class="comment">/* Prevent unused argument(s) compilation warning */</span></div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;  UNUSED(hadc);</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160; </div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;  <span class="comment">/* NOTE : This function should not be modified. When the callback is needed,</span></div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;<span class="comment">            function HAL_ADCEx_InjectedQueueOverflowCallback must be implemented in the user file.</span></div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;<span class="comment">  */</span></div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gaa666882ff772df8a5140090422825ed6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa666882ff772df8a5140090422825ed6">&#9670;&nbsp;</a></span>HAL_ADCEx_InjectedStart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_ADCEx_InjectedStart </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hadc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable ADC, start conversion of injected group. </p>
<dl class="section note"><dt>Note</dt><dd>Interruptions enabled in this function: None. </dd>
<dd>
Case of multimode enabled when multimode feature is available: <a class="el" href="group__ADCEx__Exported__Functions__Group1.html#gaa666882ff772df8a5140090422825ed6" title="Enable ADC, start conversion of injected group.">HAL_ADCEx_InjectedStart()</a> API must be called for ADC slave first, then for ADC master. For ADC slave, ADC is enabled only (conversion is not started). For ADC master, ADC is enabled and multimode conversion is started. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hadc</td><td>ADC handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html#l00279">279</a> of file <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html">stm32l4xx_hal_adc_ex.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;{</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  HAL_StatusTypeDef tmp_hal_status;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  uint32_t tmp_config_injected_queue;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="preprocessor">#if defined(ADC_MULTIMODE_SUPPORT)</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  uint32_t tmp_multimode_config = <a class="code" href="group__ADC__LL__EF__Configuration__ADC__Multimode.html#ga6451f14ef7a4e19273c86555b61b86fa">LL_ADC_GetMultimode</a>(__LL_ADC_COMMON_INSTANCE(hadc-&gt;Instance));</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160; </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_ADC_ALL_INSTANCE(hadc-&gt;Instance));</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160; </div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="group__ADC__LL__EF__Operation__ADC__Group__Injected.html#gaa8b7966e985795984e9850014d08be44">LL_ADC_INJ_IsConversionOngoing</a>(hadc-&gt;Instance) != 0UL)</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordflow">return</span> HAL_BUSY;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  }</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="comment">/* In case of software trigger detection enabled, JQDIS must be set</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">      (which can be done only if ADSTART and JADSTART are both cleared).</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment">       If JQDIS is not set at that point, returns an error</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment">       - since software trigger detection is disabled. User needs to</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment">       resort to HAL_ADCEx_DisableInjectedQueue() API to set JQDIS.</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">       - or (if JQDIS is intentionally reset) since JEXTEN = 0 which means</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">         the queue is empty */</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    tmp_config_injected_queue = READ_BIT(hadc-&gt;Instance-&gt;CFGR, ADC_CFGR_JQDIS);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160; </div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">if</span> ((READ_BIT(hadc-&gt;Instance-&gt;JSQR, ADC_JSQR_JEXTEN) == 0UL)</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        &amp;&amp; (tmp_config_injected_queue == 0UL)</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;       )</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    {</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      SET_BIT(hadc-&gt;State, HAL_ADC_STATE_ERROR_CONFIG);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    }</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160; </div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="comment">/* Process locked */</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(hadc);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="comment">/* Enable the ADC peripheral */</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    tmp_hal_status = <a class="code" href="group__ADC__Private__Functions.html#ga034b9253bac7f083ec43b5b09873ebf1">ADC_Enable</a>(hadc);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="comment">/* Start conversion if ADC is effectively enabled */</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordflow">if</span> (tmp_hal_status == <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      <span class="comment">/* Check if a regular conversion is ongoing */</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      <span class="keywordflow">if</span> ((hadc-&gt;State &amp; HAL_ADC_STATE_REG_BUSY) != 0UL)</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      {</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <span class="comment">/* Reset ADC error code field related to injected conversions only */</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hadc-&gt;ErrorCode, HAL_ADC_ERROR_JQOVF);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      }</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      {</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <span class="comment">/* Set ADC error code to none */</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        ADC_CLEAR_ERRORCODE(hadc);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      }</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160; </div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      <span class="comment">/* Set ADC state                                                        */</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      <span class="comment">/* - Clear state bitfield related to injected group conversion results  */</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      <span class="comment">/* - Set state bitfield related to injected operation                   */</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      ADC_STATE_CLR_SET(hadc-&gt;State,</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                        HAL_ADC_STATE_READY | HAL_ADC_STATE_INJ_EOC,</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                        HAL_ADC_STATE_INJ_BUSY);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160; </div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="preprocessor">#if defined(ADC_MULTIMODE_SUPPORT)</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      <span class="comment">/* Reset HAL_ADC_STATE_MULTIMODE_SLAVE bit</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">        - if ADC instance is master or if multimode feature is not available</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment">        - if multimode setting is disabled (ADC instance slave in independent mode) */</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      <span class="keywordflow">if</span> ((__LL_ADC_MULTI_INSTANCE_MASTER(hadc-&gt;Instance) == hadc-&gt;Instance)</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;          || (tmp_multimode_config == LL_ADC_MULTI_INDEPENDENT)</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;         )</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      {</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hadc-&gt;State, HAL_ADC_STATE_MULTIMODE_SLAVE);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      }</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160; </div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      <span class="comment">/* Clear ADC group injected group conversion flag */</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      <span class="comment">/* (To ensure of no unknown state from potential previous ADC operations) */</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      __HAL_ADC_CLEAR_FLAG(hadc, (ADC_FLAG_JEOC | ADC_FLAG_JEOS));</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      <span class="comment">/* Process unlocked */</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      <span class="comment">/* Unlock before starting ADC conversions: in case of potential         */</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      <span class="comment">/* interruption, to let the process to ADC IRQ Handler.                 */</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hadc);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      <span class="comment">/* Enable conversion of injected group, if automatic injected conversion  */</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      <span class="comment">/* is disabled.                                                           */</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      <span class="comment">/* If software start has been selected, conversion starts immediately.    */</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      <span class="comment">/* If external trigger has been selected, conversion will start at next   */</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      <span class="comment">/* trigger event.                                                         */</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      <span class="comment">/* Case of multimode enabled (when multimode feature is available):       */</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      <span class="comment">/* if ADC is slave,                                                       */</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      <span class="comment">/*    - ADC is enabled only (conversion is not started),                  */</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      <span class="comment">/*    - if multimode only concerns regular conversion, ADC is enabled     */</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      <span class="comment">/*     and conversion is started.                                         */</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      <span class="comment">/* If ADC is master or independent,                                       */</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      <span class="comment">/*    - ADC is enabled and conversion is started.                         */</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="preprocessor">#if defined(ADC_MULTIMODE_SUPPORT)</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      <span class="keywordflow">if</span> ((__LL_ADC_MULTI_INSTANCE_MASTER(hadc-&gt;Instance) == hadc-&gt;Instance)</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;          || (tmp_multimode_config == LL_ADC_MULTI_INDEPENDENT)</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;          || (tmp_multimode_config == LL_ADC_MULTI_DUAL_REG_SIMULT)</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;          || (tmp_multimode_config == LL_ADC_MULTI_DUAL_REG_INTERL)</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;         )</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;      {</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <span class="comment">/* ADC instance is not a multimode slave instance with multimode injected conversions enabled */</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__ADC__LL__EF__Configuration__ADC__Group__Injected.html#gacb6333b478ecbaab5600eca04b737ab3">LL_ADC_INJ_GetTrigAuto</a>(hadc-&gt;Instance) == LL_ADC_INJ_TRIG_INDEPENDENT)</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        {</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;          <a class="code" href="group__ADC__LL__EF__Operation__ADC__Group__Injected.html#ga7eabb2c2833db3cdb91c0418d42395cc">LL_ADC_INJ_StartConversion</a>(hadc-&gt;Instance);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        }</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      }</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      {</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <span class="comment">/* ADC instance is not a multimode slave instance with multimode injected conversions enabled */</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        SET_BIT(hadc-&gt;State, HAL_ADC_STATE_MULTIMODE_SLAVE);</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      }</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="group__ADC__LL__EF__Configuration__ADC__Group__Injected.html#gacb6333b478ecbaab5600eca04b737ab3">LL_ADC_INJ_GetTrigAuto</a>(hadc-&gt;Instance) == LL_ADC_INJ_TRIG_INDEPENDENT)</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      {</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <span class="comment">/* Start ADC group injected conversion */</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <a class="code" href="group__ADC__LL__EF__Operation__ADC__Group__Injected.html#ga7eabb2c2833db3cdb91c0418d42395cc">LL_ADC_INJ_StartConversion</a>(hadc-&gt;Instance);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      }</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160; </div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    }</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    {</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      <span class="comment">/* Process unlocked */</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hadc);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    }</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160; </div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="comment">/* Return function status */</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keywordflow">return</span> tmp_hal_status;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  }</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gaf55cd28b1394a0564f99e1f5069c0ed1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf55cd28b1394a0564f99e1f5069c0ed1">&#9670;&nbsp;</a></span>HAL_ADCEx_InjectedStart_IT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_ADCEx_InjectedStart_IT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hadc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable ADC, start conversion of injected group with interruption. </p>
<dl class="section note"><dt>Note</dt><dd>Interruptions enabled in this function according to initialization setting : JEOC (end of conversion) or JEOS (end of sequence) </dd>
<dd>
Case of multimode enabled (when multimode feature is enabled): <a class="el" href="group__ADCEx__Exported__Functions__Group1.html#gaf55cd28b1394a0564f99e1f5069c0ed1" title="Enable ADC, start conversion of injected group with interruption.">HAL_ADCEx_InjectedStart_IT()</a> API must be called for ADC slave first, then for ADC master. For ADC slave, ADC is enabled only (conversion is not started). For ADC master, ADC is enabled and multimode conversion is started. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hadc</td><td>ADC handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html#l00620">620</a> of file <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html">stm32l4xx_hal_adc_ex.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;{</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  HAL_StatusTypeDef tmp_hal_status;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  uint32_t tmp_config_injected_queue;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="preprocessor">#if defined(ADC_MULTIMODE_SUPPORT)</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  uint32_t tmp_multimode_config = <a class="code" href="group__ADC__LL__EF__Configuration__ADC__Multimode.html#ga6451f14ef7a4e19273c86555b61b86fa">LL_ADC_GetMultimode</a>(__LL_ADC_COMMON_INSTANCE(hadc-&gt;Instance));</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160; </div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_ADC_ALL_INSTANCE(hadc-&gt;Instance));</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160; </div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="group__ADC__LL__EF__Operation__ADC__Group__Injected.html#gaa8b7966e985795984e9850014d08be44">LL_ADC_INJ_IsConversionOngoing</a>(hadc-&gt;Instance) != 0UL)</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  {</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="keywordflow">return</span> HAL_BUSY;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  }</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  {</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <span class="comment">/* In case of software trigger detection enabled, JQDIS must be set</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="comment">      (which can be done only if ADSTART and JADSTART are both cleared).</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="comment">       If JQDIS is not set at that point, returns an error</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="comment">       - since software trigger detection is disabled. User needs to</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="comment">       resort to HAL_ADCEx_DisableInjectedQueue() API to set JQDIS.</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="comment">       - or (if JQDIS is intentionally reset) since JEXTEN = 0 which means</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;<span class="comment">         the queue is empty */</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    tmp_config_injected_queue = READ_BIT(hadc-&gt;Instance-&gt;CFGR, ADC_CFGR_JQDIS);</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160; </div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="keywordflow">if</span> ((READ_BIT(hadc-&gt;Instance-&gt;JSQR, ADC_JSQR_JEXTEN) == 0UL)</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        &amp;&amp; (tmp_config_injected_queue == 0UL)</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;       )</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    {</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;      SET_BIT(hadc-&gt;State, HAL_ADC_STATE_ERROR_CONFIG);</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    }</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160; </div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <span class="comment">/* Process locked */</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(hadc);</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160; </div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="comment">/* Enable the ADC peripheral */</span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    tmp_hal_status = <a class="code" href="group__ADC__Private__Functions.html#ga034b9253bac7f083ec43b5b09873ebf1">ADC_Enable</a>(hadc);</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160; </div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <span class="comment">/* Start conversion if ADC is effectively enabled */</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <span class="keywordflow">if</span> (tmp_hal_status == <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    {</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;      <span class="comment">/* Check if a regular conversion is ongoing */</span></div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      <span class="keywordflow">if</span> ((hadc-&gt;State &amp; HAL_ADC_STATE_REG_BUSY) != 0UL)</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;      {</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        <span class="comment">/* Reset ADC error code field related to injected conversions only */</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hadc-&gt;ErrorCode, HAL_ADC_ERROR_JQOVF);</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;      }</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;      {</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        <span class="comment">/* Set ADC error code to none */</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        ADC_CLEAR_ERRORCODE(hadc);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      }</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160; </div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      <span class="comment">/* Set ADC state                                                        */</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;      <span class="comment">/* - Clear state bitfield related to injected group conversion results  */</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      <span class="comment">/* - Set state bitfield related to injected operation                   */</span></div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;      ADC_STATE_CLR_SET(hadc-&gt;State,</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                        HAL_ADC_STATE_READY | HAL_ADC_STATE_INJ_EOC,</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                        HAL_ADC_STATE_INJ_BUSY);</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160; </div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="preprocessor">#if defined(ADC_MULTIMODE_SUPPORT)</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;      <span class="comment">/* Reset HAL_ADC_STATE_MULTIMODE_SLAVE bit</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="comment">        - if ADC instance is master or if multimode feature is not available</span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="comment">        - if multimode setting is disabled (ADC instance slave in independent mode) */</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;      <span class="keywordflow">if</span> ((__LL_ADC_MULTI_INSTANCE_MASTER(hadc-&gt;Instance) == hadc-&gt;Instance)</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;          || (tmp_multimode_config == LL_ADC_MULTI_INDEPENDENT)</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;         )</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      {</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hadc-&gt;State, HAL_ADC_STATE_MULTIMODE_SLAVE);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;      }</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160; </div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;      <span class="comment">/* Clear ADC group injected group conversion flag */</span></div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;      <span class="comment">/* (To ensure of no unknown state from potential previous ADC operations) */</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;      __HAL_ADC_CLEAR_FLAG(hadc, (ADC_FLAG_JEOC | ADC_FLAG_JEOS));</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160; </div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;      <span class="comment">/* Process unlocked */</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;      <span class="comment">/* Unlock before starting ADC conversions: in case of potential         */</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;      <span class="comment">/* interruption, to let the process to ADC IRQ Handler.                 */</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hadc);</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160; </div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;      <span class="comment">/* Enable ADC Injected context queue overflow interrupt if this feature   */</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;      <span class="comment">/* is enabled.                                                            */</span></div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;      <span class="keywordflow">if</span> ((hadc-&gt;Instance-&gt;CFGR &amp; ADC_CFGR_JQM) != 0UL)</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;      {</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        __HAL_ADC_ENABLE_IT(hadc, ADC_FLAG_JQOVF);</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;      }</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160; </div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;      <span class="comment">/* Enable ADC end of conversion interrupt */</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;      <span class="keywordflow">switch</span> (hadc-&gt;Init.EOCSelection)</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;      {</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        <span class="keywordflow">case</span> ADC_EOC_SEQ_CONV:</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;          __HAL_ADC_DISABLE_IT(hadc, ADC_IT_JEOC);</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;          __HAL_ADC_ENABLE_IT(hadc, ADC_IT_JEOS);</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        <span class="comment">/* case ADC_EOC_SINGLE_CONV */</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;          __HAL_ADC_DISABLE_IT(hadc, ADC_IT_JEOS);</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;          __HAL_ADC_ENABLE_IT(hadc, ADC_IT_JEOC);</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;      }</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160; </div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;      <span class="comment">/* Enable conversion of injected group, if automatic injected conversion  */</span></div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      <span class="comment">/* is disabled.                                                           */</span></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;      <span class="comment">/* If software start has been selected, conversion starts immediately.    */</span></div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      <span class="comment">/* If external trigger has been selected, conversion will start at next   */</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;      <span class="comment">/* trigger event.                                                         */</span></div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      <span class="comment">/* Case of multimode enabled (when multimode feature is available):       */</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      <span class="comment">/* if ADC is slave,                                                       */</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;      <span class="comment">/*    - ADC is enabled only (conversion is not started),                  */</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;      <span class="comment">/*    - if multimode only concerns regular conversion, ADC is enabled     */</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      <span class="comment">/*     and conversion is started.                                         */</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      <span class="comment">/* If ADC is master or independent,                                       */</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      <span class="comment">/*    - ADC is enabled and conversion is started.                         */</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="preprocessor">#if defined(ADC_MULTIMODE_SUPPORT)</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;      <span class="keywordflow">if</span> ((__LL_ADC_MULTI_INSTANCE_MASTER(hadc-&gt;Instance) == hadc-&gt;Instance)</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;          || (tmp_multimode_config == LL_ADC_MULTI_INDEPENDENT)</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;          || (tmp_multimode_config == LL_ADC_MULTI_DUAL_REG_SIMULT)</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;          || (tmp_multimode_config == LL_ADC_MULTI_DUAL_REG_INTERL)</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;         )</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;      {</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        <span class="comment">/* ADC instance is not a multimode slave instance with multimode injected conversions enabled */</span></div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__ADC__LL__EF__Configuration__ADC__Group__Injected.html#gacb6333b478ecbaab5600eca04b737ab3">LL_ADC_INJ_GetTrigAuto</a>(hadc-&gt;Instance) == LL_ADC_INJ_TRIG_INDEPENDENT)</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        {</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;          <a class="code" href="group__ADC__LL__EF__Operation__ADC__Group__Injected.html#ga7eabb2c2833db3cdb91c0418d42395cc">LL_ADC_INJ_StartConversion</a>(hadc-&gt;Instance);</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        }</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;      }</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;      {</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        <span class="comment">/* ADC instance is not a multimode slave instance with multimode injected conversions enabled */</span></div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        SET_BIT(hadc-&gt;State, HAL_ADC_STATE_MULTIMODE_SLAVE);</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      }</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="group__ADC__LL__EF__Configuration__ADC__Group__Injected.html#gacb6333b478ecbaab5600eca04b737ab3">LL_ADC_INJ_GetTrigAuto</a>(hadc-&gt;Instance) == LL_ADC_INJ_TRIG_INDEPENDENT)</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;      {</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        <span class="comment">/* Start ADC group injected conversion */</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        <a class="code" href="group__ADC__LL__EF__Operation__ADC__Group__Injected.html#ga7eabb2c2833db3cdb91c0418d42395cc">LL_ADC_INJ_StartConversion</a>(hadc-&gt;Instance);</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;      }</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160; </div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    }</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    {</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;      <span class="comment">/* Process unlocked */</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hadc);</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    }</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160; </div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="comment">/* Return function status */</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordflow">return</span> tmp_hal_status;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  }</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga91f6c85ae910e9baaf578a346c30c7c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga91f6c85ae910e9baaf578a346c30c7c1">&#9670;&nbsp;</a></span>HAL_ADCEx_InjectedStop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_ADCEx_InjectedStop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hadc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop conversion of injected channels. Disable ADC peripheral if no regular conversion is on going. </p>
<dl class="section note"><dt>Note</dt><dd>If ADC must be disabled and if conversion is on going on regular group, function HAL_ADC_Stop must be used to stop both injected and regular groups, and disable the ADC. </dd>
<dd>
If injected group mode auto-injection is enabled, function HAL_ADC_Stop must be used. </dd>
<dd>
In case of multimode enabled (when multimode feature is available), <a class="el" href="group__ADCEx__Exported__Functions__Group1.html#ga91f6c85ae910e9baaf578a346c30c7c1" title="Stop conversion of injected channels. Disable ADC peripheral if no regular conversion is on going.">HAL_ADCEx_InjectedStop()</a> must be called for ADC master first, then for ADC slave. For ADC master, conversion is stopped and ADC is disabled. For ADC slave, ADC is disabled only (conversion stop of ADC master has already stopped conversion of ADC slave). </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hadc</td><td>ADC handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html#l00428">428</a> of file <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html">stm32l4xx_hal_adc_ex.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;{</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  HAL_StatusTypeDef tmp_hal_status;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160; </div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_ADC_ALL_INSTANCE(hadc-&gt;Instance));</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160; </div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <span class="comment">/* Process locked */</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(hadc);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160; </div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <span class="comment">/* 1. Stop potential conversion on going on injected group only. */</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  tmp_hal_status = <a class="code" href="group__ADC__Private__Functions.html#ga8cf59124f493ce4a972b2bab34bc0c7a">ADC_ConversionStop</a>(hadc, ADC_INJECTED_GROUP);</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160; </div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <span class="comment">/* Disable ADC peripheral if injected conversions are effectively stopped   */</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <span class="comment">/* and if no conversion on regular group is on-going                       */</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <span class="keywordflow">if</span> (tmp_hal_status == <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  {</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__ADC__LL__EF__Operation__ADC__Group__Regular.html#ga172f19f834ef390ace45fbff5de2bb61">LL_ADC_REG_IsConversionOngoing</a>(hadc-&gt;Instance) == 0UL)</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    {</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;      <span class="comment">/* 2. Disable the ADC peripheral */</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      tmp_hal_status = <a class="code" href="group__ADC__Private__Functions.html#gaf93525a5c14bfdf926f8d8331a63b44c">ADC_Disable</a>(hadc);</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160; </div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      <span class="comment">/* Check if ADC is effectively disabled */</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      <span class="keywordflow">if</span> (tmp_hal_status == <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      {</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        <span class="comment">/* Set ADC state */</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        ADC_STATE_CLR_SET(hadc-&gt;State,</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                          HAL_ADC_STATE_REG_BUSY | HAL_ADC_STATE_INJ_BUSY,</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                          HAL_ADC_STATE_READY);</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      }</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    }</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="comment">/* Conversion on injected group is stopped, but ADC not disabled since    */</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="comment">/* conversion on regular group is still running.                          */</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    {</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      <span class="comment">/* Set ADC state */</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hadc-&gt;State, HAL_ADC_STATE_INJ_BUSY);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    }</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  }</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160; </div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <span class="comment">/* Process unlocked */</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hadc);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160; </div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <span class="comment">/* Return function status */</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <span class="keywordflow">return</span> tmp_hal_status;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gae032f41136f4dc4b3f3c2476b96a21f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae032f41136f4dc4b3f3c2476b96a21f5">&#9670;&nbsp;</a></span>HAL_ADCEx_InjectedStop_IT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_ADCEx_InjectedStop_IT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hadc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop conversion of injected channels, disable interruption of end-of-conversion. Disable ADC peripheral if no regular conversion is on going. </p>
<dl class="section note"><dt>Note</dt><dd>If ADC must be disabled and if conversion is on going on regular group, function HAL_ADC_Stop must be used to stop both injected and regular groups, and disable the ADC. </dd>
<dd>
If injected group mode auto-injection is enabled, function HAL_ADC_Stop must be used. </dd>
<dd>
Case of multimode enabled (when multimode feature is available): <a class="el" href="group__ADCEx__Exported__Functions__Group1.html#gae032f41136f4dc4b3f3c2476b96a21f5" title="Stop conversion of injected channels, disable interruption of end-of-conversion. Disable ADC peripher...">HAL_ADCEx_InjectedStop_IT()</a> API must be called for ADC master first, then for ADC slave. For ADC master, conversion is stopped and ADC is disabled. For ADC slave, ADC is disabled only (conversion stop of ADC master has already stopped conversion of ADC slave). </dd>
<dd>
In case of auto-injection mode, <a class="el" href="group__ADC__Exported__Functions__Group2.html#ga1b00cb85fc6c0f40fabd02701528711d" title="Stop ADC conversion of regular group (and injected channels in case of auto_injection mode),...">HAL_ADC_Stop()</a> must be used. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hadc</td><td>ADC handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html#l00793">793</a> of file <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html">stm32l4xx_hal_adc_ex.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;{</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  HAL_StatusTypeDef tmp_hal_status;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160; </div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_ADC_ALL_INSTANCE(hadc-&gt;Instance));</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160; </div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  <span class="comment">/* Process locked */</span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(hadc);</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160; </div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  <span class="comment">/* 1. Stop potential conversion on going on injected group only. */</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;  tmp_hal_status = <a class="code" href="group__ADC__Private__Functions.html#ga8cf59124f493ce4a972b2bab34bc0c7a">ADC_ConversionStop</a>(hadc, ADC_INJECTED_GROUP);</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160; </div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  <span class="comment">/* Disable ADC peripheral if injected conversions are effectively stopped   */</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  <span class="comment">/* and if no conversion on the other group (regular group) is intended to   */</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  <span class="comment">/* continue.                                                                */</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;  <span class="keywordflow">if</span> (tmp_hal_status == <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  {</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="comment">/* Disable ADC end of conversion interrupt for injected channels */</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    __HAL_ADC_DISABLE_IT(hadc, (ADC_IT_JEOC | ADC_IT_JEOS | ADC_FLAG_JQOVF));</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160; </div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__ADC__LL__EF__Operation__ADC__Group__Regular.html#ga172f19f834ef390ace45fbff5de2bb61">LL_ADC_REG_IsConversionOngoing</a>(hadc-&gt;Instance) == 0UL)</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    {</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;      <span class="comment">/* 2. Disable the ADC peripheral */</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;      tmp_hal_status = <a class="code" href="group__ADC__Private__Functions.html#gaf93525a5c14bfdf926f8d8331a63b44c">ADC_Disable</a>(hadc);</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160; </div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;      <span class="comment">/* Check if ADC is effectively disabled */</span></div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;      <span class="keywordflow">if</span> (tmp_hal_status == <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;      {</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        <span class="comment">/* Set ADC state */</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        ADC_STATE_CLR_SET(hadc-&gt;State,</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                          HAL_ADC_STATE_REG_BUSY | HAL_ADC_STATE_INJ_BUSY,</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                          HAL_ADC_STATE_READY);</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;      }</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    }</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="comment">/* Conversion on injected group is stopped, but ADC not disabled since    */</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <span class="comment">/* conversion on regular group is still running.                          */</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    {</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;      <span class="comment">/* Set ADC state */</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hadc-&gt;State, HAL_ADC_STATE_INJ_BUSY);</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    }</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  }</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160; </div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  <span class="comment">/* Process unlocked */</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hadc);</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160; </div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  <span class="comment">/* Return function status */</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  <span class="keywordflow">return</span> tmp_hal_status;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gad01581abaee073df15893ec37c4bf95b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad01581abaee073df15893ec37c4bf95b">&#9670;&nbsp;</a></span>HAL_ADCEx_LevelOutOfWindow2Callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak void HAL_ADCEx_LevelOutOfWindow2Callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hadc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Analog watchdog 2 callback in non-blocking mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hadc</td><td>ADC handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html#l01204">1204</a> of file <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html">stm32l4xx_hal_adc_ex.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;{</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  <span class="comment">/* Prevent unused argument(s) compilation warning */</span></div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;  UNUSED(hadc);</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160; </div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;  <span class="comment">/* NOTE : This function should not be modified. When the callback is needed,</span></div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;<span class="comment">            function HAL_ADCEx_LevelOutOfWindow2Callback must be implemented in the user file.</span></div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;<span class="comment">  */</span></div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gaef000c73b8ec88204c0e9ad201bdd4c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaef000c73b8ec88204c0e9ad201bdd4c0">&#9670;&nbsp;</a></span>HAL_ADCEx_LevelOutOfWindow3Callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak void HAL_ADCEx_LevelOutOfWindow3Callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hadc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Analog watchdog 3 callback in non-blocking mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hadc</td><td>ADC handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html#l01219">1219</a> of file <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html">stm32l4xx_hal_adc_ex.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;{</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;  <span class="comment">/* Prevent unused argument(s) compilation warning */</span></div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;  UNUSED(hadc);</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160; </div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;  <span class="comment">/* NOTE : This function should not be modified. When the callback is needed,</span></div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;<span class="comment">            function HAL_ADCEx_LevelOutOfWindow3Callback must be implemented in the user file.</span></div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;<span class="comment">  */</span></div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga5ab7c06d2f0b5f9de1f86de5713d68d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5ab7c06d2f0b5f9de1f86de5713d68d2">&#9670;&nbsp;</a></span>HAL_ADCEx_MultiModeGetValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t HAL_ADCEx_MultiModeGetValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hadc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the last ADC Master and Slave regular conversions results when in multimode configuration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hadc</td><td>ADC handle of ADC Master (handle of ADC Slave must not be used) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">The</td><td>converted data values. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html#l01088">1088</a> of file <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html">stm32l4xx_hal_adc_ex.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;{</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;  <span class="keyword">const</span> ADC_Common_TypeDef *tmpADC_Common;</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160; </div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_ADC_MULTIMODE_MASTER_INSTANCE(hadc-&gt;Instance));</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160; </div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;  <span class="comment">/* Prevent unused argument(s) compilation warning if no assert_param check */</span></div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;  <span class="comment">/* and possible no usage in __LL_ADC_COMMON_INSTANCE() below               */</span></div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;  UNUSED(hadc);</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160; </div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;  <span class="comment">/* Pointer to the common control register  */</span></div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  tmpADC_Common = __LL_ADC_COMMON_INSTANCE(hadc-&gt;Instance);</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160; </div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  <span class="comment">/* Return the multi mode conversion value */</span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;  <span class="keywordflow">return</span> tmpADC_Common-&gt;CDR;</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gab36a3508a06430d7c7d0def79ec61b08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab36a3508a06430d7c7d0def79ec61b08">&#9670;&nbsp;</a></span>HAL_ADCEx_MultiModeStart_DMA()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_ADCEx_MultiModeStart_DMA </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hadc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>pData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>Length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable ADC, start MultiMode conversion and transfer regular results through DMA. </p>
<dl class="section note"><dt>Note</dt><dd>Multimode must have been previously configured using <a class="el" href="group__ADCEx__Exported__Functions__Group2.html#gabfe8b04f9cfda94bc8aad912470122f5" title="Enable ADC multimode and configure multimode parameters.">HAL_ADCEx_MultiModeConfigChannel()</a> function. Interruptions enabled in this function: overrun, DMA half transfer, DMA transfer complete. Each of these interruptions has its dedicated callback function. </dd>
<dd>
State field of Slave ADC handle is not updated in this configuration: user should not rely on it for information related to Slave regular conversions. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hadc</td><td>ADC handle of ADC master (handle of ADC slave must not be used) </td></tr>
    <tr><td class="paramname">pData</td><td>Destination Buffer address. </td></tr>
    <tr><td class="paramname">Length</td><td>Length of data to be transferred from ADC peripheral to memory (in bytes). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html#l00860">860</a> of file <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html">stm32l4xx_hal_adc_ex.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;{</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;  HAL_StatusTypeDef tmp_hal_status;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;  <a class="code" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> tmphadcSlave;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;  ADC_Common_TypeDef *tmpADC_Common;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160; </div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_ADC_MULTIMODE_MASTER_INSTANCE(hadc-&gt;Instance));</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_FUNCTIONAL_STATE(hadc-&gt;Init.ContinuousConvMode));</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_ADC_EXTTRIG_EDGE(hadc-&gt;Init.ExternalTrigConvEdge));</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_FUNCTIONAL_STATE(hadc-&gt;Init.DMAContinuousRequests));</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160; </div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="group__ADC__LL__EF__Operation__ADC__Group__Regular.html#ga172f19f834ef390ace45fbff5de2bb61">LL_ADC_REG_IsConversionOngoing</a>(hadc-&gt;Instance) != 0UL)</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;  {</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <span class="keywordflow">return</span> HAL_BUSY;</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  }</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;  {</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <span class="comment">/* Process locked */</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(hadc);</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160; </div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <span class="comment">/* Set a temporary handle of the ADC slave associated to the ADC master   */</span></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    ADC_MULTI_SLAVE(hadc, &amp;tmphadcSlave);</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160; </div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="keywordflow">if</span> (tmphadcSlave.Instance == NULL)</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    {</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;      <span class="comment">/* Set ADC state */</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;      SET_BIT(hadc-&gt;State, HAL_ADC_STATE_ERROR_CONFIG);</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160; </div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;      <span class="comment">/* Process unlocked */</span></div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hadc);</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160; </div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;      <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    }</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160; </div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    <span class="comment">/* Enable the ADC peripherals: master and slave (in case if not already   */</span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <span class="comment">/* enabled previously)                                                    */</span></div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    tmp_hal_status = <a class="code" href="group__ADC__Private__Functions.html#ga034b9253bac7f083ec43b5b09873ebf1">ADC_Enable</a>(hadc);</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <span class="keywordflow">if</span> (tmp_hal_status == <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    {</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;      tmp_hal_status = <a class="code" href="group__ADC__Private__Functions.html#ga034b9253bac7f083ec43b5b09873ebf1">ADC_Enable</a>(&amp;tmphadcSlave);</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    }</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160; </div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <span class="comment">/* Start multimode conversion of ADCs pair */</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    <span class="keywordflow">if</span> (tmp_hal_status == <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    {</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;      <span class="comment">/* Set ADC state */</span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;      ADC_STATE_CLR_SET(hadc-&gt;State,</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                        (HAL_ADC_STATE_READY | HAL_ADC_STATE_REG_EOC | HAL_ADC_STATE_REG_OVR | HAL_ADC_STATE_REG_EOSMP),</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                        HAL_ADC_STATE_REG_BUSY);</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160; </div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;      <span class="comment">/* Set ADC error code to none */</span></div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;      ADC_CLEAR_ERRORCODE(hadc);</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160; </div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;      <span class="comment">/* Set the DMA transfer complete callback */</span></div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;      hadc-&gt;DMA_Handle-&gt;XferCpltCallback = <a class="code" href="group__ADC__Private__Functions.html#ga055840e53820295bac4f4f0998ffcfb0">ADC_DMAConvCplt</a>;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160; </div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;      <span class="comment">/* Set the DMA half transfer complete callback */</span></div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;      hadc-&gt;DMA_Handle-&gt;XferHalfCpltCallback = <a class="code" href="group__ADC__Private__Functions.html#ga27abcd16a928caf2b6c719ea67c12b25">ADC_DMAHalfConvCplt</a>;</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160; </div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;      <span class="comment">/* Set the DMA error callback */</span></div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;      hadc-&gt;DMA_Handle-&gt;XferErrorCallback = <a class="code" href="group__ADC__Private__Functions.html#gaede41b9e917d64ad31fbbb8ae9fab79c">ADC_DMAError</a> ;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160; </div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;      <span class="comment">/* Pointer to the common control register  */</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;      tmpADC_Common = __LL_ADC_COMMON_INSTANCE(hadc-&gt;Instance);</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160; </div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;      <span class="comment">/* Manage ADC and DMA start: ADC overrun interruption, DMA start, ADC     */</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;      <span class="comment">/* start (in case of SW start):                                           */</span></div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160; </div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;      <span class="comment">/* Clear regular group conversion flag and overrun flag */</span></div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;      <span class="comment">/* (To ensure of no unknown state from potential previous ADC operations) */</span></div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;      __HAL_ADC_CLEAR_FLAG(hadc, (ADC_FLAG_EOC | ADC_FLAG_EOS | ADC_FLAG_OVR));</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160; </div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;      <span class="comment">/* Process unlocked */</span></div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;      <span class="comment">/* Unlock before starting ADC conversions: in case of potential         */</span></div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;      <span class="comment">/* interruption, to let the process to ADC IRQ Handler.                 */</span></div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hadc);</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160; </div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;      <span class="comment">/* Enable ADC overrun interrupt */</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;      __HAL_ADC_ENABLE_IT(hadc, ADC_IT_OVR);</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160; </div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;      <span class="comment">/* Start the DMA channel */</span></div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;      tmp_hal_status = <a class="code" href="group__DMA__Exported__Functions__Group2.html#ga7eddc0931ac8a3d77b23d6d5e68407c7">HAL_DMA_Start_IT</a>(hadc-&gt;DMA_Handle, (uint32_t)&amp;tmpADC_Common-&gt;CDR, (uint32_t)pData, Length);</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160; </div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;      <span class="comment">/* Enable conversion of regular group.                                    */</span></div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;      <span class="comment">/* If software start has been selected, conversion starts immediately.    */</span></div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;      <span class="comment">/* If external trigger has been selected, conversion will start at next   */</span></div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;      <span class="comment">/* trigger event.                                                         */</span></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;      <span class="comment">/* Start ADC group regular conversion */</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;      <a class="code" href="group__ADC__LL__EF__Operation__ADC__Group__Regular.html#gacff8fbe100e4cc96d24a3a0251859ff9">LL_ADC_REG_StartConversion</a>(hadc-&gt;Instance);</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    }</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    {</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;      <span class="comment">/* Process unlocked */</span></div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hadc);</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    }</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160; </div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <span class="comment">/* Return function status */</span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <span class="keywordflow">return</span> tmp_hal_status;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  }</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga6a114ff60985be225d621a5c3be8ddf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6a114ff60985be225d621a5c3be8ddf2">&#9670;&nbsp;</a></span>HAL_ADCEx_MultiModeStop_DMA()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_ADCEx_MultiModeStop_DMA </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hadc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop multimode ADC conversion, disable ADC DMA transfer, disable ADC peripheral. </p>
<dl class="section note"><dt>Note</dt><dd>Multimode is kept enabled after this function. MultiMode DMA bits (MDMA and DMACFG bits of common CCR register) are maintained. To disable Multimode (set with <a class="el" href="group__ADCEx__Exported__Functions__Group2.html#gabfe8b04f9cfda94bc8aad912470122f5" title="Enable ADC multimode and configure multimode parameters.">HAL_ADCEx_MultiModeConfigChannel()</a>), ADC must be reinitialized using <a class="el" href="group__ADC__Exported__Functions__Group1.html#ga33ddb73d4880bd425aaa43c5c52bb13a" title="Initialize the ADC peripheral and regular group according to parameters specified in structure &quot;ADC_I...">HAL_ADC_Init()</a> or <a class="el" href="group__ADC__Exported__Functions__Group1.html#ga165940b437c6a8843c6032199adbf0a8" title="Deinitialize the ADC peripheral registers to their default reset values, with deinitialization of the...">HAL_ADC_DeInit()</a>, or the user can resort to HAL_ADCEx_DisableMultiMode() API. </dd>
<dd>
In case of DMA configured in circular mode, function <a class="el" href="group__ADC__Exported__Functions__Group2.html#gae113bcf7fc3d8ce07d68403bb5a11560" title="Stop ADC conversion of regular group (and injected group in case of auto_injection mode),...">HAL_ADC_Stop_DMA()</a> must be called after this function with handle of ADC slave, to properly disable the DMA channel. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hadc</td><td>ADC handle of ADC master (handle of ADC slave must not be used) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html#l00975">975</a> of file <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html">stm32l4xx_hal_adc_ex.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;{</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  HAL_StatusTypeDef tmp_hal_status;</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;  uint32_t tickstart;</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;  <a class="code" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> tmphadcSlave;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  uint32_t tmphadcSlave_conversion_on_going;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  HAL_StatusTypeDef tmphadcSlave_disable_status;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160; </div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_ADC_MULTIMODE_MASTER_INSTANCE(hadc-&gt;Instance));</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160; </div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;  <span class="comment">/* Process locked */</span></div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(hadc);</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160; </div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160; </div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  <span class="comment">/* 1. Stop potential multimode conversion on going, on regular and injected groups */</span></div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  tmp_hal_status = <a class="code" href="group__ADC__Private__Functions.html#ga8cf59124f493ce4a972b2bab34bc0c7a">ADC_ConversionStop</a>(hadc, ADC_REGULAR_INJECTED_GROUP);</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160; </div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  <span class="comment">/* Disable ADC peripheral if conversions are effectively stopped */</span></div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  <span class="keywordflow">if</span> (tmp_hal_status == <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;  {</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    <span class="comment">/* Set a temporary handle of the ADC slave associated to the ADC master   */</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    ADC_MULTI_SLAVE(hadc, &amp;tmphadcSlave);</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160; </div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    <span class="keywordflow">if</span> (tmphadcSlave.Instance == NULL)</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    {</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;      <span class="comment">/* Update ADC state machine to error */</span></div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;      SET_BIT(hadc-&gt;State, HAL_ADC_STATE_ERROR_CONFIG);</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160; </div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;      <span class="comment">/* Process unlocked */</span></div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hadc);</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160; </div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;      <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    }</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160; </div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    <span class="comment">/* Procedure to disable the ADC peripheral: wait for conversions          */</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    <span class="comment">/* effectively stopped (ADC master and ADC slave), then disable ADC       */</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160; </div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <span class="comment">/* 1. Wait for ADC conversion completion for ADC master and ADC slave */</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    tickstart = <a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>();</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160; </div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    tmphadcSlave_conversion_on_going = <a class="code" href="group__ADC__LL__EF__Operation__ADC__Group__Regular.html#ga172f19f834ef390ace45fbff5de2bb61">LL_ADC_REG_IsConversionOngoing</a>((&amp;tmphadcSlave)-&gt;<a class="code" href="struct____WWDG__HandleTypeDef.html#ad967c023ec1d88bcdb3d87227c3ac495">Instance</a>);</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    <span class="keywordflow">while</span> ((<a class="code" href="group__ADC__LL__EF__Operation__ADC__Group__Regular.html#ga172f19f834ef390ace45fbff5de2bb61">LL_ADC_REG_IsConversionOngoing</a>(hadc-&gt;Instance) == 1UL)</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;           || (tmphadcSlave_conversion_on_going == 1UL)</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;          )</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    {</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;      <span class="keywordflow">if</span> ((<a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>() - tickstart) &gt; ADC_STOP_CONVERSION_TIMEOUT)</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;      {</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;        <span class="comment">/* Update ADC state machine to error */</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;        SET_BIT(hadc-&gt;State, HAL_ADC_STATE_ERROR_INTERNAL);</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160; </div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;        <span class="comment">/* Process unlocked */</span></div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hadc);</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160; </div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;        <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;      }</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160; </div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;      tmphadcSlave_conversion_on_going = <a class="code" href="group__ADC__LL__EF__Operation__ADC__Group__Regular.html#ga172f19f834ef390ace45fbff5de2bb61">LL_ADC_REG_IsConversionOngoing</a>((&amp;tmphadcSlave)-&gt;<a class="code" href="struct____WWDG__HandleTypeDef.html#ad967c023ec1d88bcdb3d87227c3ac495">Instance</a>);</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    }</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160; </div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    <span class="comment">/* Disable the DMA channel (in case of DMA in circular mode or stop       */</span></div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    <span class="comment">/* while DMA transfer is on going)                                        */</span></div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <span class="comment">/* Note: DMA channel of ADC slave should be stopped after this function   */</span></div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <span class="comment">/*       with HAL_ADC_Stop_DMA() API.                                     */</span></div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    tmp_hal_status = <a class="code" href="group__DMA__Exported__Functions__Group2.html#ga001f9fb04328a7460f9ff16908ff987c">HAL_DMA_Abort</a>(hadc-&gt;DMA_Handle);</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160; </div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <span class="comment">/* Check if DMA channel effectively disabled */</span></div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="keywordflow">if</span> (tmp_hal_status == HAL_ERROR)</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    {</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;      <span class="comment">/* Update ADC state machine to error */</span></div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;      SET_BIT(hadc-&gt;State, HAL_ADC_STATE_ERROR_DMA);</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    }</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160; </div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <span class="comment">/* Disable ADC overrun interrupt */</span></div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    __HAL_ADC_DISABLE_IT(hadc, ADC_IT_OVR);</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160; </div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    <span class="comment">/* 2. Disable the ADC peripherals: master and slave */</span></div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    <span class="comment">/* Update &quot;tmp_hal_status&quot; only if DMA channel disabling passed, to keep in */</span></div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    <span class="comment">/* memory a potential failing status.                                     */</span></div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    <span class="keywordflow">if</span> (tmp_hal_status == <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    {</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;      tmphadcSlave_disable_status = <a class="code" href="group__ADC__Private__Functions.html#gaf93525a5c14bfdf926f8d8331a63b44c">ADC_Disable</a>(&amp;tmphadcSlave);</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;      <span class="keywordflow">if</span> ((<a class="code" href="group__ADC__Private__Functions.html#gaf93525a5c14bfdf926f8d8331a63b44c">ADC_Disable</a>(hadc) == <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)           &amp;&amp;</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;          (tmphadcSlave_disable_status == <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>))</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;      {</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;        tmp_hal_status = <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;      }</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    }</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    {</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;      <span class="comment">/* In case of error, attempt to disable ADC master and slave without status assert */</span></div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;      (void) <a class="code" href="group__ADC__Private__Functions.html#gaf93525a5c14bfdf926f8d8331a63b44c">ADC_Disable</a>(hadc);</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;      (void) <a class="code" href="group__ADC__Private__Functions.html#gaf93525a5c14bfdf926f8d8331a63b44c">ADC_Disable</a>(&amp;tmphadcSlave);</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    }</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160; </div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    <span class="comment">/* Set ADC state (ADC master) */</span></div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    ADC_STATE_CLR_SET(hadc-&gt;State,</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;                      HAL_ADC_STATE_REG_BUSY | HAL_ADC_STATE_INJ_BUSY,</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;                      HAL_ADC_STATE_READY);</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  }</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160; </div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  <span class="comment">/* Process unlocked */</span></div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hadc);</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160; </div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;  <span class="comment">/* Return function status */</span></div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  <span class="keywordflow">return</span> tmp_hal_status;</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gaadbdd8685d24a5a74521c66811a5cb2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaadbdd8685d24a5a74521c66811a5cb2e">&#9670;&nbsp;</a></span>HAL_ADCEx_RegularMultiModeStop_DMA()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_ADCEx_RegularMultiModeStop_DMA </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hadc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop DMA-based multimode ADC conversion, disable ADC DMA transfer, disable ADC peripheral if no injected conversion is on-going. </p>
<dl class="section note"><dt>Note</dt><dd>Multimode is kept enabled after this function. Multimode DMA bits (MDMA and DMACFG bits of common CCR register) are maintained. To disable multimode (set with <a class="el" href="group__ADCEx__Exported__Functions__Group2.html#gabfe8b04f9cfda94bc8aad912470122f5" title="Enable ADC multimode and configure multimode parameters.">HAL_ADCEx_MultiModeConfigChannel()</a>), ADC must be reinitialized using <a class="el" href="group__ADC__Exported__Functions__Group1.html#ga33ddb73d4880bd425aaa43c5c52bb13a" title="Initialize the ADC peripheral and regular group according to parameters specified in structure &quot;ADC_I...">HAL_ADC_Init()</a> or <a class="el" href="group__ADC__Exported__Functions__Group1.html#ga165940b437c6a8843c6032199adbf0a8" title="Deinitialize the ADC peripheral registers to their default reset values, with deinitialization of the...">HAL_ADC_DeInit()</a>, or the user can resort to HAL_ADCEx_DisableMultiMode() API. </dd>
<dd>
In case of DMA configured in circular mode, function <a class="el" href="group__ADCEx__Exported__Functions__Group1.html#ga39a320b4d1c2192f96ddade9887af58c" title="Stop ADC conversion of regular group (and injected group in case of auto_injection mode),...">HAL_ADCEx_RegularStop_DMA()</a> must be called after this function with handle of ADC slave, to properly disable the DMA channel. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hadc</td><td>ADC handle of ADC master (handle of ADC slave must not be used) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html#l01457">1457</a> of file <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html">stm32l4xx_hal_adc_ex.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;{</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;  HAL_StatusTypeDef tmp_hal_status;</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;  uint32_t tickstart;</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;  <a class="code" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> tmphadcSlave;</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;  uint32_t tmphadcSlave_conversion_on_going;</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160; </div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_ADC_MULTIMODE_MASTER_INSTANCE(hadc-&gt;Instance));</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160; </div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;  <span class="comment">/* Process locked */</span></div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(hadc);</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160; </div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160; </div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;  <span class="comment">/* 1. Stop potential multimode conversion on going, on regular groups */</span></div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;  tmp_hal_status = <a class="code" href="group__ADC__Private__Functions.html#ga8cf59124f493ce4a972b2bab34bc0c7a">ADC_ConversionStop</a>(hadc, ADC_REGULAR_GROUP);</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160; </div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;  <span class="comment">/* Disable ADC peripheral if conversions are effectively stopped */</span></div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;  <span class="keywordflow">if</span> (tmp_hal_status == <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;  {</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    <span class="comment">/* Clear HAL_ADC_STATE_REG_BUSY bit */</span></div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hadc-&gt;State, HAL_ADC_STATE_REG_BUSY);</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160; </div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    <span class="comment">/* Set a temporary handle of the ADC slave associated to the ADC master   */</span></div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    ADC_MULTI_SLAVE(hadc, &amp;tmphadcSlave);</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160; </div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;    <span class="keywordflow">if</span> (tmphadcSlave.Instance == NULL)</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    {</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;      <span class="comment">/* Update ADC state machine to error */</span></div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;      SET_BIT(hadc-&gt;State, HAL_ADC_STATE_ERROR_CONFIG);</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160; </div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;      <span class="comment">/* Process unlocked */</span></div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hadc);</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160; </div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;      <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    }</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160; </div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    <span class="comment">/* Procedure to disable the ADC peripheral: wait for conversions          */</span></div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;    <span class="comment">/* effectively stopped (ADC master and ADC slave), then disable ADC       */</span></div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160; </div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;    <span class="comment">/* 1. Wait for ADC conversion completion for ADC master and ADC slave */</span></div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    tickstart = <a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>();</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160; </div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    tmphadcSlave_conversion_on_going = <a class="code" href="group__ADC__LL__EF__Operation__ADC__Group__Regular.html#ga172f19f834ef390ace45fbff5de2bb61">LL_ADC_REG_IsConversionOngoing</a>((&amp;tmphadcSlave)-&gt;<a class="code" href="struct____WWDG__HandleTypeDef.html#ad967c023ec1d88bcdb3d87227c3ac495">Instance</a>);</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    <span class="keywordflow">while</span> ((<a class="code" href="group__ADC__LL__EF__Operation__ADC__Group__Regular.html#ga172f19f834ef390ace45fbff5de2bb61">LL_ADC_REG_IsConversionOngoing</a>(hadc-&gt;Instance) == 1UL)</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;           || (tmphadcSlave_conversion_on_going == 1UL)</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;          )</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    {</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;      <span class="keywordflow">if</span> ((<a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>() - tickstart) &gt; ADC_STOP_CONVERSION_TIMEOUT)</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;      {</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;        <span class="comment">/* Update ADC state machine to error */</span></div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;        SET_BIT(hadc-&gt;State, HAL_ADC_STATE_ERROR_INTERNAL);</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160; </div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;        <span class="comment">/* Process unlocked */</span></div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;        <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hadc);</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160; </div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;        <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;      }</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160; </div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;      tmphadcSlave_conversion_on_going = <a class="code" href="group__ADC__LL__EF__Operation__ADC__Group__Regular.html#ga172f19f834ef390ace45fbff5de2bb61">LL_ADC_REG_IsConversionOngoing</a>((&amp;tmphadcSlave)-&gt;<a class="code" href="struct____WWDG__HandleTypeDef.html#ad967c023ec1d88bcdb3d87227c3ac495">Instance</a>);</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    }</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160; </div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    <span class="comment">/* Disable the DMA channel (in case of DMA in circular mode or stop       */</span></div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    <span class="comment">/* while DMA transfer is on going)                                        */</span></div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    <span class="comment">/* Note: DMA channel of ADC slave should be stopped after this function   */</span></div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;    <span class="comment">/* with HAL_ADCEx_RegularStop_DMA() API.                                  */</span></div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    tmp_hal_status = <a class="code" href="group__DMA__Exported__Functions__Group2.html#ga001f9fb04328a7460f9ff16908ff987c">HAL_DMA_Abort</a>(hadc-&gt;DMA_Handle);</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160; </div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    <span class="comment">/* Check if DMA channel effectively disabled */</span></div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;    <span class="keywordflow">if</span> (tmp_hal_status != <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    {</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;      <span class="comment">/* Update ADC state machine to error */</span></div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;      SET_BIT(hadc-&gt;State, HAL_ADC_STATE_ERROR_DMA);</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    }</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160; </div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    <span class="comment">/* Disable ADC overrun interrupt */</span></div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    __HAL_ADC_DISABLE_IT(hadc, ADC_IT_OVR);</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160; </div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    <span class="comment">/* 2. Disable the ADC peripherals: master and slave if no injected        */</span></div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    <span class="comment">/*   conversion is on-going.                                              */</span></div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    <span class="comment">/* Update &quot;tmp_hal_status&quot; only if DMA channel disabling passed, to keep in */</span></div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <span class="comment">/* memory a potential failing status.                                     */</span></div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    <span class="keywordflow">if</span> (tmp_hal_status == <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;    {</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="group__ADC__LL__EF__Operation__ADC__Group__Injected.html#gaa8b7966e985795984e9850014d08be44">LL_ADC_INJ_IsConversionOngoing</a>(hadc-&gt;Instance) == 0UL)</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;      {</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;        tmp_hal_status =  <a class="code" href="group__ADC__Private__Functions.html#gaf93525a5c14bfdf926f8d8331a63b44c">ADC_Disable</a>(hadc);</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;        <span class="keywordflow">if</span> (tmp_hal_status == <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;        {</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="group__ADC__LL__EF__Operation__ADC__Group__Injected.html#gaa8b7966e985795984e9850014d08be44">LL_ADC_INJ_IsConversionOngoing</a>((&amp;tmphadcSlave)-&gt;<a class="code" href="struct____WWDG__HandleTypeDef.html#ad967c023ec1d88bcdb3d87227c3ac495">Instance</a>) == 0UL)</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;          {</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;            tmp_hal_status =  <a class="code" href="group__ADC__Private__Functions.html#gaf93525a5c14bfdf926f8d8331a63b44c">ADC_Disable</a>(&amp;tmphadcSlave);</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;          }</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;        }</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;      }</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160; </div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;      <span class="keywordflow">if</span> (tmp_hal_status == <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;      {</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;        <span class="comment">/* Both Master and Slave ADC&#39;s could be disabled. Update Master State */</span></div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;        <span class="comment">/* Clear HAL_ADC_STATE_INJ_BUSY bit, set HAL_ADC_STATE_READY bit */</span></div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;        ADC_STATE_CLR_SET(hadc-&gt;State, HAL_ADC_STATE_INJ_BUSY, HAL_ADC_STATE_READY);</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;      }</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;      {</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;        <span class="comment">/* injected (Master or Slave) conversions are still on-going,</span></div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;<span class="comment">           no Master State change */</span></div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;      }</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    }</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;  }</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160; </div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;  <span class="comment">/* Process unlocked */</span></div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hadc);</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160; </div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;  <span class="comment">/* Return function status */</span></div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;  <span class="keywordflow">return</span> tmp_hal_status;</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga0b8d070f599968503f636466667af01a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0b8d070f599968503f636466667af01a">&#9670;&nbsp;</a></span>HAL_ADCEx_RegularStop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_ADCEx_RegularStop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hadc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop ADC conversion of regular group (and injected channels in case of auto_injection mode), disable ADC peripheral if no conversion is on going on injected group. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hadc</td><td>ADC handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html#l01252">1252</a> of file <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html">stm32l4xx_hal_adc_ex.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;{</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;  HAL_StatusTypeDef tmp_hal_status;</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160; </div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_ADC_ALL_INSTANCE(hadc-&gt;Instance));</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160; </div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;  <span class="comment">/* Process locked */</span></div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(hadc);</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160; </div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;  <span class="comment">/* 1. Stop potential regular conversion on going */</span></div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;  tmp_hal_status = <a class="code" href="group__ADC__Private__Functions.html#ga8cf59124f493ce4a972b2bab34bc0c7a">ADC_ConversionStop</a>(hadc, ADC_REGULAR_GROUP);</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160; </div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;  <span class="comment">/* Disable ADC peripheral if regular conversions are effectively stopped</span></div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;<span class="comment">     and if no injected conversions are on-going */</span></div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;  <span class="keywordflow">if</span> (tmp_hal_status == <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;  {</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <span class="comment">/* Clear HAL_ADC_STATE_REG_BUSY bit */</span></div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hadc-&gt;State, HAL_ADC_STATE_REG_BUSY);</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160; </div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__ADC__LL__EF__Operation__ADC__Group__Injected.html#gaa8b7966e985795984e9850014d08be44">LL_ADC_INJ_IsConversionOngoing</a>(hadc-&gt;Instance) == 0UL)</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    {</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;      <span class="comment">/* 2. Disable the ADC peripheral */</span></div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;      tmp_hal_status = <a class="code" href="group__ADC__Private__Functions.html#gaf93525a5c14bfdf926f8d8331a63b44c">ADC_Disable</a>(hadc);</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160; </div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;      <span class="comment">/* Check if ADC is effectively disabled */</span></div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;      <span class="keywordflow">if</span> (tmp_hal_status == <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;      {</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;        <span class="comment">/* Set ADC state */</span></div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;        ADC_STATE_CLR_SET(hadc-&gt;State,</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;                          HAL_ADC_STATE_INJ_BUSY,</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;                          HAL_ADC_STATE_READY);</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;      }</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    }</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    <span class="comment">/* Conversion on injected group is stopped, but ADC not disabled since    */</span></div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    <span class="comment">/* conversion on regular group is still running.                          */</span></div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    {</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;      SET_BIT(hadc-&gt;State, HAL_ADC_STATE_INJ_BUSY);</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    }</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;  }</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160; </div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;  <span class="comment">/* Process unlocked */</span></div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hadc);</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160; </div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  <span class="comment">/* Return function status */</span></div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;  <span class="keywordflow">return</span> tmp_hal_status;</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga39a320b4d1c2192f96ddade9887af58c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga39a320b4d1c2192f96ddade9887af58c">&#9670;&nbsp;</a></span>HAL_ADCEx_RegularStop_DMA()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_ADCEx_RegularStop_DMA </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hadc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop ADC conversion of regular group (and injected group in case of auto_injection mode), disable ADC DMA transfer, disable ADC peripheral if no conversion is on going on injected group. </p>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="group__ADCEx__Exported__Functions__Group1.html#ga39a320b4d1c2192f96ddade9887af58c" title="Stop ADC conversion of regular group (and injected group in case of auto_injection mode),...">HAL_ADCEx_RegularStop_DMA()</a> function is dedicated to single-ADC mode only. For multimode (when multimode feature is available), <a class="el" href="group__ADCEx__Exported__Functions__Group1.html#gaadbdd8685d24a5a74521c66811a5cb2e" title="Stop DMA-based multimode ADC conversion, disable ADC DMA transfer, disable ADC peripheral if no injec...">HAL_ADCEx_RegularMultiModeStop_DMA()</a> API must be used. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hadc</td><td>ADC handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html#l01370">1370</a> of file <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html">stm32l4xx_hal_adc_ex.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;{</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;  HAL_StatusTypeDef tmp_hal_status;</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160; </div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_ADC_ALL_INSTANCE(hadc-&gt;Instance));</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160; </div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;  <span class="comment">/* Process locked */</span></div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(hadc);</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160; </div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;  <span class="comment">/* 1. Stop potential regular conversion on going */</span></div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;  tmp_hal_status = <a class="code" href="group__ADC__Private__Functions.html#ga8cf59124f493ce4a972b2bab34bc0c7a">ADC_ConversionStop</a>(hadc, ADC_REGULAR_GROUP);</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160; </div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;  <span class="comment">/* Disable ADC peripheral if conversions are effectively stopped</span></div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;<span class="comment">     and if no injected conversion is on-going */</span></div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;  <span class="keywordflow">if</span> (tmp_hal_status == <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;  {</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;    <span class="comment">/* Clear HAL_ADC_STATE_REG_BUSY bit */</span></div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hadc-&gt;State, HAL_ADC_STATE_REG_BUSY);</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160; </div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    <span class="comment">/* Disable ADC DMA (ADC DMA configuration ADC_CFGR_DMACFG is kept) */</span></div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hadc-&gt;Instance-&gt;CFGR, ADC_CFGR_DMAEN);</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160; </div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    <span class="comment">/* Disable the DMA channel (in case of DMA in circular mode or stop while */</span></div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    <span class="comment">/* while DMA transfer is on going)                                        */</span></div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    tmp_hal_status = <a class="code" href="group__DMA__Exported__Functions__Group2.html#ga001f9fb04328a7460f9ff16908ff987c">HAL_DMA_Abort</a>(hadc-&gt;DMA_Handle);</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160; </div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    <span class="comment">/* Check if DMA channel effectively disabled */</span></div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    <span class="keywordflow">if</span> (tmp_hal_status != <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    {</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;      <span class="comment">/* Update ADC state machine to error */</span></div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;      SET_BIT(hadc-&gt;State, HAL_ADC_STATE_ERROR_DMA);</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    }</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160; </div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    <span class="comment">/* Disable ADC overrun interrupt */</span></div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    __HAL_ADC_DISABLE_IT(hadc, ADC_IT_OVR);</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160; </div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    <span class="comment">/* 2. Disable the ADC peripheral */</span></div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    <span class="comment">/* Update &quot;tmp_hal_status&quot; only if DMA channel disabling passed,          */</span></div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    <span class="comment">/* to keep in memory a potential failing status.                          */</span></div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__ADC__LL__EF__Operation__ADC__Group__Injected.html#gaa8b7966e985795984e9850014d08be44">LL_ADC_INJ_IsConversionOngoing</a>(hadc-&gt;Instance) == 0UL)</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    {</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;      <span class="keywordflow">if</span> (tmp_hal_status == <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;      {</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;        tmp_hal_status = <a class="code" href="group__ADC__Private__Functions.html#gaf93525a5c14bfdf926f8d8331a63b44c">ADC_Disable</a>(hadc);</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;      }</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;      {</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;        (void)<a class="code" href="group__ADC__Private__Functions.html#gaf93525a5c14bfdf926f8d8331a63b44c">ADC_Disable</a>(hadc);</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;      }</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160; </div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;      <span class="comment">/* Check if ADC is effectively disabled */</span></div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;      <span class="keywordflow">if</span> (tmp_hal_status == <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;      {</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;        <span class="comment">/* Set ADC state */</span></div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;        ADC_STATE_CLR_SET(hadc-&gt;State,</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;                          HAL_ADC_STATE_INJ_BUSY,</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;                          HAL_ADC_STATE_READY);</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;      }</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    }</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    {</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;      SET_BIT(hadc-&gt;State, HAL_ADC_STATE_INJ_BUSY);</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    }</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;  }</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160; </div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;  <span class="comment">/* Process unlocked */</span></div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hadc);</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160; </div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;  <span class="comment">/* Return function status */</span></div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;  <span class="keywordflow">return</span> tmp_hal_status;</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gae383afc51053ebae80e81eb8a3dc4ff9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae383afc51053ebae80e81eb8a3dc4ff9">&#9670;&nbsp;</a></span>HAL_ADCEx_RegularStop_IT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_ADCEx_RegularStop_IT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hadc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop ADC conversion of ADC groups regular and injected, disable interrution of end-of-conversion, disable ADC peripheral if no conversion is on going on injected group. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hadc</td><td>ADC handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html#l01310">1310</a> of file <a class="el" href="stm32l4xx__hal__adc__ex_8c_source.html">stm32l4xx_hal_adc_ex.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;{</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;  HAL_StatusTypeDef tmp_hal_status;</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160; </div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_ADC_ALL_INSTANCE(hadc-&gt;Instance));</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160; </div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;  <span class="comment">/* Process locked */</span></div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(hadc);</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160; </div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;  <span class="comment">/* 1. Stop potential regular conversion on going */</span></div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;  tmp_hal_status = <a class="code" href="group__ADC__Private__Functions.html#ga8cf59124f493ce4a972b2bab34bc0c7a">ADC_ConversionStop</a>(hadc, ADC_REGULAR_GROUP);</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160; </div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;  <span class="comment">/* Disable ADC peripheral if conversions are effectively stopped</span></div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;<span class="comment">    and if no injected conversion is on-going */</span></div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;  <span class="keywordflow">if</span> (tmp_hal_status == <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;  {</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    <span class="comment">/* Clear HAL_ADC_STATE_REG_BUSY bit */</span></div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(hadc-&gt;State, HAL_ADC_STATE_REG_BUSY);</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160; </div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    <span class="comment">/* Disable all regular-related interrupts */</span></div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    __HAL_ADC_DISABLE_IT(hadc, (ADC_IT_EOC | ADC_IT_EOS | ADC_IT_OVR));</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160; </div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    <span class="comment">/* 2. Disable ADC peripheral if no injected conversions are on-going */</span></div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__ADC__LL__EF__Operation__ADC__Group__Injected.html#gaa8b7966e985795984e9850014d08be44">LL_ADC_INJ_IsConversionOngoing</a>(hadc-&gt;Instance) == 0UL)</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    {</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;      tmp_hal_status = <a class="code" href="group__ADC__Private__Functions.html#gaf93525a5c14bfdf926f8d8331a63b44c">ADC_Disable</a>(hadc);</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;      <span class="comment">/* if no issue reported */</span></div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;      <span class="keywordflow">if</span> (tmp_hal_status == <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;      {</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;        <span class="comment">/* Set ADC state */</span></div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;        ADC_STATE_CLR_SET(hadc-&gt;State,</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;                          HAL_ADC_STATE_INJ_BUSY,</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;                          HAL_ADC_STATE_READY);</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;      }</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    }</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    {</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;      SET_BIT(hadc-&gt;State, HAL_ADC_STATE_INJ_BUSY);</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    }</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;  }</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160; </div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;  <span class="comment">/* Process unlocked */</span></div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hadc);</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160; </div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;  <span class="comment">/* Return function status */</span></div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;  <span class="keywordflow">return</span> tmp_hal_status;</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="agroup__ADC__LL__EF__Configuration__ADC__Group__Regular_html_gaaa50f143fbbb1df8671053e1a7aec8c3"><div class="ttname"><a href="group__ADC__LL__EF__Configuration__ADC__Group__Regular.html#gaaa50f143fbbb1df8671053e1a7aec8c3">LL_ADC_REG_IsTriggerSourceSWStart</a></div><div class="ttdeci">__STATIC_INLINE uint32_t LL_ADC_REG_IsTriggerSourceSWStart(ADC_TypeDef *ADCx)</div><div class="ttdoc">Get ADC group regular conversion trigger source internal (SW start) or external.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__ll__adc_8h_source.html#l03174">stm32l4xx_ll_adc.h:3174</a></div></div>
<div class="ttc" id="agroup__RTCEx__Exported__Functions__Group2_html_ga4734c37dd6682d79ce748b9bff126f66"><div class="ttname"><a href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a></div><div class="ttdeci">CLEAR_BIT(hrtc-&gt;Instance-&gt;CR, RTC_CR_WUTE)</div></div>
<div class="ttc" id="agroup__RTCEx__Exported__Functions__Group2_html_ga3feac430acb1b5e74ad139639f3af9ca"><div class="ttname"><a href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a></div><div class="ttdeci">__HAL_UNLOCK(hrtc)</div></div>
<div class="ttc" id="agroup__ADC__LL__EF__Operation__ADC__Instance_html_ga3c5c189afd79c99ebdcb51a7f580b818"><div class="ttname"><a href="group__ADC__LL__EF__Operation__ADC__Instance.html#ga3c5c189afd79c99ebdcb51a7f580b818">LL_ADC_IsCalibrationOnGoing</a></div><div class="ttdeci">__STATIC_INLINE uint32_t LL_ADC_IsCalibrationOnGoing(ADC_TypeDef *ADCx)</div><div class="ttdoc">Get ADC calibration state. @rmtoll CR ADCAL LL_ADC_IsCalibrationOnGoing.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__ll__adc_8h_source.html#l06027">stm32l4xx_ll_adc.h:6027</a></div></div>
<div class="ttc" id="agroup__ADC__LL__EF__Configuration__ADC__Instance_html_ga824344d3c7ce755028ee08d47db919ef"><div class="ttname"><a href="group__ADC__LL__EF__Configuration__ADC__Instance.html#ga824344d3c7ce755028ee08d47db919ef">LL_ADC_SetCalibrationFactor</a></div><div class="ttdeci">__STATIC_INLINE void LL_ADC_SetCalibrationFactor(ADC_TypeDef *ADCx, uint32_t SingleDiff, uint32_t CalibrationFactor)</div><div class="ttdoc">Set ADC calibration factor in the mode single-ended or differential (for devices with differential mo...</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__ll__adc_8h_source.html#l02568">stm32l4xx_ll_adc.h:2568</a></div></div>
<div class="ttc" id="agroup__ADC__LL__EF__Configuration__ADC__Group__Injected_html_ga6ffa6d01a7b61dabe42c42a42c68c712"><div class="ttname"><a href="group__ADC__LL__EF__Configuration__ADC__Group__Injected.html#ga6ffa6d01a7b61dabe42c42a42c68c712">LL_ADC_INJ_IsTriggerSourceSWStart</a></div><div class="ttdeci">__STATIC_INLINE uint32_t LL_ADC_INJ_IsTriggerSourceSWStart(ADC_TypeDef *ADCx)</div><div class="ttdoc">Get ADC group injected conversion trigger source internal (SW start) or external.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__ll__adc_8h_source.html#l03900">stm32l4xx_ll_adc.h:3900</a></div></div>
<div class="ttc" id="agroup__HAL__Exported__Functions__Group2_html_gac9b3a85a73735ac840d0dcb59bc0fdd6"><div class="ttname"><a href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a></div><div class="ttdeci">uint32_t HAL_GetTick(void)</div><div class="ttdoc">Provide a tick value in millisecond.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal_8c_source.html#l00337">stm32l4xx_hal.c:337</a></div></div>
<div class="ttc" id="agroup__ADC__Private__Functions_html_ga27abcd16a928caf2b6c719ea67c12b25"><div class="ttname"><a href="group__ADC__Private__Functions.html#ga27abcd16a928caf2b6c719ea67c12b25">ADC_DMAHalfConvCplt</a></div><div class="ttdeci">void ADC_DMAHalfConvCplt(DMA_HandleTypeDef *hdma)</div><div class="ttdoc">DMA half transfer complete callback.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__adc_8c_source.html#l03570">stm32l4xx_hal_adc.c:3570</a></div></div>
<div class="ttc" id="agroup__ADC__LL__EF__Operation__ADC__Group__Regular_html_gacff8fbe100e4cc96d24a3a0251859ff9"><div class="ttname"><a href="group__ADC__LL__EF__Operation__ADC__Group__Regular.html#gacff8fbe100e4cc96d24a3a0251859ff9">LL_ADC_REG_StartConversion</a></div><div class="ttdeci">__STATIC_INLINE void LL_ADC_REG_StartConversion(ADC_TypeDef *ADCx)</div><div class="ttdoc">Start ADC group regular conversion.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__ll__adc_8h_source.html#l06058">stm32l4xx_ll_adc.h:6058</a></div></div>
<div class="ttc" id="astruct____WWDG__HandleTypeDef_html_ad967c023ec1d88bcdb3d87227c3ac495"><div class="ttname"><a href="struct____WWDG__HandleTypeDef.html#ad967c023ec1d88bcdb3d87227c3ac495">__WWDG_HandleTypeDef::Instance</a></div><div class="ttdeci">WWDG_TypeDef * Instance</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__wwdg_8h_source.html#l00069">stm32l4xx_hal_wwdg.h:69</a></div></div>
<div class="ttc" id="agroup__ADC__LL__EF__Operation__ADC__Instance_html_ga0ec7b7d7c4207b4f36121d82bfe3a9e0"><div class="ttname"><a href="group__ADC__LL__EF__Operation__ADC__Instance.html#ga0ec7b7d7c4207b4f36121d82bfe3a9e0">LL_ADC_StartCalibration</a></div><div class="ttdeci">__STATIC_INLINE void LL_ADC_StartCalibration(ADC_TypeDef *ADCx, uint32_t SingleDiff)</div><div class="ttdoc">Start ADC calibration in the mode single-ended or differential (for devices with differential mode av...</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__ll__adc_8h_source.html#l06011">stm32l4xx_ll_adc.h:6011</a></div></div>
<div class="ttc" id="agroup__RTCEx__Exported__Functions__Group2_html_ga05dcbf41f5c5e42a592e9ad9e351391e"><div class="ttname"><a href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a></div><div class="ttdeci">return HAL_OK</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__rtc__ex_8c_source.html#l00885">stm32l4xx_hal_rtc_ex.c:885</a></div></div>
<div class="ttc" id="agroup__DMA__Exported__Functions__Group2_html_ga7eddc0931ac8a3d77b23d6d5e68407c7"><div class="ttname"><a href="group__DMA__Exported__Functions__Group2.html#ga7eddc0931ac8a3d77b23d6d5e68407c7">HAL_DMA_Start_IT</a></div><div class="ttdeci">HAL_StatusTypeDef HAL_DMA_Start_IT(DMA_HandleTypeDef *hdma, uint32_t SrcAddress, uint32_t DstAddress, uint32_t DataLength)</div><div class="ttdoc">Start the DMA Transfer with interrupt enabled.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__dma_8c_source.html#l00473">stm32l4xx_hal_dma.c:473</a></div></div>
<div class="ttc" id="agroup__ADC__Exported__Types_html_ga1210fb9da7656433779eeee53d3e70fa"><div class="ttname"><a href="group__ADC__Exported__Types.html#ga1210fb9da7656433779eeee53d3e70fa">ADC_HandleTypeDef</a></div><div class="ttdeci">struct __ADC_HandleTypeDef else typedef struct endif ADC_HandleTypeDef</div><div class="ttdoc">ADC handle Structure definition.</div></div>
<div class="ttc" id="agroup__ADC__LL__EF__Operation__ADC__Group__Injected_html_gaa8b7966e985795984e9850014d08be44"><div class="ttname"><a href="group__ADC__LL__EF__Operation__ADC__Group__Injected.html#gaa8b7966e985795984e9850014d08be44">LL_ADC_INJ_IsConversionOngoing</a></div><div class="ttdeci">__STATIC_INLINE uint32_t LL_ADC_INJ_IsConversionOngoing(ADC_TypeDef *ADCx)</div><div class="ttdoc">Get ADC group injected conversion state. @rmtoll CR JADSTART LL_ADC_INJ_IsConversionOngoing.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__ll__adc_8h_source.html#l06277">stm32l4xx_ll_adc.h:6277</a></div></div>
<div class="ttc" id="agroup__DMA__Exported__Functions__Group2_html_ga001f9fb04328a7460f9ff16908ff987c"><div class="ttname"><a href="group__DMA__Exported__Functions__Group2.html#ga001f9fb04328a7460f9ff16908ff987c">HAL_DMA_Abort</a></div><div class="ttdeci">HAL_StatusTypeDef HAL_DMA_Abort(DMA_HandleTypeDef *hdma)</div><div class="ttdoc">Abort the DMA Transfer.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__dma_8c_source.html#l00546">stm32l4xx_hal_dma.c:546</a></div></div>
<div class="ttc" id="agroup__ADC__LL__EF__Configuration__ADC__Instance_html_gad1e8198d04a388cc4d8dfea8e8108daa"><div class="ttname"><a href="group__ADC__LL__EF__Configuration__ADC__Instance.html#gad1e8198d04a388cc4d8dfea8e8108daa">LL_ADC_GetCalibrationFactor</a></div><div class="ttdeci">__STATIC_INLINE uint32_t LL_ADC_GetCalibrationFactor(ADC_TypeDef *ADCx, uint32_t SingleDiff)</div><div class="ttdoc">Get ADC calibration factor in the mode single-ended or differential (for devices with differential mo...</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__ll__adc_8h_source.html#l02591">stm32l4xx_ll_adc.h:2591</a></div></div>
<div class="ttc" id="agroup__ADC__Private__Functions_html_ga8cf59124f493ce4a972b2bab34bc0c7a"><div class="ttname"><a href="group__ADC__Private__Functions.html#ga8cf59124f493ce4a972b2bab34bc0c7a">ADC_ConversionStop</a></div><div class="ttdeci">HAL_StatusTypeDef ADC_ConversionStop(ADC_HandleTypeDef *hadc, uint32_t ConversionGroup)</div><div class="ttdoc">Stop ADC conversion.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__adc_8c_source.html#l03237">stm32l4xx_hal_adc.c:3237</a></div></div>
<div class="ttc" id="agroup__ADC__LL__EF__Operation__ADC__Instance_html_ga454aa94716b38980c9aba0cee71074a7"><div class="ttname"><a href="group__ADC__LL__EF__Operation__ADC__Instance.html#ga454aa94716b38980c9aba0cee71074a7">LL_ADC_IsEnabled</a></div><div class="ttdeci">__STATIC_INLINE uint32_t LL_ADC_IsEnabled(ADC_TypeDef *ADCx)</div><div class="ttdoc">Get the selected ADC instance enable state.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__ll__adc_8h_source.html#l05972">stm32l4xx_ll_adc.h:5972</a></div></div>
<div class="ttc" id="agroup__ADC__Private__Functions_html_ga034b9253bac7f083ec43b5b09873ebf1"><div class="ttname"><a href="group__ADC__Private__Functions.html#ga034b9253bac7f083ec43b5b09873ebf1">ADC_Enable</a></div><div class="ttdeci">HAL_StatusTypeDef ADC_Enable(ADC_HandleTypeDef *hadc)</div><div class="ttdoc">Enable the selected ADC.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__adc_8c_source.html#l03367">stm32l4xx_hal_adc.c:3367</a></div></div>
<div class="ttc" id="agroup__ADC__Private__Functions_html_ga055840e53820295bac4f4f0998ffcfb0"><div class="ttname"><a href="group__ADC__Private__Functions.html#ga055840e53820295bac4f4f0998ffcfb0">ADC_DMAConvCplt</a></div><div class="ttdeci">void ADC_DMAConvCplt(DMA_HandleTypeDef *hdma)</div><div class="ttdoc">DMA transfer complete callback.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__adc_8c_source.html#l03492">stm32l4xx_hal_adc.c:3492</a></div></div>
<div class="ttc" id="agroup__ADC__LL__EF__Operation__ADC__Group__Regular_html_ga172f19f834ef390ace45fbff5de2bb61"><div class="ttname"><a href="group__ADC__LL__EF__Operation__ADC__Group__Regular.html#ga172f19f834ef390ace45fbff5de2bb61">LL_ADC_REG_IsConversionOngoing</a></div><div class="ttdeci">__STATIC_INLINE uint32_t LL_ADC_REG_IsConversionOngoing(ADC_TypeDef *ADCx)</div><div class="ttdoc">Get ADC group regular conversion state. @rmtoll CR ADSTART LL_ADC_REG_IsConversionOngoing.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__ll__adc_8h_source.html#l06094">stm32l4xx_ll_adc.h:6094</a></div></div>
<div class="ttc" id="agroup__RTCEx__Exported__Functions__Group2_html_ga88b8891e30e4b1c54fecb1235c95870d"><div class="ttname"><a href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a></div><div class="ttdeci">__HAL_LOCK(hrtc)</div></div>
<div class="ttc" id="agroup__ADC__LL__EF__Configuration__ADC__Group__Injected_html_gacb6333b478ecbaab5600eca04b737ab3"><div class="ttname"><a href="group__ADC__LL__EF__Configuration__ADC__Group__Injected.html#gacb6333b478ecbaab5600eca04b737ab3">LL_ADC_INJ_GetTrigAuto</a></div><div class="ttdeci">__STATIC_INLINE uint32_t LL_ADC_INJ_GetTrigAuto(ADC_TypeDef *ADCx)</div><div class="ttdoc">Get ADC group injected conversion trigger: independent or from ADC group regular. @rmtoll CFGR JAUTO ...</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__ll__adc_8h_source.html#l04216">stm32l4xx_ll_adc.h:4216</a></div></div>
<div class="ttc" id="agroup__RTCEx__Exported__Functions__Group2_html_ga2b23ae77e9ce099e35aaa5e9e0daba7b"><div class="ttname"><a href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a></div><div class="ttdeci">assert_param(IS_RTC_WAKEUP_CLOCK(WakeUpClock))</div></div>
<div class="ttc" id="agroup__ADC__Private__Functions_html_gaede41b9e917d64ad31fbbb8ae9fab79c"><div class="ttname"><a href="group__ADC__Private__Functions.html#gaede41b9e917d64ad31fbbb8ae9fab79c">ADC_DMAError</a></div><div class="ttdeci">void ADC_DMAError(DMA_HandleTypeDef *hdma)</div><div class="ttdoc">DMA error callback.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__adc_8c_source.html#l03588">stm32l4xx_hal_adc.c:3588</a></div></div>
<div class="ttc" id="agroup__ADC__LL__EF__Operation__ADC__Group__Injected_html_ga7eabb2c2833db3cdb91c0418d42395cc"><div class="ttname"><a href="group__ADC__LL__EF__Operation__ADC__Group__Injected.html#ga7eabb2c2833db3cdb91c0418d42395cc">LL_ADC_INJ_StartConversion</a></div><div class="ttdeci">__STATIC_INLINE void LL_ADC_INJ_StartConversion(ADC_TypeDef *ADCx)</div><div class="ttdoc">Start ADC group injected conversion.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__ll__adc_8h_source.html#l06241">stm32l4xx_ll_adc.h:6241</a></div></div>
<div class="ttc" id="agroup__ADC__Private__Functions_html_gaf93525a5c14bfdf926f8d8331a63b44c"><div class="ttname"><a href="group__ADC__Private__Functions.html#gaf93525a5c14bfdf926f8d8331a63b44c">ADC_Disable</a></div><div class="ttdeci">HAL_StatusTypeDef ADC_Disable(ADC_HandleTypeDef *hadc)</div><div class="ttdoc">Disable the selected ADC.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__adc_8c_source.html#l03434">stm32l4xx_hal_adc.c:3434</a></div></div>
<div class="ttc" id="agroup__ADC__LL__EF__Configuration__ADC__Multimode_html_ga6451f14ef7a4e19273c86555b61b86fa"><div class="ttname"><a href="group__ADC__LL__EF__Configuration__ADC__Multimode.html#ga6451f14ef7a4e19273c86555b61b86fa">LL_ADC_GetMultimode</a></div><div class="ttdeci">__STATIC_INLINE uint32_t LL_ADC_GetMultimode(ADC_Common_TypeDef *ADCxy_COMMON)</div><div class="ttdoc">Get ADC multimode configuration to operate in independent mode or multimode (for devices with several...</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__ll__adc_8h_source.html#l05617">stm32l4xx_ll_adc.h:5617</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.16 </li>
  </ul>
</div>
</body>
</html>
