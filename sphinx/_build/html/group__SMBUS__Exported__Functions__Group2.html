<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STM32L4xx_HAL_Driver: Input and Output operation functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">STM32L4xx_HAL_Driver
   &#160;<span id="projectnumber">1.14.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__SMBUS__Exported__Functions__Group2.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Input and Output operation functions<div class="ingroups"><a class="el" href="group__STM32L4xx__HAL__Driver.html">STM32L4xx_HAL_Driver</a> &raquo; <a class="el" href="group__SMBUS.html">SMBUS</a> &raquo; <a class="el" href="group__SMBUS__Exported__Functions.html">SMBUS Exported Functions</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Data transfers functions.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__Blocking__mode__Polling"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Blocking__mode__Polling.html">Blocking mode Polling</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__Non-Blocking__mode__Interrupt"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Non-Blocking__mode__Interrupt.html">Non-Blocking mode Interrupt</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__SMBUS__IRQ__Handler__and__Callbacks"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMBUS__IRQ__Handler__and__Callbacks.html">IRQ Handler and Callbacks</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__SMBUS__Exported__Functions__Group3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMBUS__Exported__Functions__Group3.html">Peripheral State and Errors functions</a></td></tr>
<tr class="memdesc:group__SMBUS__Exported__Functions__Group3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Peripheral State and Errors functions. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gacbf8f48c6a407d0c7c82fb5d37eb2b8f"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMBUS__Exported__Functions__Group2.html#gacbf8f48c6a407d0c7c82fb5d37eb2b8f">HAL_SMBUS_Master_Transmit_IT</a> (<a class="el" href="group__SMBUS__handle__Structure__definition.html#gac9cb5ce45b4b5ca9380da7562ec2e09b">SMBUS_HandleTypeDef</a> *hsmbus, uint16_t DevAddress, uint8_t *pData, uint16_t Size, uint32_t XferOptions)</td></tr>
<tr class="memdesc:gacbf8f48c6a407d0c7c82fb5d37eb2b8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit in master/host SMBUS mode an amount of data in non-blocking mode with Interrupt.  <a href="group__SMBUS__Exported__Functions__Group2.html#gacbf8f48c6a407d0c7c82fb5d37eb2b8f">More...</a><br /></td></tr>
<tr class="separator:gacbf8f48c6a407d0c7c82fb5d37eb2b8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab9d8d52f797123b8d61ed44adf2b392e"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMBUS__Exported__Functions__Group2.html#gab9d8d52f797123b8d61ed44adf2b392e">HAL_SMBUS_Master_Receive_IT</a> (<a class="el" href="group__SMBUS__handle__Structure__definition.html#gac9cb5ce45b4b5ca9380da7562ec2e09b">SMBUS_HandleTypeDef</a> *hsmbus, uint16_t DevAddress, uint8_t *pData, uint16_t Size, uint32_t XferOptions)</td></tr>
<tr class="memdesc:gab9d8d52f797123b8d61ed44adf2b392e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive in master/host SMBUS mode an amount of data in non-blocking mode with Interrupt.  <a href="group__SMBUS__Exported__Functions__Group2.html#gab9d8d52f797123b8d61ed44adf2b392e">More...</a><br /></td></tr>
<tr class="separator:gab9d8d52f797123b8d61ed44adf2b392e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga753f06add5574ae7a77f1e03796097d5"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMBUS__Exported__Functions__Group2.html#ga753f06add5574ae7a77f1e03796097d5">HAL_SMBUS_Master_Abort_IT</a> (<a class="el" href="group__SMBUS__handle__Structure__definition.html#gac9cb5ce45b4b5ca9380da7562ec2e09b">SMBUS_HandleTypeDef</a> *hsmbus, uint16_t DevAddress)</td></tr>
<tr class="memdesc:ga753f06add5574ae7a77f1e03796097d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Abort a master/host SMBUS process communication with Interrupt.  <a href="group__SMBUS__Exported__Functions__Group2.html#ga753f06add5574ae7a77f1e03796097d5">More...</a><br /></td></tr>
<tr class="separator:ga753f06add5574ae7a77f1e03796097d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaed5ff89636397bfbc0d418b9044c1837"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMBUS__Exported__Functions__Group2.html#gaed5ff89636397bfbc0d418b9044c1837">HAL_SMBUS_Slave_Transmit_IT</a> (<a class="el" href="group__SMBUS__handle__Structure__definition.html#gac9cb5ce45b4b5ca9380da7562ec2e09b">SMBUS_HandleTypeDef</a> *hsmbus, uint8_t *pData, uint16_t Size, uint32_t XferOptions)</td></tr>
<tr class="memdesc:gaed5ff89636397bfbc0d418b9044c1837"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit in slave/device SMBUS mode an amount of data in non-blocking mode with Interrupt.  <a href="group__SMBUS__Exported__Functions__Group2.html#gaed5ff89636397bfbc0d418b9044c1837">More...</a><br /></td></tr>
<tr class="separator:gaed5ff89636397bfbc0d418b9044c1837"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga989041d1840009faf569878c082b5a86"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMBUS__Exported__Functions__Group2.html#ga989041d1840009faf569878c082b5a86">HAL_SMBUS_Slave_Receive_IT</a> (<a class="el" href="group__SMBUS__handle__Structure__definition.html#gac9cb5ce45b4b5ca9380da7562ec2e09b">SMBUS_HandleTypeDef</a> *hsmbus, uint8_t *pData, uint16_t Size, uint32_t XferOptions)</td></tr>
<tr class="memdesc:ga989041d1840009faf569878c082b5a86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive in slave/device SMBUS mode an amount of data in non-blocking mode with Interrupt.  <a href="group__SMBUS__Exported__Functions__Group2.html#ga989041d1840009faf569878c082b5a86">More...</a><br /></td></tr>
<tr class="separator:ga989041d1840009faf569878c082b5a86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5be3f13c71b8bfcd3443b50d013c0766"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMBUS__Exported__Functions__Group2.html#ga5be3f13c71b8bfcd3443b50d013c0766">HAL_SMBUS_EnableListen_IT</a> (<a class="el" href="group__SMBUS__handle__Structure__definition.html#gac9cb5ce45b4b5ca9380da7562ec2e09b">SMBUS_HandleTypeDef</a> *hsmbus)</td></tr>
<tr class="memdesc:ga5be3f13c71b8bfcd3443b50d013c0766"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable the Address listen mode with Interrupt.  <a href="group__SMBUS__Exported__Functions__Group2.html#ga5be3f13c71b8bfcd3443b50d013c0766">More...</a><br /></td></tr>
<tr class="separator:ga5be3f13c71b8bfcd3443b50d013c0766"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1551c1e20a89997d55b9cb17ba256ea5"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMBUS__Exported__Functions__Group2.html#ga1551c1e20a89997d55b9cb17ba256ea5">HAL_SMBUS_DisableListen_IT</a> (<a class="el" href="group__SMBUS__handle__Structure__definition.html#gac9cb5ce45b4b5ca9380da7562ec2e09b">SMBUS_HandleTypeDef</a> *hsmbus)</td></tr>
<tr class="memdesc:ga1551c1e20a89997d55b9cb17ba256ea5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable the Address listen mode with Interrupt.  <a href="group__SMBUS__Exported__Functions__Group2.html#ga1551c1e20a89997d55b9cb17ba256ea5">More...</a><br /></td></tr>
<tr class="separator:ga1551c1e20a89997d55b9cb17ba256ea5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4e4e15f73f1a4b95e51ffe205cd832d8"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMBUS__Exported__Functions__Group2.html#ga4e4e15f73f1a4b95e51ffe205cd832d8">HAL_SMBUS_EnableAlert_IT</a> (<a class="el" href="group__SMBUS__handle__Structure__definition.html#gac9cb5ce45b4b5ca9380da7562ec2e09b">SMBUS_HandleTypeDef</a> *hsmbus)</td></tr>
<tr class="memdesc:ga4e4e15f73f1a4b95e51ffe205cd832d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable the SMBUS alert mode with Interrupt.  <a href="group__SMBUS__Exported__Functions__Group2.html#ga4e4e15f73f1a4b95e51ffe205cd832d8">More...</a><br /></td></tr>
<tr class="separator:ga4e4e15f73f1a4b95e51ffe205cd832d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga41168a506bce0b3d905c2c3c3d27db55"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMBUS__Exported__Functions__Group2.html#ga41168a506bce0b3d905c2c3c3d27db55">HAL_SMBUS_DisableAlert_IT</a> (<a class="el" href="group__SMBUS__handle__Structure__definition.html#gac9cb5ce45b4b5ca9380da7562ec2e09b">SMBUS_HandleTypeDef</a> *hsmbus)</td></tr>
<tr class="memdesc:ga41168a506bce0b3d905c2c3c3d27db55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable the SMBUS alert mode with Interrupt.  <a href="group__SMBUS__Exported__Functions__Group2.html#ga41168a506bce0b3d905c2c3c3d27db55">More...</a><br /></td></tr>
<tr class="separator:ga41168a506bce0b3d905c2c3c3d27db55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad1abc80d85c0e0fd9fa0ea66cc700321"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SMBUS__Exported__Functions__Group2.html#gad1abc80d85c0e0fd9fa0ea66cc700321">HAL_SMBUS_IsDeviceReady</a> (<a class="el" href="group__SMBUS__handle__Structure__definition.html#gac9cb5ce45b4b5ca9380da7562ec2e09b">SMBUS_HandleTypeDef</a> *hsmbus, uint16_t DevAddress, uint32_t Trials, uint32_t Timeout)</td></tr>
<tr class="memdesc:gad1abc80d85c0e0fd9fa0ea66cc700321"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if target device is ready for communication.  <a href="group__SMBUS__Exported__Functions__Group2.html#gad1abc80d85c0e0fd9fa0ea66cc700321">More...</a><br /></td></tr>
<tr class="separator:gad1abc80d85c0e0fd9fa0ea66cc700321"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Data transfers functions. </p>
<pre class="fragment"> ===============================================================================
                      ##### IO operation functions #####
 ===============================================================================
    [..]
    This subsection provides a set of functions allowing to manage the SMBUS data
    transfers.

    (#) Blocking mode function to check if device is ready for usage is :
        (++) HAL_SMBUS_IsDeviceReady()

    (#) There is only one mode of transfer:
       (++) Non-Blocking mode : The communication is performed using Interrupts.
            These functions return the status of the transfer startup.
            The end of the data processing will be indicated through the
            dedicated SMBUS IRQ when using Interrupt mode.

    (#) Non-Blocking mode functions with Interrupt are :
        (++) HAL_SMBUS_Master_Transmit_IT()
        (++) HAL_SMBUS_Master_Receive_IT()
        (++) HAL_SMBUS_Slave_Transmit_IT()
        (++) HAL_SMBUS_Slave_Receive_IT()
        (++) HAL_SMBUS_EnableListen_IT() or alias HAL_SMBUS_EnableListen_IT()
        (++) HAL_SMBUS_DisableListen_IT()
        (++) HAL_SMBUS_EnableAlert_IT()
        (++) HAL_SMBUS_DisableAlert_IT()

    (#) A set of Transfer Complete Callbacks are provided in non-Blocking mode:
        (++) HAL_SMBUS_MasterTxCpltCallback()
        (++) HAL_SMBUS_MasterRxCpltCallback()
        (++) HAL_SMBUS_SlaveTxCpltCallback()
        (++) HAL_SMBUS_SlaveRxCpltCallback()
        (++) HAL_SMBUS_AddrCallback()
        (++) HAL_SMBUS_ListenCpltCallback()
        (++) HAL_SMBUS_ErrorCallback()</pre> <h2 class="groupheader">Function Documentation</h2>
<a id="ga41168a506bce0b3d905c2c3c3d27db55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga41168a506bce0b3d905c2c3c3d27db55">&#9670;&nbsp;</a></span>HAL_SMBUS_DisableAlert_IT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_SMBUS_DisableAlert_IT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__SMBUS__handle__Structure__definition.html#gac9cb5ce45b4b5ca9380da7562ec2e09b">SMBUS_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hsmbus</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disable the SMBUS alert mode with Interrupt. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hsmbus</td><td>Pointer to a SMBUS_HandleTypeDef structure that contains the configuration information for the specified SMBUSx peripheral. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__smbus_8c_source.html#l01399">1399</a> of file <a class="el" href="stm32l4xx__hal__smbus_8c_source.html">stm32l4xx_hal_smbus.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;{</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;  <span class="comment">/* Enable SMBus alert */</span></div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;  hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#aa75325e5d1d4270b1aa44be956eaae77">Instance</a>-&gt;CR1 &amp;= ~I2C_CR1_ALERTEN;</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160; </div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;  <span class="comment">/* Disable Alert Interrupt */</span></div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;  <a class="code" href="group__SMBUS__Private__Functions.html#ga5ce679beb290d3003123e1b1602ca58d">SMBUS_Disable_IRQ</a>(hsmbus, SMBUS_IT_ALERT);</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160; </div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga1551c1e20a89997d55b9cb17ba256ea5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1551c1e20a89997d55b9cb17ba256ea5">&#9670;&nbsp;</a></span>HAL_SMBUS_DisableListen_IT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_SMBUS_DisableListen_IT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__SMBUS__handle__Structure__definition.html#gac9cb5ce45b4b5ca9380da7562ec2e09b">SMBUS_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hsmbus</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disable the Address listen mode with Interrupt. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hsmbus</td><td>Pointer to a SMBUS_HandleTypeDef structure that contains the configuration information for the specified SMBUS. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__smbus_8c_source.html#l01356">1356</a> of file <a class="el" href="stm32l4xx__hal__smbus_8c_source.html">stm32l4xx_hal_smbus.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;{</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;  <span class="comment">/* Disable Address listen mode only if a transfer is not ongoing */</span></div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;  <span class="keywordflow">if</span> (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> == HAL_SMBUS_STATE_LISTEN)</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;  {</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> = HAL_SMBUS_STATE_READY;</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160; </div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    <span class="comment">/* Disable the Address Match interrupt */</span></div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    <a class="code" href="group__SMBUS__Private__Functions.html#ga5ce679beb290d3003123e1b1602ca58d">SMBUS_Disable_IRQ</a>(hsmbus, SMBUS_IT_ADDR);</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160; </div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;  }</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;  {</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    <span class="keywordflow">return</span> HAL_BUSY;</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;  }</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga4e4e15f73f1a4b95e51ffe205cd832d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4e4e15f73f1a4b95e51ffe205cd832d8">&#9670;&nbsp;</a></span>HAL_SMBUS_EnableAlert_IT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_SMBUS_EnableAlert_IT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__SMBUS__handle__Structure__definition.html#gac9cb5ce45b4b5ca9380da7562ec2e09b">SMBUS_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hsmbus</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable the SMBUS alert mode with Interrupt. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hsmbus</td><td>Pointer to a SMBUS_HandleTypeDef structure that contains the configuration information for the specified SMBUSx peripheral. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__smbus_8c_source.html#l01380">1380</a> of file <a class="el" href="stm32l4xx__hal__smbus_8c_source.html">stm32l4xx_hal_smbus.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;{</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;  <span class="comment">/* Enable SMBus alert */</span></div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;  hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#aa75325e5d1d4270b1aa44be956eaae77">Instance</a>-&gt;CR1 |= I2C_CR1_ALERTEN;</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160; </div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;  <span class="comment">/* Clear ALERT flag */</span></div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;  __HAL_SMBUS_CLEAR_FLAG(hsmbus, SMBUS_FLAG_ALERT);</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160; </div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;  <span class="comment">/* Enable Alert Interrupt */</span></div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;  <a class="code" href="group__SMBUS__Private__Functions.html#ga097138835a112a370bd850315ce4adb3">SMBUS_Enable_IRQ</a>(hsmbus, SMBUS_IT_ALERT);</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160; </div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga5be3f13c71b8bfcd3443b50d013c0766"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5be3f13c71b8bfcd3443b50d013c0766">&#9670;&nbsp;</a></span>HAL_SMBUS_EnableListen_IT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_SMBUS_EnableListen_IT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__SMBUS__handle__Structure__definition.html#gac9cb5ce45b4b5ca9380da7562ec2e09b">SMBUS_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hsmbus</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable the Address listen mode with Interrupt. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hsmbus</td><td>Pointer to a SMBUS_HandleTypeDef structure that contains the configuration information for the specified SMBUS. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__smbus_8c_source.html#l01340">1340</a> of file <a class="el" href="stm32l4xx__hal__smbus_8c_source.html">stm32l4xx_hal_smbus.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;{</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;  hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> = HAL_SMBUS_STATE_LISTEN;</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160; </div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;  <span class="comment">/* Enable the Address Match interrupt */</span></div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;  <a class="code" href="group__SMBUS__Private__Functions.html#ga097138835a112a370bd850315ce4adb3">SMBUS_Enable_IRQ</a>(hsmbus, SMBUS_IT_ADDR);</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160; </div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gad1abc80d85c0e0fd9fa0ea66cc700321"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad1abc80d85c0e0fd9fa0ea66cc700321">&#9670;&nbsp;</a></span>HAL_SMBUS_IsDeviceReady()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_SMBUS_IsDeviceReady </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__SMBUS__handle__Structure__definition.html#gac9cb5ce45b4b5ca9380da7562ec2e09b">SMBUS_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hsmbus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>DevAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>Trials</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>Timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if target device is ready for communication. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hsmbus</td><td>Pointer to a SMBUS_HandleTypeDef structure that contains the configuration information for the specified SMBUS. </td></tr>
    <tr><td class="paramname">DevAddress</td><td>Target device address: The device 7 bits address value in datasheet must be shifted to the left before calling the interface </td></tr>
    <tr><td class="paramname">Trials</td><td>Number of trials </td></tr>
    <tr><td class="paramname">Timeout</td><td>Timeout duration </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__smbus_8c_source.html#l01420">1420</a> of file <a class="el" href="stm32l4xx__hal__smbus_8c_source.html">stm32l4xx_hal_smbus.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;{</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;  uint32_t tickstart;</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160; </div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;  __IO uint32_t SMBUS_Trials = 0UL;</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160; </div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;  FlagStatus tmp1;</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;  FlagStatus tmp2;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160; </div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;  <span class="keywordflow">if</span> (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> == HAL_SMBUS_STATE_READY)</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;  {</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    <span class="keywordflow">if</span> (__HAL_SMBUS_GET_FLAG(hsmbus, SMBUS_FLAG_BUSY) != RESET)</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    {</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;      <span class="keywordflow">return</span> HAL_BUSY;</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;    }</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160; </div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    <span class="comment">/* Process Locked */</span></div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(hsmbus);</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160; </div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> = HAL_SMBUS_STATE_BUSY;</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#ac89d133ea52f54c89e931d4c6944ad0d">ErrorCode</a> = HAL_SMBUS_ERROR_NONE;</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160; </div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;    <span class="keywordflow">do</span></div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    {</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;      <span class="comment">/* Generate Start */</span></div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#aa75325e5d1d4270b1aa44be956eaae77">Instance</a>-&gt;CR2 = SMBUS_GENERATE_START(hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a049aa45ebf0a64bafed2bca2f53e8caf">Init</a>.<a class="code" href="group__SMBUS__Configuration__Structure__definition.html#a5ea156478d5c03b1b9837f184b639c01">AddressingMode</a>, DevAddress);</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160; </div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;      <span class="comment">/* No need to Check TC flag, with AUTOEND mode the stop is automatically generated */</span></div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;      <span class="comment">/* Wait until STOPF flag is set or a NACK flag is set*/</span></div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;      tickstart = <a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>();</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160; </div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;      tmp1 = __HAL_SMBUS_GET_FLAG(hsmbus, SMBUS_FLAG_STOPF);</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;      tmp2 = __HAL_SMBUS_GET_FLAG(hsmbus, SMBUS_FLAG_AF);</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160; </div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;      <span class="keywordflow">while</span> ((tmp1 == RESET) &amp;&amp; (tmp2 == RESET))</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;      {</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;        <span class="keywordflow">if</span> (Timeout != HAL_MAX_DELAY)</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;        {</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;          <span class="keywordflow">if</span> (((<a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>() - tickstart) &gt; Timeout) || (Timeout == 0UL))</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;          {</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;            <span class="comment">/* Device is ready */</span></div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;            hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> = HAL_SMBUS_STATE_READY;</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160; </div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;            <span class="comment">/* Update SMBUS error code */</span></div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;            hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#ac89d133ea52f54c89e931d4c6944ad0d">ErrorCode</a> |= HAL_SMBUS_ERROR_HALTIMEOUT;</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160; </div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;            <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;            <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hsmbus);</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;            <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;          }</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;        }</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160; </div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;        tmp1 = __HAL_SMBUS_GET_FLAG(hsmbus, SMBUS_FLAG_STOPF);</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;        tmp2 = __HAL_SMBUS_GET_FLAG(hsmbus, SMBUS_FLAG_AF);</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;      }</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160; </div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;      <span class="comment">/* Check if the NACKF flag has not been set */</span></div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;      <span class="keywordflow">if</span> (__HAL_SMBUS_GET_FLAG(hsmbus, SMBUS_FLAG_AF) == RESET)</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;      {</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;        <span class="comment">/* Wait until STOPF flag is reset */</span></div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__SMBUS__Private__Functions.html#gaf7681b168ba210f27ce0c9d7c955f153">SMBUS_WaitOnFlagUntilTimeout</a>(hsmbus, SMBUS_FLAG_STOPF, RESET, Timeout) != <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;        {</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;          <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;        }</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160; </div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;        <span class="comment">/* Clear STOP Flag */</span></div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;        __HAL_SMBUS_CLEAR_FLAG(hsmbus, SMBUS_FLAG_STOPF);</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160; </div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;        <span class="comment">/* Device is ready */</span></div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;        hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> = HAL_SMBUS_STATE_READY;</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160; </div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;        <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;        <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hsmbus);</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160; </div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;      }</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;      {</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;        <span class="comment">/* Wait until STOPF flag is reset */</span></div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__SMBUS__Private__Functions.html#gaf7681b168ba210f27ce0c9d7c955f153">SMBUS_WaitOnFlagUntilTimeout</a>(hsmbus, SMBUS_FLAG_STOPF, RESET, Timeout) != <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;        {</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;          <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;        }</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160; </div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;        <span class="comment">/* Clear NACK Flag */</span></div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;        __HAL_SMBUS_CLEAR_FLAG(hsmbus, SMBUS_FLAG_AF);</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160; </div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;        <span class="comment">/* Clear STOP Flag, auto generated with autoend*/</span></div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;        __HAL_SMBUS_CLEAR_FLAG(hsmbus, SMBUS_FLAG_STOPF);</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;      }</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160; </div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;      <span class="comment">/* Check if the maximum allowed number of trials has been reached */</span></div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;      <span class="keywordflow">if</span> (SMBUS_Trials == Trials)</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;      {</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;        <span class="comment">/* Generate Stop */</span></div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;        hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#aa75325e5d1d4270b1aa44be956eaae77">Instance</a>-&gt;CR2 |= I2C_CR2_STOP;</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160; </div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;        <span class="comment">/* Wait until STOPF flag is reset */</span></div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__SMBUS__Private__Functions.html#gaf7681b168ba210f27ce0c9d7c955f153">SMBUS_WaitOnFlagUntilTimeout</a>(hsmbus, SMBUS_FLAG_STOPF, RESET, Timeout) != <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;        {</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;          <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;        }</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160; </div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;        <span class="comment">/* Clear STOP Flag */</span></div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;        __HAL_SMBUS_CLEAR_FLAG(hsmbus, SMBUS_FLAG_STOPF);</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;      }</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160; </div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;      <span class="comment">/* Increment Trials */</span></div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;      SMBUS_Trials++;</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    }</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    <span class="keywordflow">while</span> (SMBUS_Trials &lt; Trials);</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160; </div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> = HAL_SMBUS_STATE_READY;</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160; </div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;    <span class="comment">/* Update SMBUS error code */</span></div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#ac89d133ea52f54c89e931d4c6944ad0d">ErrorCode</a> |= HAL_SMBUS_ERROR_HALTIMEOUT;</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160; </div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hsmbus);</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160; </div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;    <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;  }</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;  {</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    <span class="keywordflow">return</span> HAL_BUSY;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;  }</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga753f06add5574ae7a77f1e03796097d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga753f06add5574ae7a77f1e03796097d5">&#9670;&nbsp;</a></span>HAL_SMBUS_Master_Abort_IT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_SMBUS_Master_Abort_IT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__SMBUS__handle__Structure__definition.html#gac9cb5ce45b4b5ca9380da7562ec2e09b">SMBUS_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hsmbus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>DevAddress</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Abort a master/host SMBUS process communication with Interrupt. </p>
<dl class="section note"><dt>Note</dt><dd>This abort can be called only if state is ready </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hsmbus</td><td>Pointer to a SMBUS_HandleTypeDef structure that contains the configuration information for the specified SMBUS. </td></tr>
    <tr><td class="paramname">DevAddress</td><td>Target device address: The device 7 bits address value in datasheet must be shifted to the left before calling the interface </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__smbus_8c_source.html#l01103">1103</a> of file <a class="el" href="stm32l4xx__hal__smbus_8c_source.html">stm32l4xx_hal_smbus.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;{</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;  <span class="keywordflow">if</span> (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> == HAL_SMBUS_STATE_READY)</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;  {</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <span class="comment">/* Process Locked */</span></div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(hsmbus);</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160; </div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <span class="comment">/* Keep the same state as previous */</span></div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    <span class="comment">/* to perform as well the call of the corresponding end of transfer callback */</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <span class="keywordflow">if</span> (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a798d6744ccf8e046801eb6b0185b382e">PreviousState</a> == HAL_SMBUS_STATE_MASTER_BUSY_TX)</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    {</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> = HAL_SMBUS_STATE_MASTER_BUSY_TX;</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    }</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a798d6744ccf8e046801eb6b0185b382e">PreviousState</a> == HAL_SMBUS_STATE_MASTER_BUSY_RX)</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    {</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> = HAL_SMBUS_STATE_MASTER_BUSY_RX;</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    }</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    {</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;      <span class="comment">/* Wrong usage of abort function */</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;      <span class="comment">/* This function should be used only in case of abort monitored by master device */</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;      <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    }</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#ac89d133ea52f54c89e931d4c6944ad0d">ErrorCode</a> = HAL_SMBUS_ERROR_NONE;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160; </div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <span class="comment">/* Set NBYTES to 1 to generate a dummy read on SMBUS peripheral */</span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    <span class="comment">/* Set AUTOEND mode, this will generate a NACK then STOP condition to abort the current transfer */</span></div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <a class="code" href="group__SMBUS__Private__Functions.html#ga18529fd6b5cb7c9875a009cb56791ad9">SMBUS_TransferConfig</a>(hsmbus, DevAddress, 1, SMBUS_AUTOEND_MODE, SMBUS_NO_STARTSTOP);</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160; </div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hsmbus);</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160; </div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    <span class="comment">/* Note : The SMBUS interrupts must be enabled after unlocking current process</span></div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;<span class="comment">              to avoid the risk of SMBUS interrupt handle execution before current</span></div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;<span class="comment">              process unlock */</span></div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    <span class="keywordflow">if</span> (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> == HAL_SMBUS_STATE_MASTER_BUSY_TX)</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    {</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;      <a class="code" href="group__SMBUS__Private__Functions.html#ga097138835a112a370bd850315ce4adb3">SMBUS_Enable_IRQ</a>(hsmbus, SMBUS_IT_TX);</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    }</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> == HAL_SMBUS_STATE_MASTER_BUSY_RX)</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    {</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;      <a class="code" href="group__SMBUS__Private__Functions.html#ga097138835a112a370bd850315ce4adb3">SMBUS_Enable_IRQ</a>(hsmbus, SMBUS_IT_RX);</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    }</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    {</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;      <span class="comment">/* Nothing to do */</span></div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    }</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160; </div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;  }</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;  {</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    <span class="keywordflow">return</span> HAL_BUSY;</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;  }</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gab9d8d52f797123b8d61ed44adf2b392e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab9d8d52f797123b8d61ed44adf2b392e">&#9670;&nbsp;</a></span>HAL_SMBUS_Master_Receive_IT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_SMBUS_Master_Receive_IT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__SMBUS__handle__Structure__definition.html#gac9cb5ce45b4b5ca9380da7562ec2e09b">SMBUS_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hsmbus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>DevAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>XferOptions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive in master/host SMBUS mode an amount of data in non-blocking mode with Interrupt. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hsmbus</td><td>Pointer to a SMBUS_HandleTypeDef structure that contains the configuration information for the specified SMBUS. </td></tr>
    <tr><td class="paramname">DevAddress</td><td>Target device address: The device 7 bits address value in datasheet must be shifted to the left before calling the interface </td></tr>
    <tr><td class="paramname">pData</td><td>Pointer to data buffer </td></tr>
    <tr><td class="paramname">Size</td><td>Amount of data to be sent </td></tr>
    <tr><td class="paramname">XferOptions</td><td>Options of Transfer, value of <a class="el" href="group__SMBUS__XferOptions__definition.html">SMBUS XferOptions definition</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__smbus_8c_source.html#l01013">1013</a> of file <a class="el" href="stm32l4xx__hal__smbus_8c_source.html">stm32l4xx_hal_smbus.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;{</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  uint32_t tmp;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160; </div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_SMBUS_TRANSFER_OPTIONS_REQUEST(XferOptions));</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160; </div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;  <span class="keywordflow">if</span> (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> == HAL_SMBUS_STATE_READY)</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  {</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    <span class="comment">/* Process Locked */</span></div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(hsmbus);</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160; </div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> = HAL_SMBUS_STATE_MASTER_BUSY_RX;</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#ac89d133ea52f54c89e931d4c6944ad0d">ErrorCode</a> = HAL_SMBUS_ERROR_NONE;</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160; </div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    <span class="comment">/* Prepare transfer parameters */</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a11ddebff2664a9ce6ddc87966a34d6dd">pBuffPtr</a> = pData;</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a04028e4c742c86e051abcba0854e9a4e">XferCount</a> = Size;</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a8d0b7062cdc7f83a02c2da15006f2657">XferOptions</a> = XferOptions;</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160; </div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    <span class="comment">/* In case of Quick command, remove autoend mode */</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    <span class="comment">/* Manage the stop generation by software */</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    <span class="keywordflow">if</span> (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a11ddebff2664a9ce6ddc87966a34d6dd">pBuffPtr</a> == NULL)</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    {</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a8d0b7062cdc7f83a02c2da15006f2657">XferOptions</a> &amp;= ~SMBUS_AUTOEND_MODE;</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    }</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160; </div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    <span class="keywordflow">if</span> (Size &gt; MAX_NBYTE_SIZE)</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    {</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a> = MAX_NBYTE_SIZE;</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    }</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    {</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a> = Size;</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    }</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160; </div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <span class="comment">/* Send Slave Address */</span></div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    <span class="comment">/* Set NBYTES to write and reload if size &gt; MAX_NBYTE_SIZE and generate RESTART */</span></div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    <span class="keywordflow">if</span> ((hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a> &lt; hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a04028e4c742c86e051abcba0854e9a4e">XferCount</a>) &amp;&amp; (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a> == MAX_NBYTE_SIZE))</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    {</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;      <a class="code" href="group__SMBUS__Private__Functions.html#ga18529fd6b5cb7c9875a009cb56791ad9">SMBUS_TransferConfig</a>(hsmbus, DevAddress, (uint8_t)hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a>, SMBUS_RELOAD_MODE  | (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a8d0b7062cdc7f83a02c2da15006f2657">XferOptions</a> &amp; SMBUS_SENDPEC_MODE), SMBUS_GENERATE_START_READ);</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    }</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    {</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;      <span class="comment">/* If transfer direction not change, do not generate Restart Condition */</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;      <span class="comment">/* Mean Previous state is same as current state */</span></div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160; </div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;      <span class="comment">/* Store current volatile XferOptions, Misra rule */</span></div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;      tmp = hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a8d0b7062cdc7f83a02c2da15006f2657">XferOptions</a>;</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160; </div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;      <span class="keywordflow">if</span> ((hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a798d6744ccf8e046801eb6b0185b382e">PreviousState</a> == HAL_SMBUS_STATE_MASTER_BUSY_RX) &amp;&amp; (IS_SMBUS_TRANSFER_OTHER_OPTIONS_REQUEST(tmp) == 0))</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;      {</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;        <a class="code" href="group__SMBUS__Private__Functions.html#ga18529fd6b5cb7c9875a009cb56791ad9">SMBUS_TransferConfig</a>(hsmbus, DevAddress, (uint8_t)hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a>, hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a8d0b7062cdc7f83a02c2da15006f2657">XferOptions</a>, SMBUS_NO_STARTSTOP);</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;      }</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;      <span class="comment">/* Else transfer direction change, so generate Restart with new transfer direction */</span></div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;      {</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        <span class="comment">/* Convert OTHER_xxx XferOptions if any */</span></div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;        <a class="code" href="group__SMBUS__Private__Functions.html#ga6ae495161b0f35c310814bf457d0ba30">SMBUS_ConvertOtherXferOptions</a>(hsmbus);</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160; </div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;        <span class="comment">/* Handle Transfer */</span></div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        <a class="code" href="group__SMBUS__Private__Functions.html#ga18529fd6b5cb7c9875a009cb56791ad9">SMBUS_TransferConfig</a>(hsmbus, DevAddress, (uint8_t)hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a>, hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a8d0b7062cdc7f83a02c2da15006f2657">XferOptions</a>, SMBUS_GENERATE_START_READ);</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;      }</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    }</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160; </div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hsmbus);</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160; </div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <span class="comment">/* Note : The SMBUS interrupts must be enabled after unlocking current process</span></div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;<span class="comment">              to avoid the risk of SMBUS interrupt handle execution before current</span></div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;<span class="comment">              process unlock */</span></div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <a class="code" href="group__SMBUS__Private__Functions.html#ga097138835a112a370bd850315ce4adb3">SMBUS_Enable_IRQ</a>(hsmbus, SMBUS_IT_RX);</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160; </div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;  }</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  {</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    <span class="keywordflow">return</span> HAL_BUSY;</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  }</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gacbf8f48c6a407d0c7c82fb5d37eb2b8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacbf8f48c6a407d0c7c82fb5d37eb2b8f">&#9670;&nbsp;</a></span>HAL_SMBUS_Master_Transmit_IT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_SMBUS_Master_Transmit_IT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__SMBUS__handle__Structure__definition.html#gac9cb5ce45b4b5ca9380da7562ec2e09b">SMBUS_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hsmbus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>DevAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>XferOptions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transmit in master/host SMBUS mode an amount of data in non-blocking mode with Interrupt. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hsmbus</td><td>Pointer to a SMBUS_HandleTypeDef structure that contains the configuration information for the specified SMBUS. </td></tr>
    <tr><td class="paramname">DevAddress</td><td>Target device address: The device 7 bits address value in datasheet must be shifted to the left before calling the interface </td></tr>
    <tr><td class="paramname">pData</td><td>Pointer to data buffer </td></tr>
    <tr><td class="paramname">Size</td><td>Amount of data to be sent </td></tr>
    <tr><td class="paramname">XferOptions</td><td>Options of Transfer, value of <a class="el" href="group__SMBUS__XferOptions__definition.html">SMBUS XferOptions definition</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__smbus_8c_source.html#l00914">914</a> of file <a class="el" href="stm32l4xx__hal__smbus_8c_source.html">stm32l4xx_hal_smbus.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;{</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  uint32_t tmp;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160; </div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_SMBUS_TRANSFER_OPTIONS_REQUEST(XferOptions));</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160; </div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  <span class="keywordflow">if</span> (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> == HAL_SMBUS_STATE_READY)</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  {</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    <span class="comment">/* Process Locked */</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(hsmbus);</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160; </div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> = HAL_SMBUS_STATE_MASTER_BUSY_TX;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#ac89d133ea52f54c89e931d4c6944ad0d">ErrorCode</a> = HAL_SMBUS_ERROR_NONE;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    <span class="comment">/* Prepare transfer parameters */</span></div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a11ddebff2664a9ce6ddc87966a34d6dd">pBuffPtr</a> = pData;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a04028e4c742c86e051abcba0854e9a4e">XferCount</a> = Size;</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a8d0b7062cdc7f83a02c2da15006f2657">XferOptions</a> = XferOptions;</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160; </div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    <span class="comment">/* In case of Quick command, remove autoend mode */</span></div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    <span class="comment">/* Manage the stop generation by software */</span></div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    <span class="keywordflow">if</span> (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a11ddebff2664a9ce6ddc87966a34d6dd">pBuffPtr</a> == NULL)</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    {</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a8d0b7062cdc7f83a02c2da15006f2657">XferOptions</a> &amp;= ~SMBUS_AUTOEND_MODE;</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    }</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160; </div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <span class="keywordflow">if</span> (Size &gt; MAX_NBYTE_SIZE)</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    {</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a> = MAX_NBYTE_SIZE;</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    }</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    {</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a> = Size;</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    }</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160; </div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <span class="comment">/* Send Slave Address */</span></div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <span class="comment">/* Set NBYTES to write and reload if size &gt; MAX_NBYTE_SIZE and generate RESTART */</span></div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    <span class="keywordflow">if</span> ((hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a> &lt; hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a04028e4c742c86e051abcba0854e9a4e">XferCount</a>) &amp;&amp; (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a> == MAX_NBYTE_SIZE))</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    {</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;      <a class="code" href="group__SMBUS__Private__Functions.html#ga18529fd6b5cb7c9875a009cb56791ad9">SMBUS_TransferConfig</a>(hsmbus, DevAddress, (uint8_t)hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a>, SMBUS_RELOAD_MODE | (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a8d0b7062cdc7f83a02c2da15006f2657">XferOptions</a> &amp; SMBUS_SENDPEC_MODE), SMBUS_GENERATE_START_WRITE);</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    }</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    {</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;      <span class="comment">/* If transfer direction not change, do not generate Restart Condition */</span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;      <span class="comment">/* Mean Previous state is same as current state */</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160; </div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;      <span class="comment">/* Store current volatile XferOptions, misra rule */</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;      tmp = hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a8d0b7062cdc7f83a02c2da15006f2657">XferOptions</a>;</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160; </div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;      <span class="keywordflow">if</span> ((hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a798d6744ccf8e046801eb6b0185b382e">PreviousState</a> == HAL_SMBUS_STATE_MASTER_BUSY_TX) &amp;&amp; (IS_SMBUS_TRANSFER_OTHER_OPTIONS_REQUEST(tmp) == 0))</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;      {</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;        <a class="code" href="group__SMBUS__Private__Functions.html#ga18529fd6b5cb7c9875a009cb56791ad9">SMBUS_TransferConfig</a>(hsmbus, DevAddress, (uint8_t)hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a>, hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a8d0b7062cdc7f83a02c2da15006f2657">XferOptions</a>, SMBUS_NO_STARTSTOP);</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;      }</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;      <span class="comment">/* Else transfer direction change, so generate Restart with new transfer direction */</span></div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;      {</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;        <span class="comment">/* Convert OTHER_xxx XferOptions if any */</span></div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        <a class="code" href="group__SMBUS__Private__Functions.html#ga6ae495161b0f35c310814bf457d0ba30">SMBUS_ConvertOtherXferOptions</a>(hsmbus);</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160; </div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        <span class="comment">/* Handle Transfer */</span></div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;        <a class="code" href="group__SMBUS__Private__Functions.html#ga18529fd6b5cb7c9875a009cb56791ad9">SMBUS_TransferConfig</a>(hsmbus, DevAddress, (uint8_t)hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a>, hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a8d0b7062cdc7f83a02c2da15006f2657">XferOptions</a>, SMBUS_GENERATE_START_WRITE);</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;      }</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160; </div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;      <span class="comment">/* If PEC mode is enable, size to transmit manage by SW part should be Size-1 byte, corresponding to PEC byte */</span></div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;      <span class="comment">/* PEC byte is automatically sent by HW block, no need to manage it in Transmit process */</span></div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;      <span class="keywordflow">if</span> (SMBUS_GET_PEC_MODE(hsmbus) != 0UL)</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;      {</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;        hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a>--;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a04028e4c742c86e051abcba0854e9a4e">XferCount</a>--;</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;      }</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    }</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160; </div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hsmbus);</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160; </div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    <span class="comment">/* Note : The SMBUS interrupts must be enabled after unlocking current process</span></div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;<span class="comment">              to avoid the risk of SMBUS interrupt handle execution before current</span></div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;<span class="comment">              process unlock */</span></div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    <a class="code" href="group__SMBUS__Private__Functions.html#ga097138835a112a370bd850315ce4adb3">SMBUS_Enable_IRQ</a>(hsmbus, SMBUS_IT_TX);</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160; </div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;  }</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  {</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="keywordflow">return</span> HAL_BUSY;</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  }</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga989041d1840009faf569878c082b5a86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga989041d1840009faf569878c082b5a86">&#9670;&nbsp;</a></span>HAL_SMBUS_Slave_Receive_IT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_SMBUS_Slave_Receive_IT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__SMBUS__handle__Structure__definition.html#gac9cb5ce45b4b5ca9380da7562ec2e09b">SMBUS_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hsmbus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>XferOptions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive in slave/device SMBUS mode an amount of data in non-blocking mode with Interrupt. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hsmbus</td><td>Pointer to a SMBUS_HandleTypeDef structure that contains the configuration information for the specified SMBUS. </td></tr>
    <tr><td class="paramname">pData</td><td>Pointer to data buffer </td></tr>
    <tr><td class="paramname">Size</td><td>Amount of data to be sent </td></tr>
    <tr><td class="paramname">XferOptions</td><td>Options of Transfer, value of <a class="el" href="group__SMBUS__XferOptions__definition.html">SMBUS XferOptions definition</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__smbus_8c_source.html#l01262">1262</a> of file <a class="el" href="stm32l4xx__hal__smbus_8c_source.html">stm32l4xx_hal_smbus.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;{</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_SMBUS_TRANSFER_OPTIONS_REQUEST(XferOptions));</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160; </div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;  <span class="keywordflow">if</span> ((hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> &amp; HAL_SMBUS_STATE_LISTEN) == HAL_SMBUS_STATE_LISTEN)</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;  {</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <span class="keywordflow">if</span> ((pData == NULL) || (Size == 0UL))</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    {</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#ac89d133ea52f54c89e931d4c6944ad0d">ErrorCode</a> = HAL_SMBUS_ERROR_INVALID_PARAM;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;      <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    }</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160; </div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    <span class="comment">/* Disable Interrupts, to prevent preemption during treatment in case of multicall */</span></div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    <a class="code" href="group__SMBUS__Private__Functions.html#ga5ce679beb290d3003123e1b1602ca58d">SMBUS_Disable_IRQ</a>(hsmbus, SMBUS_IT_ADDR | SMBUS_IT_RX);</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160; </div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    <span class="comment">/* Process Locked */</span></div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(hsmbus);</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160; </div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> = (HAL_SMBUS_STATE_SLAVE_BUSY_RX | HAL_SMBUS_STATE_LISTEN);</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#ac89d133ea52f54c89e931d4c6944ad0d">ErrorCode</a> = HAL_SMBUS_ERROR_NONE;</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160; </div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    <span class="comment">/* Set SBC bit to manage Acknowledge at each bit */</span></div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#aa75325e5d1d4270b1aa44be956eaae77">Instance</a>-&gt;CR1 |= I2C_CR1_SBC;</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160; </div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    <span class="comment">/* Enable Address Acknowledge */</span></div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#aa75325e5d1d4270b1aa44be956eaae77">Instance</a>-&gt;CR2 &amp;= ~I2C_CR2_NACK;</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160; </div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    <span class="comment">/* Prepare transfer parameters */</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a11ddebff2664a9ce6ddc87966a34d6dd">pBuffPtr</a> = pData;</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a> = Size;</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a04028e4c742c86e051abcba0854e9a4e">XferCount</a> = Size;</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a8d0b7062cdc7f83a02c2da15006f2657">XferOptions</a> = XferOptions;</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160; </div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    <span class="comment">/* Convert OTHER_xxx XferOptions if any */</span></div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    <a class="code" href="group__SMBUS__Private__Functions.html#ga6ae495161b0f35c310814bf457d0ba30">SMBUS_ConvertOtherXferOptions</a>(hsmbus);</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160; </div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    <span class="comment">/* Set NBYTE to receive */</span></div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    <span class="comment">/* If XferSize equal &quot;1&quot;, or XferSize equal &quot;2&quot; with PEC requested (mean 1 data byte + 1 PEC byte */</span></div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    <span class="comment">/* no need to set RELOAD bit mode, a ACK will be automatically generated in that case */</span></div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    <span class="comment">/* else need to set RELOAD bit mode to generate an automatic ACK at each byte Received */</span></div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    <span class="comment">/* This RELOAD bit will be reset for last BYTE to be receive in SMBUS_Slave_ISR */</span></div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <span class="keywordflow">if</span> (((SMBUS_GET_PEC_MODE(hsmbus) != 0UL) &amp;&amp; (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a> == 2U)) || (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a> == 1U))</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    {</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;      <a class="code" href="group__SMBUS__Private__Functions.html#ga18529fd6b5cb7c9875a009cb56791ad9">SMBUS_TransferConfig</a>(hsmbus, 0, (uint8_t)hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a>, hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a8d0b7062cdc7f83a02c2da15006f2657">XferOptions</a>, SMBUS_NO_STARTSTOP);</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    }</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    {</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;      <a class="code" href="group__SMBUS__Private__Functions.html#ga18529fd6b5cb7c9875a009cb56791ad9">SMBUS_TransferConfig</a>(hsmbus, 0, 1, hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a8d0b7062cdc7f83a02c2da15006f2657">XferOptions</a> | SMBUS_RELOAD_MODE, SMBUS_NO_STARTSTOP);</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    }</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160; </div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    <span class="comment">/* Clear ADDR flag after prepare the transfer parameters */</span></div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    <span class="comment">/* This action will generate an acknowledge to the HOST */</span></div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    __HAL_SMBUS_CLEAR_FLAG(hsmbus, SMBUS_FLAG_ADDR);</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160; </div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hsmbus);</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160; </div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    <span class="comment">/* Note : The SMBUS interrupts must be enabled after unlocking current process</span></div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;<span class="comment">              to avoid the risk of SMBUS interrupt handle execution before current</span></div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;<span class="comment">              process unlock */</span></div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    <span class="comment">/* REnable ADDR interrupt */</span></div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    <a class="code" href="group__SMBUS__Private__Functions.html#ga097138835a112a370bd850315ce4adb3">SMBUS_Enable_IRQ</a>(hsmbus, SMBUS_IT_RX | SMBUS_IT_ADDR);</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160; </div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;  }</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;  {</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    <span class="keywordflow">return</span> HAL_BUSY;</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;  }</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gaed5ff89636397bfbc0d418b9044c1837"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaed5ff89636397bfbc0d418b9044c1837">&#9670;&nbsp;</a></span>HAL_SMBUS_Slave_Transmit_IT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_SMBUS_Slave_Transmit_IT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__SMBUS__handle__Structure__definition.html#gac9cb5ce45b4b5ca9380da7562ec2e09b">SMBUS_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>hsmbus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>XferOptions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transmit in slave/device SMBUS mode an amount of data in non-blocking mode with Interrupt. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hsmbus</td><td>Pointer to a SMBUS_HandleTypeDef structure that contains the configuration information for the specified SMBUS. </td></tr>
    <tr><td class="paramname">pData</td><td>Pointer to data buffer </td></tr>
    <tr><td class="paramname">Size</td><td>Amount of data to be sent </td></tr>
    <tr><td class="paramname">XferOptions</td><td>Options of Transfer, value of <a class="el" href="group__SMBUS__XferOptions__definition.html">SMBUS XferOptions definition</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__smbus_8c_source.html#l01168">1168</a> of file <a class="el" href="stm32l4xx__hal__smbus_8c_source.html">stm32l4xx_hal_smbus.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;{</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  <span class="comment">/* Check the parameters */</span></div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a>(IS_SMBUS_TRANSFER_OPTIONS_REQUEST(XferOptions));</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160; </div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  <span class="keywordflow">if</span> ((hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> &amp; HAL_SMBUS_STATE_LISTEN) == HAL_SMBUS_STATE_LISTEN)</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  {</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    <span class="keywordflow">if</span> ((pData == NULL) || (Size == 0UL))</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    {</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#ac89d133ea52f54c89e931d4c6944ad0d">ErrorCode</a> = HAL_SMBUS_ERROR_INVALID_PARAM;</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;      <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    }</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160; </div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    <span class="comment">/* Disable Interrupts, to prevent preemption during treatment in case of multicall */</span></div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    <a class="code" href="group__SMBUS__Private__Functions.html#ga5ce679beb290d3003123e1b1602ca58d">SMBUS_Disable_IRQ</a>(hsmbus, SMBUS_IT_ADDR | SMBUS_IT_TX);</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160; </div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    <span class="comment">/* Process Locked */</span></div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(hsmbus);</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160; </div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">State</a> = (HAL_SMBUS_STATE_SLAVE_BUSY_TX | HAL_SMBUS_STATE_LISTEN);</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#ac89d133ea52f54c89e931d4c6944ad0d">ErrorCode</a> = HAL_SMBUS_ERROR_NONE;</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160; </div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    <span class="comment">/* Set SBC bit to manage Acknowledge at each bit */</span></div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#aa75325e5d1d4270b1aa44be956eaae77">Instance</a>-&gt;CR1 |= I2C_CR1_SBC;</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160; </div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    <span class="comment">/* Enable Address Acknowledge */</span></div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#aa75325e5d1d4270b1aa44be956eaae77">Instance</a>-&gt;CR2 &amp;= ~I2C_CR2_NACK;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160; </div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    <span class="comment">/* Prepare transfer parameters */</span></div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a11ddebff2664a9ce6ddc87966a34d6dd">pBuffPtr</a> = pData;</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a04028e4c742c86e051abcba0854e9a4e">XferCount</a> = Size;</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a8d0b7062cdc7f83a02c2da15006f2657">XferOptions</a> = XferOptions;</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160; </div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    <span class="comment">/* Convert OTHER_xxx XferOptions if any */</span></div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    <a class="code" href="group__SMBUS__Private__Functions.html#ga6ae495161b0f35c310814bf457d0ba30">SMBUS_ConvertOtherXferOptions</a>(hsmbus);</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160; </div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    <span class="keywordflow">if</span> (Size &gt; MAX_NBYTE_SIZE)</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    {</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a> = MAX_NBYTE_SIZE;</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    }</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    {</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;      hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a> = Size;</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    }</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160; </div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    <span class="comment">/* Set NBYTES to write and reload if size &gt; MAX_NBYTE_SIZE and generate RESTART */</span></div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <span class="keywordflow">if</span> ((hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a> &lt; hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a04028e4c742c86e051abcba0854e9a4e">XferCount</a>) &amp;&amp; (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a> == MAX_NBYTE_SIZE))</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    {</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;      <a class="code" href="group__SMBUS__Private__Functions.html#ga18529fd6b5cb7c9875a009cb56791ad9">SMBUS_TransferConfig</a>(hsmbus, 0, (uint8_t)hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a>, SMBUS_RELOAD_MODE | (hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a8d0b7062cdc7f83a02c2da15006f2657">XferOptions</a> &amp; SMBUS_SENDPEC_MODE), SMBUS_NO_STARTSTOP);</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    }</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    {</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;      <span class="comment">/* Set NBYTE to transmit */</span></div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;      <a class="code" href="group__SMBUS__Private__Functions.html#ga18529fd6b5cb7c9875a009cb56791ad9">SMBUS_TransferConfig</a>(hsmbus, 0, (uint8_t)hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a>, hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a8d0b7062cdc7f83a02c2da15006f2657">XferOptions</a>, SMBUS_NO_STARTSTOP);</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160; </div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;      <span class="comment">/* If PEC mode is enable, size to transmit should be Size-1 byte, corresponding to PEC byte */</span></div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;      <span class="comment">/* PEC byte is automatically sent by HW block, no need to manage it in Transmit process */</span></div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;      <span class="keywordflow">if</span> (SMBUS_GET_PEC_MODE(hsmbus) != 0UL)</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;      {</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;        hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">XferSize</a>--;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;        hsmbus-&gt;<a class="code" href="group__SMBUS__handle__Structure__definition.html#a04028e4c742c86e051abcba0854e9a4e">XferCount</a>--;</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;      }</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    }</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160; </div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    <span class="comment">/* Clear ADDR flag after prepare the transfer parameters */</span></div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    <span class="comment">/* This action will generate an acknowledge to the HOST */</span></div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    __HAL_SMBUS_CLEAR_FLAG(hsmbus, SMBUS_FLAG_ADDR);</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160; </div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(hsmbus);</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160; </div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    <span class="comment">/* Note : The SMBUS interrupts must be enabled after unlocking current process</span></div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;<span class="comment">              to avoid the risk of SMBUS interrupt handle execution before current</span></div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;<span class="comment">              process unlock */</span></div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    <span class="comment">/* REnable ADDR interrupt */</span></div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    <a class="code" href="group__SMBUS__Private__Functions.html#ga097138835a112a370bd850315ce4adb3">SMBUS_Enable_IRQ</a>(hsmbus, SMBUS_IT_TX | SMBUS_IT_ADDR);</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160; </div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  }</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;  {</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    <span class="keywordflow">return</span> HAL_BUSY;</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;  }</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="agroup__SMBUS__Private__Functions_html_ga097138835a112a370bd850315ce4adb3"><div class="ttname"><a href="group__SMBUS__Private__Functions.html#ga097138835a112a370bd850315ce4adb3">SMBUS_Enable_IRQ</a></div><div class="ttdeci">static void SMBUS_Enable_IRQ(struct __SMBUS_HandleTypeDef *hsmbus, uint32_t InterruptRequest)</div><div class="ttdoc">Manage the enabling of Interrupts.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8c_source.html#l02344">stm32l4xx_hal_smbus.c:2344</a></div></div>
<div class="ttc" id="agroup__SMBUS__handle__Structure__definition_html_a3d9bde0af5ad8f473ff6b201c6eebf4a"><div class="ttname"><a href="group__SMBUS__handle__Structure__definition.html#a3d9bde0af5ad8f473ff6b201c6eebf4a">__SMBUS_HandleTypeDef::XferSize</a></div><div class="ttdeci">uint16_t XferSize</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8h_source.html#l00143">stm32l4xx_hal_smbus.h:143</a></div></div>
<div class="ttc" id="agroup__RTCEx__Exported__Functions__Group2_html_ga3feac430acb1b5e74ad139639f3af9ca"><div class="ttname"><a href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a></div><div class="ttdeci">__HAL_UNLOCK(hrtc)</div></div>
<div class="ttc" id="agroup__SMBUS__handle__Structure__definition_html_a049aa45ebf0a64bafed2bca2f53e8caf"><div class="ttname"><a href="group__SMBUS__handle__Structure__definition.html#a049aa45ebf0a64bafed2bca2f53e8caf">__SMBUS_HandleTypeDef::Init</a></div><div class="ttdeci">SMBUS_InitTypeDef Init</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8h_source.html#l00139">stm32l4xx_hal_smbus.h:139</a></div></div>
<div class="ttc" id="agroup__SMBUS__handle__Structure__definition_html_a11ddebff2664a9ce6ddc87966a34d6dd"><div class="ttname"><a href="group__SMBUS__handle__Structure__definition.html#a11ddebff2664a9ce6ddc87966a34d6dd">__SMBUS_HandleTypeDef::pBuffPtr</a></div><div class="ttdeci">uint8_t * pBuffPtr</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8h_source.html#l00141">stm32l4xx_hal_smbus.h:141</a></div></div>
<div class="ttc" id="agroup__SMBUS__Private__Functions_html_ga5ce679beb290d3003123e1b1602ca58d"><div class="ttname"><a href="group__SMBUS__Private__Functions.html#ga5ce679beb290d3003123e1b1602ca58d">SMBUS_Disable_IRQ</a></div><div class="ttdeci">static void SMBUS_Disable_IRQ(struct __SMBUS_HandleTypeDef *hsmbus, uint32_t InterruptRequest)</div><div class="ttdoc">Manage the disabling of Interrupts.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8c_source.html#l02384">stm32l4xx_hal_smbus.c:2384</a></div></div>
<div class="ttc" id="agroup__SMBUS__handle__Structure__definition_html_a67e1ae2c9bc62052a8dc1f7ed179a07c"><div class="ttname"><a href="group__SMBUS__handle__Structure__definition.html#a67e1ae2c9bc62052a8dc1f7ed179a07c">__SMBUS_HandleTypeDef::State</a></div><div class="ttdeci">__IO uint32_t State</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8h_source.html#l00153">stm32l4xx_hal_smbus.h:153</a></div></div>
<div class="ttc" id="agroup__SMBUS__handle__Structure__definition_html_a8d0b7062cdc7f83a02c2da15006f2657"><div class="ttname"><a href="group__SMBUS__handle__Structure__definition.html#a8d0b7062cdc7f83a02c2da15006f2657">__SMBUS_HandleTypeDef::XferOptions</a></div><div class="ttdeci">__IO uint32_t XferOptions</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8h_source.html#l00147">stm32l4xx_hal_smbus.h:147</a></div></div>
<div class="ttc" id="agroup__HAL__Exported__Functions__Group2_html_gac9b3a85a73735ac840d0dcb59bc0fdd6"><div class="ttname"><a href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a></div><div class="ttdeci">uint32_t HAL_GetTick(void)</div><div class="ttdoc">Provide a tick value in millisecond.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal_8c_source.html#l00337">stm32l4xx_hal.c:337</a></div></div>
<div class="ttc" id="agroup__SMBUS__Private__Functions_html_gaf7681b168ba210f27ce0c9d7c955f153"><div class="ttname"><a href="group__SMBUS__Private__Functions.html#gaf7681b168ba210f27ce0c9d7c955f153">SMBUS_WaitOnFlagUntilTimeout</a></div><div class="ttdeci">static HAL_StatusTypeDef SMBUS_WaitOnFlagUntilTimeout(struct __SMBUS_HandleTypeDef *hsmbus, uint32_t Flag, FlagStatus Status, uint32_t Timeout)</div><div class="ttdoc">Handle SMBUS Communication Timeout.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8c_source.html#l02557">stm32l4xx_hal_smbus.c:2557</a></div></div>
<div class="ttc" id="agroup__SMBUS__Private__Functions_html_ga6ae495161b0f35c310814bf457d0ba30"><div class="ttname"><a href="group__SMBUS__Private__Functions.html#ga6ae495161b0f35c310814bf457d0ba30">SMBUS_ConvertOtherXferOptions</a></div><div class="ttdeci">static void SMBUS_ConvertOtherXferOptions(struct __SMBUS_HandleTypeDef *hsmbus)</div><div class="ttdoc">Convert SMBUSx OTHER_xxx XferOptions to functionnal XferOptions.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8c_source.html#l02623">stm32l4xx_hal_smbus.c:2623</a></div></div>
<div class="ttc" id="agroup__SMBUS__handle__Structure__definition_html_a798d6744ccf8e046801eb6b0185b382e"><div class="ttname"><a href="group__SMBUS__handle__Structure__definition.html#a798d6744ccf8e046801eb6b0185b382e">__SMBUS_HandleTypeDef::PreviousState</a></div><div class="ttdeci">__IO uint32_t PreviousState</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8h_source.html#l00149">stm32l4xx_hal_smbus.h:149</a></div></div>
<div class="ttc" id="agroup__SMBUS__Configuration__Structure__definition_html_a5ea156478d5c03b1b9837f184b639c01"><div class="ttname"><a href="group__SMBUS__Configuration__Structure__definition.html#a5ea156478d5c03b1b9837f184b639c01">SMBUS_InitTypeDef::AddressingMode</a></div><div class="ttdeci">uint32_t AddressingMode</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8h_source.html#l00059">stm32l4xx_hal_smbus.h:59</a></div></div>
<div class="ttc" id="agroup__RTCEx__Exported__Functions__Group2_html_ga05dcbf41f5c5e42a592e9ad9e351391e"><div class="ttname"><a href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a></div><div class="ttdeci">return HAL_OK</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__rtc__ex_8c_source.html#l00885">stm32l4xx_hal_rtc_ex.c:885</a></div></div>
<div class="ttc" id="agroup__SMBUS__handle__Structure__definition_html_aa75325e5d1d4270b1aa44be956eaae77"><div class="ttname"><a href="group__SMBUS__handle__Structure__definition.html#aa75325e5d1d4270b1aa44be956eaae77">__SMBUS_HandleTypeDef::Instance</a></div><div class="ttdeci">I2C_TypeDef * Instance</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8h_source.html#l00137">stm32l4xx_hal_smbus.h:137</a></div></div>
<div class="ttc" id="agroup__SMBUS__handle__Structure__definition_html_ac89d133ea52f54c89e931d4c6944ad0d"><div class="ttname"><a href="group__SMBUS__handle__Structure__definition.html#ac89d133ea52f54c89e931d4c6944ad0d">__SMBUS_HandleTypeDef::ErrorCode</a></div><div class="ttdeci">__IO uint32_t ErrorCode</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8h_source.html#l00155">stm32l4xx_hal_smbus.h:155</a></div></div>
<div class="ttc" id="agroup__SMBUS__handle__Structure__definition_html_a04028e4c742c86e051abcba0854e9a4e"><div class="ttname"><a href="group__SMBUS__handle__Structure__definition.html#a04028e4c742c86e051abcba0854e9a4e">__SMBUS_HandleTypeDef::XferCount</a></div><div class="ttdeci">__IO uint16_t XferCount</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8h_source.html#l00145">stm32l4xx_hal_smbus.h:145</a></div></div>
<div class="ttc" id="agroup__SMBUS__Private__Functions_html_ga18529fd6b5cb7c9875a009cb56791ad9"><div class="ttname"><a href="group__SMBUS__Private__Functions.html#ga18529fd6b5cb7c9875a009cb56791ad9">SMBUS_TransferConfig</a></div><div class="ttdeci">static void SMBUS_TransferConfig(struct __SMBUS_HandleTypeDef *hsmbus, uint16_t DevAddress, uint8_t Size, uint32_t Mode, uint32_t Request)</div><div class="ttdoc">Handle SMBUSx communication when starting transfer or during transfer (TC or TCR flag are set).</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__smbus_8c_source.html#l02606">stm32l4xx_hal_smbus.c:2606</a></div></div>
<div class="ttc" id="agroup__RTCEx__Exported__Functions__Group2_html_ga88b8891e30e4b1c54fecb1235c95870d"><div class="ttname"><a href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a></div><div class="ttdeci">__HAL_LOCK(hrtc)</div></div>
<div class="ttc" id="agroup__RTCEx__Exported__Functions__Group2_html_ga2b23ae77e9ce099e35aaa5e9e0daba7b"><div class="ttname"><a href="group__RTCEx__Exported__Functions__Group2.html#ga2b23ae77e9ce099e35aaa5e9e0daba7b">assert_param</a></div><div class="ttdeci">assert_param(IS_RTC_WAKEUP_CLOCK(WakeUpClock))</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.16 </li>
  </ul>
</div>
</body>
</html>
