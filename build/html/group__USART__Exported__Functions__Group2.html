<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STM32L4xx_HAL_Driver: IO operation functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">STM32L4xx_HAL_Driver
   &#160;<span id="projectnumber">1.14.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__USART__Exported__Functions__Group2.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">IO operation functions<div class="ingroups"><a class="el" href="group__STM32L4xx__HAL__Driver.html">STM32L4xx_HAL_Driver</a> &raquo; <a class="el" href="group__USART.html">USART</a> &raquo; <a class="el" href="group__USART__Exported__Functions.html">USART Exported Functions</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>USART Transmit and Receive functions.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaa80425d3a8fa74a17f74cb03a3c2ad05"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USART__Exported__Functions__Group2.html#gaa80425d3a8fa74a17f74cb03a3c2ad05">HAL_USART_Transmit</a> (<a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *husart, uint8_t *pTxData, uint16_t Size, uint32_t Timeout)</td></tr>
<tr class="memdesc:gaa80425d3a8fa74a17f74cb03a3c2ad05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simplex send an amount of data in blocking mode.  <a href="group__USART__Exported__Functions__Group2.html#gaa80425d3a8fa74a17f74cb03a3c2ad05">More...</a><br /></td></tr>
<tr class="separator:gaa80425d3a8fa74a17f74cb03a3c2ad05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1da8a5ce515c18b9960d366812bf737e"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USART__Exported__Functions__Group2.html#ga1da8a5ce515c18b9960d366812bf737e">HAL_USART_Receive</a> (<a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *husart, uint8_t *pRxData, uint16_t Size, uint32_t Timeout)</td></tr>
<tr class="memdesc:ga1da8a5ce515c18b9960d366812bf737e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive an amount of data in blocking mode.  <a href="group__USART__Exported__Functions__Group2.html#ga1da8a5ce515c18b9960d366812bf737e">More...</a><br /></td></tr>
<tr class="separator:ga1da8a5ce515c18b9960d366812bf737e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad6da6800e21d17bd021f5d0cc068f271"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USART__Exported__Functions__Group2.html#gad6da6800e21d17bd021f5d0cc068f271">HAL_USART_TransmitReceive</a> (<a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *husart, uint8_t *pTxData, uint8_t *pRxData, uint16_t Size, uint32_t Timeout)</td></tr>
<tr class="memdesc:gad6da6800e21d17bd021f5d0cc068f271"><td class="mdescLeft">&#160;</td><td class="mdescRight">Full-Duplex Send and Receive an amount of data in blocking mode.  <a href="group__USART__Exported__Functions__Group2.html#gad6da6800e21d17bd021f5d0cc068f271">More...</a><br /></td></tr>
<tr class="separator:gad6da6800e21d17bd021f5d0cc068f271"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaee43a3d0faab6467aea5663f8b0e87b0"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USART__Exported__Functions__Group2.html#gaee43a3d0faab6467aea5663f8b0e87b0">HAL_USART_Transmit_IT</a> (<a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *husart, uint8_t *pTxData, uint16_t Size)</td></tr>
<tr class="memdesc:gaee43a3d0faab6467aea5663f8b0e87b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an amount of data in interrupt mode.  <a href="group__USART__Exported__Functions__Group2.html#gaee43a3d0faab6467aea5663f8b0e87b0">More...</a><br /></td></tr>
<tr class="separator:gaee43a3d0faab6467aea5663f8b0e87b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga19816dd7809a5dba59f309172cb7ea2d"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USART__Exported__Functions__Group2.html#ga19816dd7809a5dba59f309172cb7ea2d">HAL_USART_Receive_IT</a> (<a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *husart, uint8_t *pRxData, uint16_t Size)</td></tr>
<tr class="memdesc:ga19816dd7809a5dba59f309172cb7ea2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive an amount of data in interrupt mode.  <a href="group__USART__Exported__Functions__Group2.html#ga19816dd7809a5dba59f309172cb7ea2d">More...</a><br /></td></tr>
<tr class="separator:ga19816dd7809a5dba59f309172cb7ea2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf67f2b883594afd0027f10a518a3f595"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USART__Exported__Functions__Group2.html#gaf67f2b883594afd0027f10a518a3f595">HAL_USART_TransmitReceive_IT</a> (<a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *husart, uint8_t *pTxData, uint8_t *pRxData, uint16_t Size)</td></tr>
<tr class="memdesc:gaf67f2b883594afd0027f10a518a3f595"><td class="mdescLeft">&#160;</td><td class="mdescRight">Full-Duplex Send and Receive an amount of data in interrupt mode.  <a href="group__USART__Exported__Functions__Group2.html#gaf67f2b883594afd0027f10a518a3f595">More...</a><br /></td></tr>
<tr class="separator:gaf67f2b883594afd0027f10a518a3f595"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3d52e7ec93f6111e87c11daa8c00d1a1"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USART__Exported__Functions__Group2.html#ga3d52e7ec93f6111e87c11daa8c00d1a1">HAL_USART_Transmit_DMA</a> (<a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *husart, uint8_t *pTxData, uint16_t Size)</td></tr>
<tr class="memdesc:ga3d52e7ec93f6111e87c11daa8c00d1a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an amount of data in DMA mode.  <a href="group__USART__Exported__Functions__Group2.html#ga3d52e7ec93f6111e87c11daa8c00d1a1">More...</a><br /></td></tr>
<tr class="separator:ga3d52e7ec93f6111e87c11daa8c00d1a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab0322771e1ddbb8c2ac6dd75e7e1c90e"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USART__Exported__Functions__Group2.html#gab0322771e1ddbb8c2ac6dd75e7e1c90e">HAL_USART_Receive_DMA</a> (<a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *husart, uint8_t *pRxData, uint16_t Size)</td></tr>
<tr class="memdesc:gab0322771e1ddbb8c2ac6dd75e7e1c90e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive an amount of data in DMA mode.  <a href="group__USART__Exported__Functions__Group2.html#gab0322771e1ddbb8c2ac6dd75e7e1c90e">More...</a><br /></td></tr>
<tr class="separator:gab0322771e1ddbb8c2ac6dd75e7e1c90e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8ad37a3c54b720f1f0a2a32dafcac6df"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USART__Exported__Functions__Group2.html#ga8ad37a3c54b720f1f0a2a32dafcac6df">HAL_USART_TransmitReceive_DMA</a> (<a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *husart, uint8_t *pTxData, uint8_t *pRxData, uint16_t Size)</td></tr>
<tr class="memdesc:ga8ad37a3c54b720f1f0a2a32dafcac6df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Full-Duplex Transmit Receive an amount of data in non-blocking mode.  <a href="group__USART__Exported__Functions__Group2.html#ga8ad37a3c54b720f1f0a2a32dafcac6df">More...</a><br /></td></tr>
<tr class="separator:ga8ad37a3c54b720f1f0a2a32dafcac6df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab6d960d952daee0b6aa82fbf0a4b61b0"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USART__Exported__Functions__Group2.html#gab6d960d952daee0b6aa82fbf0a4b61b0">HAL_USART_DMAPause</a> (<a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *husart)</td></tr>
<tr class="memdesc:gab6d960d952daee0b6aa82fbf0a4b61b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pause the DMA Transfer.  <a href="group__USART__Exported__Functions__Group2.html#gab6d960d952daee0b6aa82fbf0a4b61b0">More...</a><br /></td></tr>
<tr class="separator:gab6d960d952daee0b6aa82fbf0a4b61b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga20e7a0e7864825eb18c9ee57a4e63fb7"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USART__Exported__Functions__Group2.html#ga20e7a0e7864825eb18c9ee57a4e63fb7">HAL_USART_DMAResume</a> (<a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *husart)</td></tr>
<tr class="memdesc:ga20e7a0e7864825eb18c9ee57a4e63fb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resume the DMA Transfer.  <a href="group__USART__Exported__Functions__Group2.html#ga20e7a0e7864825eb18c9ee57a4e63fb7">More...</a><br /></td></tr>
<tr class="separator:ga20e7a0e7864825eb18c9ee57a4e63fb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabeaf40f697cb852cb54a3ad81df4375e"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USART__Exported__Functions__Group2.html#gabeaf40f697cb852cb54a3ad81df4375e">HAL_USART_DMAStop</a> (<a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *husart)</td></tr>
<tr class="memdesc:gabeaf40f697cb852cb54a3ad81df4375e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop the DMA Transfer.  <a href="group__USART__Exported__Functions__Group2.html#gabeaf40f697cb852cb54a3ad81df4375e">More...</a><br /></td></tr>
<tr class="separator:gabeaf40f697cb852cb54a3ad81df4375e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaa1acf7fb356bce3e06b2df77b317c9d"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USART__Exported__Functions__Group2.html#gaaa1acf7fb356bce3e06b2df77b317c9d">HAL_USART_Abort</a> (<a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *husart)</td></tr>
<tr class="memdesc:gaaa1acf7fb356bce3e06b2df77b317c9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Abort ongoing transfers (blocking mode).  <a href="group__USART__Exported__Functions__Group2.html#gaaa1acf7fb356bce3e06b2df77b317c9d">More...</a><br /></td></tr>
<tr class="separator:gaaa1acf7fb356bce3e06b2df77b317c9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacaa3343ed3decaff634e87f9a30682b7"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USART__Exported__Functions__Group2.html#gacaa3343ed3decaff634e87f9a30682b7">HAL_USART_Abort_IT</a> (<a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *husart)</td></tr>
<tr class="memdesc:gacaa3343ed3decaff634e87f9a30682b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Abort ongoing transfers (Interrupt mode).  <a href="group__USART__Exported__Functions__Group2.html#gacaa3343ed3decaff634e87f9a30682b7">More...</a><br /></td></tr>
<tr class="separator:gacaa3343ed3decaff634e87f9a30682b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4ac0981601603af111c7e59db1680ace"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USART__Exported__Functions__Group2.html#ga4ac0981601603af111c7e59db1680ace">HAL_USART_IRQHandler</a> (<a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *husart)</td></tr>
<tr class="memdesc:ga4ac0981601603af111c7e59db1680ace"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle USART interrupt request.  <a href="group__USART__Exported__Functions__Group2.html#ga4ac0981601603af111c7e59db1680ace">More...</a><br /></td></tr>
<tr class="separator:ga4ac0981601603af111c7e59db1680ace"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaceafca68a695b32a996c4ab826eb07e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USART__Exported__Functions__Group2.html#gaaceafca68a695b32a996c4ab826eb07e">HAL_USART_TxHalfCpltCallback</a> (<a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *husart)</td></tr>
<tr class="memdesc:gaaceafca68a695b32a996c4ab826eb07e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tx Half Transfer completed callback.  <a href="group__USART__Exported__Functions__Group2.html#gaaceafca68a695b32a996c4ab826eb07e">More...</a><br /></td></tr>
<tr class="separator:gaaceafca68a695b32a996c4ab826eb07e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac10ab92d62f031a705a69f817481bc77"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USART__Exported__Functions__Group2.html#gac10ab92d62f031a705a69f817481bc77">HAL_USART_TxCpltCallback</a> (<a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *husart)</td></tr>
<tr class="memdesc:gac10ab92d62f031a705a69f817481bc77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tx Transfer completed callback.  <a href="group__USART__Exported__Functions__Group2.html#gac10ab92d62f031a705a69f817481bc77">More...</a><br /></td></tr>
<tr class="separator:gac10ab92d62f031a705a69f817481bc77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga758d52f84a345159fad4abb513652b49"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USART__Exported__Functions__Group2.html#ga758d52f84a345159fad4abb513652b49">HAL_USART_RxCpltCallback</a> (<a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *husart)</td></tr>
<tr class="memdesc:ga758d52f84a345159fad4abb513652b49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rx Transfer completed callback.  <a href="group__USART__Exported__Functions__Group2.html#ga758d52f84a345159fad4abb513652b49">More...</a><br /></td></tr>
<tr class="separator:ga758d52f84a345159fad4abb513652b49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacb5b420845e16d30d4ae6736f5f6c250"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USART__Exported__Functions__Group2.html#gacb5b420845e16d30d4ae6736f5f6c250">HAL_USART_RxHalfCpltCallback</a> (<a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *husart)</td></tr>
<tr class="memdesc:gacb5b420845e16d30d4ae6736f5f6c250"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rx Half Transfer completed callback.  <a href="group__USART__Exported__Functions__Group2.html#gacb5b420845e16d30d4ae6736f5f6c250">More...</a><br /></td></tr>
<tr class="separator:gacb5b420845e16d30d4ae6736f5f6c250"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga307a8a22bd3f892ba8417280f62efaa3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USART__Exported__Functions__Group2.html#ga307a8a22bd3f892ba8417280f62efaa3">HAL_USART_TxRxCpltCallback</a> (<a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *husart)</td></tr>
<tr class="memdesc:ga307a8a22bd3f892ba8417280f62efaa3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tx/Rx Transfers completed callback for the non-blocking process.  <a href="group__USART__Exported__Functions__Group2.html#ga307a8a22bd3f892ba8417280f62efaa3">More...</a><br /></td></tr>
<tr class="separator:ga307a8a22bd3f892ba8417280f62efaa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6886a45a724a2180a8002366ecf46a9d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USART__Exported__Functions__Group2.html#ga6886a45a724a2180a8002366ecf46a9d">HAL_USART_ErrorCallback</a> (<a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *husart)</td></tr>
<tr class="memdesc:ga6886a45a724a2180a8002366ecf46a9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">USART error callback.  <a href="group__USART__Exported__Functions__Group2.html#ga6886a45a724a2180a8002366ecf46a9d">More...</a><br /></td></tr>
<tr class="separator:ga6886a45a724a2180a8002366ecf46a9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac6e067472d6e7771e7ab3bc4e230f91a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USART__Exported__Functions__Group2.html#gac6e067472d6e7771e7ab3bc4e230f91a">HAL_USART_AbortCpltCallback</a> (<a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *husart)</td></tr>
<tr class="memdesc:gac6e067472d6e7771e7ab3bc4e230f91a"><td class="mdescLeft">&#160;</td><td class="mdescRight">USART Abort Complete callback.  <a href="group__USART__Exported__Functions__Group2.html#gac6e067472d6e7771e7ab3bc4e230f91a">More...</a><br /></td></tr>
<tr class="separator:gac6e067472d6e7771e7ab3bc4e230f91a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>USART Transmit and Receive functions. </p>
<pre class="fragment"> ===============================================================================
                      ##### IO operation functions #####
 ===============================================================================
    [..] This subsection provides a set of functions allowing to manage the USART synchronous
    data transfers.

    [..] The USART supports master mode only: it cannot receive or send data related to an input
         clock (SCLK is always an output).

    [..]

    (#) There are two modes of transfer:
        (++) Blocking mode: The communication is performed in polling mode.
             The HAL status of all data processing is returned by the same function
             after finishing transfer.
        (++) No-Blocking mode: The communication is performed using Interrupts
             or DMA, These API's return the HAL status.
             The end of the data processing will be indicated through the
             dedicated USART IRQ when using Interrupt mode or the DMA IRQ when
             using DMA mode.
             The HAL_USART_TxCpltCallback(), HAL_USART_RxCpltCallback() and HAL_USART_TxRxCpltCallback() user callbacks
             will be executed respectively at the end of the transmit or Receive process
             The HAL_USART_ErrorCallback()user callback will be executed when a communication error is detected

    (#) Blocking mode API's are :
        (++) HAL_USART_Transmit() in simplex mode
        (++) HAL_USART_Receive() in full duplex receive only
        (++) HAL_USART_TransmitReceive() in full duplex mode

    (#) Non-Blocking mode API's with Interrupt are :
        (++) HAL_USART_Transmit_IT() in simplex mode
        (++) HAL_USART_Receive_IT() in full duplex receive only
        (++) HAL_USART_TransmitReceive_IT() in full duplex mode
        (++) HAL_USART_IRQHandler()

    (#) No-Blocking mode API's  with DMA are :
        (++) HAL_USART_Transmit_DMA() in simplex mode
        (++) HAL_USART_Receive_DMA() in full duplex receive only
        (++) HAL_USART_TransmitReceive_DMA() in full duplex mode
        (++) HAL_USART_DMAPause()
        (++) HAL_USART_DMAResume()
        (++) HAL_USART_DMAStop()

    (#) A set of Transfer Complete Callbacks are provided in Non_Blocking mode:
        (++) HAL_USART_TxCpltCallback()
        (++) HAL_USART_RxCpltCallback()
        (++) HAL_USART_TxHalfCpltCallback()
        (++) HAL_USART_RxHalfCpltCallback()
        (++) HAL_USART_ErrorCallback()
        (++) HAL_USART_TxRxCpltCallback()

    (#) Non-Blocking mode transfers could be aborted using Abort API's :
        (++) HAL_USART_Abort()
        (++) HAL_USART_Abort_IT()

    (#) For Abort services based on interrupts (HAL_USART_Abort_IT), a Abort Complete Callbacks is provided:
        (++) HAL_USART_AbortCpltCallback()

    (#) In Non-Blocking mode transfers, possible errors are split into 2 categories.
        Errors are handled as follows :
        (++) Error is considered as Recoverable and non blocking : Transfer could go till end, but error severity is
             to be evaluated by user : this concerns Frame Error, Parity Error or Noise Error in Interrupt mode reception .
             Received character is then retrieved and stored in Rx buffer, Error code is set to allow user to identify error type,
             and HAL_USART_ErrorCallback() user callback is executed. Transfer is kept ongoing on USART side.
             If user wants to abort it, Abort services should be called by user.
        (++) Error is considered as Blocking : Transfer could not be completed properly and is aborted.
             This concerns Overrun Error In Interrupt mode reception and all errors in DMA mode.
             Error code is set to allow user to identify error type, and HAL_USART_ErrorCallback() user callback is executed.</pre> <h2 class="groupheader">Function Documentation</h2>
<a id="gaaa1acf7fb356bce3e06b2df77b317c9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaa1acf7fb356bce3e06b2df77b317c9d">&#9670;&nbsp;</a></span>HAL_USART_Abort()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_USART_Abort </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>husart</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Abort ongoing transfers (blocking mode). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">husart</td><td>USART handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This procedure could be used for aborting any ongoing transfer started in Interrupt or DMA mode. This procedure performs following operations :<ul>
<li>Disable USART Interrupts (Tx and Rx)</li>
<li>Disable the DMA transfer in the peripheral register (if enabled)</li>
<li>Abort DMA transfer by calling HAL_DMA_Abort (in case of transfer in DMA mode)</li>
<li>Set handle State to READY </li>
</ul>
</dd>
<dd>
This procedure is executed in blocking mode : when exiting function, Abort is considered as completed. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__usart_8c_source.html#l01879">1879</a> of file <a class="el" href="stm32l4xx__hal__usart_8c_source.html">stm32l4xx_hal_usart.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;{</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;<span class="preprocessor">#if defined(USART_CR1_FIFOEN)</span></div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;  <span class="comment">/* Disable TXEIE, TCIE, RXNE, RXFT, TXFT, PE and ERR (Frame error, noise error, overrun error) interrupts */</span></div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR1, (USART_CR1_RXNEIE_RXFNEIE | USART_CR1_PEIE | USART_CR1_TXEIE_TXFNFIE |</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;                                    USART_CR1_TCIE));</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, (USART_CR3_EIE | USART_CR3_RXFTIE | USART_CR3_TXFTIE));</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR1, (USART_CR1_RXNEIE | USART_CR1_PEIE | USART_CR1_TXEIE | USART_CR1_TCIE));</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_EIE);</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR1_FIFOEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160; </div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;  <span class="comment">/* Disable the USART DMA Tx request if enabled */</span></div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;  <span class="keywordflow">if</span> (HAL_IS_BIT_SET(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_DMAT))</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;  {</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_DMAT);</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160; </div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;    <span class="comment">/* Abort the USART DMA Tx channel : use blocking DMA Abort API (no callback) */</span></div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;    <span class="keywordflow">if</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a11000808cb7a216077a51691aaceba95">hdmatx</a> != NULL)</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;    {</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;      <span class="comment">/* Set the USART DMA Abort callback to Null.</span></div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;<span class="comment">         No call back execution at end of DMA abort procedure */</span></div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;      husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a11000808cb7a216077a51691aaceba95">hdmatx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a5866f59e3a12760e559c4547ebf19d37">XferAbortCallback</a> = NULL;</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160; </div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="group__DMA__Exported__Functions__Group2.html#ga001f9fb04328a7460f9ff16908ff987c">HAL_DMA_Abort</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a11000808cb7a216077a51691aaceba95">hdmatx</a>) != <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;      {</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__DMA__Exported__Functions__Group3.html#gabc0735694a0dd08e352b796d7fa7634f">HAL_DMA_GetError</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a11000808cb7a216077a51691aaceba95">hdmatx</a>) == HAL_DMA_ERROR_TIMEOUT)</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;        {</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;          <span class="comment">/* Set error code to DMA */</span></div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;          husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ac8fbc6455a3506ccbe22c0f4c9d6a34d">ErrorCode</a> = HAL_USART_ERROR_DMA;</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160; </div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;          <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;        }</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;      }</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;    }</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;  }</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160; </div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;  <span class="comment">/* Disable the USART DMA Rx request if enabled */</span></div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;  <span class="keywordflow">if</span> (HAL_IS_BIT_SET(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_DMAR))</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;  {</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_DMAR);</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160; </div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;    <span class="comment">/* Abort the USART DMA Rx channel : use blocking DMA Abort API (no callback) */</span></div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;    <span class="keywordflow">if</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6d8f4e4b414b8fbfd62aa60f29c38ec9">hdmarx</a> != NULL)</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;    {</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;      <span class="comment">/* Set the USART DMA Abort callback to Null.</span></div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;<span class="comment">         No call back execution at end of DMA abort procedure */</span></div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;      husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6d8f4e4b414b8fbfd62aa60f29c38ec9">hdmarx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a5866f59e3a12760e559c4547ebf19d37">XferAbortCallback</a> = NULL;</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160; </div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="group__DMA__Exported__Functions__Group2.html#ga001f9fb04328a7460f9ff16908ff987c">HAL_DMA_Abort</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6d8f4e4b414b8fbfd62aa60f29c38ec9">hdmarx</a>) != <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;      {</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__DMA__Exported__Functions__Group3.html#gabc0735694a0dd08e352b796d7fa7634f">HAL_DMA_GetError</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6d8f4e4b414b8fbfd62aa60f29c38ec9">hdmarx</a>) == HAL_DMA_ERROR_TIMEOUT)</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;        {</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;          <span class="comment">/* Set error code to DMA */</span></div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;          husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ac8fbc6455a3506ccbe22c0f4c9d6a34d">ErrorCode</a> = HAL_USART_ERROR_DMA;</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160; </div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;          <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;        }</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;      }</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;    }</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;  }</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160; </div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;  <span class="comment">/* Reset Tx and Rx transfer counters */</span></div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;  husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a2d01e878e36618b0a990ee1c66297961">TxXferCount</a> = 0U;</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;  husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a1301a145dcb6cd6ddc389b7e27e72d62">RxXferCount</a> = 0U;</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160; </div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;  <span class="comment">/* Clear the Error flags in the ICR register */</span></div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;  __HAL_USART_CLEAR_FLAG(husart, USART_CLEAR_OREF | USART_CLEAR_NEF | USART_CLEAR_PEF | USART_CLEAR_FEF);</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160; </div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;<span class="preprocessor">#if defined(USART_CR1_FIFOEN)</span></div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;  <span class="comment">/* Flush the whole TX FIFO (if needed) */</span></div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;  <span class="keywordflow">if</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#acd581f0b0ab90827fb07cff142347e28">FifoMode</a> == USART_FIFOMODE_ENABLE)</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;  {</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;    __HAL_USART_SEND_REQ(husart, USART_TXDATA_FLUSH_REQUEST);</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;  }</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR1_FIFOEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160; </div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;  <span class="comment">/* Discard the received data */</span></div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;  __HAL_USART_SEND_REQ(husart, USART_RXDATA_FLUSH_REQUEST);</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160; </div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;  <span class="comment">/* Restore husart-&gt;State to Ready */</span></div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;  husart-&gt;<a class="code" href="group__USART__Exported__Types.html#aa830327a9f308378a609fc427c729de4">State</a>  = <a class="code" href="group__USART__Exported__Types.html#gga502e7abdfa6b24f0f6b40cf60c7383c5ac707f3dc06c16fce84d167b03441e3d1">HAL_USART_STATE_READY</a>;</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160; </div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;  <span class="comment">/* Reset Handle ErrorCode to No Error */</span></div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;  husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ac8fbc6455a3506ccbe22c0f4c9d6a34d">ErrorCode</a> = HAL_USART_ERROR_NONE;</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160; </div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gacaa3343ed3decaff634e87f9a30682b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacaa3343ed3decaff634e87f9a30682b7">&#9670;&nbsp;</a></span>HAL_USART_Abort_IT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_USART_Abort_IT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>husart</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Abort ongoing transfers (Interrupt mode). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">husart</td><td>USART handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This procedure could be used for aborting any ongoing transfer started in Interrupt or DMA mode. This procedure performs following operations :<ul>
<li>Disable USART Interrupts (Tx and Rx)</li>
<li>Disable the DMA transfer in the peripheral register (if enabled)</li>
<li>Abort DMA transfer by calling HAL_DMA_Abort_IT (in case of transfer in DMA mode)</li>
<li>Set handle State to READY</li>
<li>At abort completion, call user abort complete callback </li>
</ul>
</dd>
<dd>
This procedure is executed in Interrupt mode, meaning that abort procedure could be considered as completed only when user abort complete callback is executed (not when exiting function). </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__usart_8c_source.html#l01982">1982</a> of file <a class="el" href="stm32l4xx__hal__usart_8c_source.html">stm32l4xx_hal_usart.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;{</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;  uint32_t abortcplt = 1U;</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160; </div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;<span class="preprocessor">#if defined(USART_CR1_FIFOEN)</span></div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;  <span class="comment">/* Disable TXEIE, TCIE, RXNE, RXFT, TXFT, PE and ERR (Frame error, noise error, overrun error) interrupts */</span></div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR1, (USART_CR1_RXNEIE_RXFNEIE | USART_CR1_PEIE | USART_CR1_TXEIE_TXFNFIE |</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;                                    USART_CR1_TCIE));</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, (USART_CR3_EIE | USART_CR3_RXFTIE | USART_CR3_TXFTIE));</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR1, (USART_CR1_RXNEIE | USART_CR1_PEIE | USART_CR1_TXEIE | USART_CR1_TCIE));</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_EIE);</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR1_FIFOEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160; </div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;  <span class="comment">/* If DMA Tx and/or DMA Rx Handles are associated to USART Handle, DMA Abort complete callbacks should be initialised</span></div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;<span class="comment">     before any call to DMA Abort functions */</span></div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;  <span class="comment">/* DMA Tx Handle is valid */</span></div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;  <span class="keywordflow">if</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a11000808cb7a216077a51691aaceba95">hdmatx</a> != NULL)</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;  {</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;    <span class="comment">/* Set DMA Abort Complete callback if USART DMA Tx request if enabled.</span></div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;<span class="comment">       Otherwise, set it to NULL */</span></div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;    <span class="keywordflow">if</span> (HAL_IS_BIT_SET(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_DMAT))</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;    {</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;      husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a11000808cb7a216077a51691aaceba95">hdmatx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a5866f59e3a12760e559c4547ebf19d37">XferAbortCallback</a> = <a class="code" href="group__USART__Private__Functions.html#ga589a1b7e1257d05824382ea20cd0a941">USART_DMATxAbortCallback</a>;</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;    }</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;    {</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;      husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a11000808cb7a216077a51691aaceba95">hdmatx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a5866f59e3a12760e559c4547ebf19d37">XferAbortCallback</a> = NULL;</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;    }</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;  }</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;  <span class="comment">/* DMA Rx Handle is valid */</span></div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;  <span class="keywordflow">if</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6d8f4e4b414b8fbfd62aa60f29c38ec9">hdmarx</a> != NULL)</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;  {</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;    <span class="comment">/* Set DMA Abort Complete callback if USART DMA Rx request if enabled.</span></div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;<span class="comment">       Otherwise, set it to NULL */</span></div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;    <span class="keywordflow">if</span> (HAL_IS_BIT_SET(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_DMAR))</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;    {</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;      husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6d8f4e4b414b8fbfd62aa60f29c38ec9">hdmarx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a5866f59e3a12760e559c4547ebf19d37">XferAbortCallback</a> = <a class="code" href="group__USART__Private__Functions.html#gabf2006d10d37daab3938965bc6019f9f">USART_DMARxAbortCallback</a>;</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;    }</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;    {</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;      husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6d8f4e4b414b8fbfd62aa60f29c38ec9">hdmarx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a5866f59e3a12760e559c4547ebf19d37">XferAbortCallback</a> = NULL;</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;    }</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;  }</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160; </div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;  <span class="comment">/* Disable the USART DMA Tx request if enabled */</span></div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;  <span class="keywordflow">if</span> (HAL_IS_BIT_SET(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_DMAT))</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;  {</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;    <span class="comment">/* Disable DMA Tx at USART level */</span></div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_DMAT);</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160; </div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;    <span class="comment">/* Abort the USART DMA Tx channel : use non blocking DMA Abort API (callback) */</span></div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;    <span class="keywordflow">if</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a11000808cb7a216077a51691aaceba95">hdmatx</a> != NULL)</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;    {</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;      <span class="comment">/* USART Tx DMA Abort callback has already been initialised :</span></div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;<span class="comment">         will lead to call HAL_USART_AbortCpltCallback() at end of DMA abort procedure */</span></div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160; </div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;      <span class="comment">/* Abort DMA TX */</span></div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="group__DMA__Exported__Functions__Group2.html#ga6677d7e614747341a58ffd7a048fd390">HAL_DMA_Abort_IT</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a11000808cb7a216077a51691aaceba95">hdmatx</a>) != <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;      {</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;        husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a11000808cb7a216077a51691aaceba95">hdmatx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a5866f59e3a12760e559c4547ebf19d37">XferAbortCallback</a> = NULL;</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;      }</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;      {</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;        abortcplt = 0U;</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;      }</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;    }</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;  }</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160; </div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;  <span class="comment">/* Disable the USART DMA Rx request if enabled */</span></div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;  <span class="keywordflow">if</span> (HAL_IS_BIT_SET(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_DMAR))</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;  {</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_DMAR);</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160; </div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;    <span class="comment">/* Abort the USART DMA Rx channel : use non blocking DMA Abort API (callback) */</span></div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;    <span class="keywordflow">if</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6d8f4e4b414b8fbfd62aa60f29c38ec9">hdmarx</a> != NULL)</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;    {</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;      <span class="comment">/* USART Rx DMA Abort callback has already been initialised :</span></div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;<span class="comment">         will lead to call HAL_USART_AbortCpltCallback() at end of DMA abort procedure */</span></div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160; </div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;      <span class="comment">/* Abort DMA RX */</span></div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="group__DMA__Exported__Functions__Group2.html#ga6677d7e614747341a58ffd7a048fd390">HAL_DMA_Abort_IT</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6d8f4e4b414b8fbfd62aa60f29c38ec9">hdmarx</a>) != <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;      {</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;        husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6d8f4e4b414b8fbfd62aa60f29c38ec9">hdmarx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a5866f59e3a12760e559c4547ebf19d37">XferAbortCallback</a> = NULL;</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;        abortcplt = 1U;</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;      }</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;      {</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;        abortcplt = 0U;</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;      }</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;    }</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;  }</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160; </div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;  <span class="comment">/* if no DMA abort complete callback execution is required =&gt; call user Abort Complete callback */</span></div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;  <span class="keywordflow">if</span> (abortcplt == 1U)</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;  {</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;    <span class="comment">/* Reset Tx and Rx transfer counters */</span></div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a2d01e878e36618b0a990ee1c66297961">TxXferCount</a> = 0U;</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a1301a145dcb6cd6ddc389b7e27e72d62">RxXferCount</a> = 0U;</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160; </div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;    <span class="comment">/* Reset errorCode */</span></div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ac8fbc6455a3506ccbe22c0f4c9d6a34d">ErrorCode</a> = HAL_USART_ERROR_NONE;</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160; </div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;    <span class="comment">/* Clear the Error flags in the ICR register */</span></div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;    __HAL_USART_CLEAR_FLAG(husart, USART_CLEAR_OREF | USART_CLEAR_NEF | USART_CLEAR_PEF | USART_CLEAR_FEF);</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160; </div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;<span class="preprocessor">#if defined(USART_CR1_FIFOEN)</span></div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;    <span class="comment">/* Flush the whole TX FIFO (if needed) */</span></div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;    <span class="keywordflow">if</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#acd581f0b0ab90827fb07cff142347e28">FifoMode</a> == USART_FIFOMODE_ENABLE)</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;    {</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;      __HAL_USART_SEND_REQ(husart, USART_TXDATA_FLUSH_REQUEST);</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;    }</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR1_FIFOEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160; </div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;    <span class="comment">/* Discard the received data */</span></div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;    __HAL_USART_SEND_REQ(husart, USART_RXDATA_FLUSH_REQUEST);</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160; </div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;    <span class="comment">/* Restore husart-&gt;State to Ready */</span></div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#aa830327a9f308378a609fc427c729de4">State</a>  = <a class="code" href="group__USART__Exported__Types.html#gga502e7abdfa6b24f0f6b40cf60c7383c5ac707f3dc06c16fce84d167b03441e3d1">HAL_USART_STATE_READY</a>;</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160; </div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;    <span class="comment">/* As no DMA to be aborted, call directly user Abort complete callback */</span></div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;<span class="preprocessor">#if (USE_HAL_USART_REGISTER_CALLBACKS == 1)</span></div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;    <span class="comment">/* Call registered Abort Complete Callback */</span></div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a7428e6a5e0101046aecbc0c3cc209375">AbortCpltCallback</a>(husart);</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;    <span class="comment">/* Call legacy weak Abort Complete Callback */</span></div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;    <a class="code" href="group__USART__Exported__Functions__Group2.html#gac6e067472d6e7771e7ab3bc4e230f91a">HAL_USART_AbortCpltCallback</a>(husart);</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USE_HAL_USART_REGISTER_CALLBACKS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;  }</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160; </div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gac6e067472d6e7771e7ab3bc4e230f91a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac6e067472d6e7771e7ab3bc4e230f91a">&#9670;&nbsp;</a></span>HAL_USART_AbortCpltCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak void HAL_USART_AbortCpltCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>husart</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>USART Abort Complete callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">husart</td><td>USART handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__usart_8c_source.html#l02475">2475</a> of file <a class="el" href="stm32l4xx__hal__usart_8c_source.html">stm32l4xx_hal_usart.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;{</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;  <span class="comment">/* Prevent unused argument(s) compilation warning */</span></div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;  UNUSED(husart);</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160; </div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;  <span class="comment">/* NOTE : This function should not be modified, when the callback is needed,</span></div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;<span class="comment">            the HAL_USART_AbortCpltCallback can be implemented in the user file.</span></div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gab6d960d952daee0b6aa82fbf0a4b61b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab6d960d952daee0b6aa82fbf0a4b61b0">&#9670;&nbsp;</a></span>HAL_USART_DMAPause()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_USART_DMAPause </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>husart</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pause the DMA Transfer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">husart</td><td>USART handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__usart_8c_source.html#l01728">1728</a> of file <a class="el" href="stm32l4xx__hal__usart_8c_source.html">stm32l4xx_hal_usart.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;{</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;  <span class="keyword">const</span> <a class="code" href="group__USART__Exported__Types.html#ga502e7abdfa6b24f0f6b40cf60c7383c5">HAL_USART_StateTypeDef</a> state = husart-&gt;<a class="code" href="group__USART__Exported__Types.html#aa830327a9f308378a609fc427c729de4">State</a>;</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160; </div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;  <span class="comment">/* Process Locked */</span></div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(husart);</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160; </div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;  <span class="keywordflow">if</span> ((HAL_IS_BIT_SET(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_DMAT)) &amp;&amp;</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;      (state == <a class="code" href="group__USART__Exported__Types.html#gga502e7abdfa6b24f0f6b40cf60c7383c5a2ee8ab5e15829c484ab4c4fbec68d3f6">HAL_USART_STATE_BUSY_TX</a>))</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;  {</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;    <span class="comment">/* Disable the USART DMA Tx request */</span></div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_DMAT);</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;  }</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((state == <a class="code" href="group__USART__Exported__Types.html#gga502e7abdfa6b24f0f6b40cf60c7383c5a4943f2dd7af684bfad7688b16e149f0d">HAL_USART_STATE_BUSY_RX</a>) ||</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;           (state == <a class="code" href="group__USART__Exported__Types.html#gga502e7abdfa6b24f0f6b40cf60c7383c5aab5458c5e3bf1fbd3065ef8fb0109e63">HAL_USART_STATE_BUSY_TX_RX</a>))</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;  {</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    <span class="keywordflow">if</span> (HAL_IS_BIT_SET(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_DMAT))</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    {</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;      <span class="comment">/* Disable the USART DMA Tx request */</span></div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_DMAT);</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;    }</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;    <span class="keywordflow">if</span> (HAL_IS_BIT_SET(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_DMAR))</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    {</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;      <span class="comment">/* Disable PE and ERR (Frame error, noise error, overrun error) interrupts */</span></div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR1, USART_CR1_PEIE);</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_EIE);</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160; </div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;      <span class="comment">/* Disable the USART DMA Rx request */</span></div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_DMAR);</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    }</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;  }</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;  {</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    <span class="comment">/* Nothing to do */</span></div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;  }</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160; </div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;  <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(husart);</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160; </div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga20e7a0e7864825eb18c9ee57a4e63fb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga20e7a0e7864825eb18c9ee57a4e63fb7">&#9670;&nbsp;</a></span>HAL_USART_DMAResume()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_USART_DMAResume </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>husart</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resume the DMA Transfer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">husart</td><td>USART handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__usart_8c_source.html#l01775">1775</a> of file <a class="el" href="stm32l4xx__hal__usart_8c_source.html">stm32l4xx_hal_usart.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;{</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;  <span class="keyword">const</span> <a class="code" href="group__USART__Exported__Types.html#ga502e7abdfa6b24f0f6b40cf60c7383c5">HAL_USART_StateTypeDef</a> state = husart-&gt;<a class="code" href="group__USART__Exported__Types.html#aa830327a9f308378a609fc427c729de4">State</a>;</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160; </div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;  <span class="comment">/* Process Locked */</span></div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(husart);</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160; </div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;  <span class="keywordflow">if</span> (state == <a class="code" href="group__USART__Exported__Types.html#gga502e7abdfa6b24f0f6b40cf60c7383c5a2ee8ab5e15829c484ab4c4fbec68d3f6">HAL_USART_STATE_BUSY_TX</a>)</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;  {</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;    <span class="comment">/* Enable the USART DMA Tx request */</span></div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;    SET_BIT(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_DMAT);</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;  }</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((state == <a class="code" href="group__USART__Exported__Types.html#gga502e7abdfa6b24f0f6b40cf60c7383c5a4943f2dd7af684bfad7688b16e149f0d">HAL_USART_STATE_BUSY_RX</a>) ||</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;           (state == <a class="code" href="group__USART__Exported__Types.html#gga502e7abdfa6b24f0f6b40cf60c7383c5aab5458c5e3bf1fbd3065ef8fb0109e63">HAL_USART_STATE_BUSY_TX_RX</a>))</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;  {</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;    <span class="comment">/* Clear the Overrun flag before resuming the Rx transfer*/</span></div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;    __HAL_USART_CLEAR_FLAG(husart, USART_CLEAR_OREF);</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160; </div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;    <span class="comment">/* Reenable PE and ERR (Frame error, noise error, overrun error) interrupts */</span></div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;    SET_BIT(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR1, USART_CR1_PEIE);</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;    SET_BIT(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_EIE);</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160; </div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;    <span class="comment">/* Enable the USART DMA Rx request  before the DMA Tx request */</span></div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;    SET_BIT(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_DMAR);</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160; </div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;    <span class="comment">/* Enable the USART DMA Tx request */</span></div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;    SET_BIT(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_DMAT);</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;  }</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;  {</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    <span class="comment">/* Nothing to do */</span></div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;  }</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160; </div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;  <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(husart);</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160; </div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gabeaf40f697cb852cb54a3ad81df4375e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabeaf40f697cb852cb54a3ad81df4375e">&#9670;&nbsp;</a></span>HAL_USART_DMAStop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_USART_DMAStop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>husart</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop the DMA Transfer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">husart</td><td>USART handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__usart_8c_source.html#l01819">1819</a> of file <a class="el" href="stm32l4xx__hal__usart_8c_source.html">stm32l4xx_hal_usart.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;{</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;  <span class="comment">/* The Lock is not implemented on this API to allow the user application</span></div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;<span class="comment">     to call the HAL USART API under callbacks HAL_USART_TxCpltCallback() / HAL_USART_RxCpltCallback() /</span></div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;<span class="comment">     HAL_USART_TxHalfCpltCallback / HAL_USART_RxHalfCpltCallback:</span></div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;<span class="comment">     indeed, when HAL_DMA_Abort() API is called, the DMA TX/RX Transfer or Half Transfer complete</span></div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;<span class="comment">     interrupt is generated if the DMA transfer interruption occurs at the middle or at the end of</span></div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;<span class="comment">     the stream and the corresponding call back is executed. */</span></div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160; </div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;  <span class="comment">/* Disable the USART Tx/Rx DMA requests */</span></div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_DMAT);</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;  <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_DMAR);</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160; </div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;  <span class="comment">/* Abort the USART DMA tx channel */</span></div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;  <span class="keywordflow">if</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a11000808cb7a216077a51691aaceba95">hdmatx</a> != NULL)</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;  {</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__DMA__Exported__Functions__Group2.html#ga001f9fb04328a7460f9ff16908ff987c">HAL_DMA_Abort</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a11000808cb7a216077a51691aaceba95">hdmatx</a>) != <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;    {</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="group__DMA__Exported__Functions__Group3.html#gabc0735694a0dd08e352b796d7fa7634f">HAL_DMA_GetError</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a11000808cb7a216077a51691aaceba95">hdmatx</a>) == HAL_DMA_ERROR_TIMEOUT)</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;      {</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;        <span class="comment">/* Set error code to DMA */</span></div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;        husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ac8fbc6455a3506ccbe22c0f4c9d6a34d">ErrorCode</a> = HAL_USART_ERROR_DMA;</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160; </div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;        <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;      }</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;    }</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;  }</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;  <span class="comment">/* Abort the USART DMA rx channel */</span></div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;  <span class="keywordflow">if</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6d8f4e4b414b8fbfd62aa60f29c38ec9">hdmarx</a> != NULL)</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;  {</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__DMA__Exported__Functions__Group2.html#ga001f9fb04328a7460f9ff16908ff987c">HAL_DMA_Abort</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6d8f4e4b414b8fbfd62aa60f29c38ec9">hdmarx</a>) != <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;    {</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="group__DMA__Exported__Functions__Group3.html#gabc0735694a0dd08e352b796d7fa7634f">HAL_DMA_GetError</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6d8f4e4b414b8fbfd62aa60f29c38ec9">hdmarx</a>) == HAL_DMA_ERROR_TIMEOUT)</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;      {</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;        <span class="comment">/* Set error code to DMA */</span></div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;        husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ac8fbc6455a3506ccbe22c0f4c9d6a34d">ErrorCode</a> = HAL_USART_ERROR_DMA;</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160; </div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;        <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;      }</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;    }</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;  }</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160; </div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;  <a class="code" href="group__USART__Private__Functions.html#ga4e6101bda9cdac3948d7855ef4d7e556">USART_EndTransfer</a>(husart);</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;  husart-&gt;<a class="code" href="group__USART__Exported__Types.html#aa830327a9f308378a609fc427c729de4">State</a> = <a class="code" href="group__USART__Exported__Types.html#gga502e7abdfa6b24f0f6b40cf60c7383c5ac707f3dc06c16fce84d167b03441e3d1">HAL_USART_STATE_READY</a>;</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160; </div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga6886a45a724a2180a8002366ecf46a9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6886a45a724a2180a8002366ecf46a9d">&#9670;&nbsp;</a></span>HAL_USART_ErrorCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak void HAL_USART_ErrorCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>husart</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>USART error callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">husart</td><td>USART handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__usart_8c_source.html#l02460">2460</a> of file <a class="el" href="stm32l4xx__hal__usart_8c_source.html">stm32l4xx_hal_usart.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;{</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;  <span class="comment">/* Prevent unused argument(s) compilation warning */</span></div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;  UNUSED(husart);</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160; </div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;  <span class="comment">/* NOTE : This function should not be modified, when the callback is needed,</span></div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;<span class="comment">            the HAL_USART_ErrorCallback can be implemented in the user file.</span></div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga4ac0981601603af111c7e59db1680ace"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4ac0981601603af111c7e59db1680ace">&#9670;&nbsp;</a></span>HAL_USART_IRQHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_USART_IRQHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>husart</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle USART interrupt request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">husart</td><td>USART handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__usart_8c_source.html#l02120">2120</a> of file <a class="el" href="stm32l4xx__hal__usart_8c_source.html">stm32l4xx_hal_usart.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;{</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;  uint32_t isrflags   = READ_REG(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;ISR);</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;  uint32_t cr1its     = READ_REG(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR1);</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;  uint32_t cr3its     = READ_REG(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3);</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160; </div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;  uint32_t errorflags;</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;  uint32_t errorcode;</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160; </div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;  <span class="comment">/* If no error occurs */</span></div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;<span class="preprocessor">#if defined(USART_CR2_SLVEN)</span></div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;  errorflags = (isrflags &amp; (uint32_t)(USART_ISR_PE | USART_ISR_FE | USART_ISR_ORE | USART_ISR_NE | USART_ISR_UDR));</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;  errorflags = (isrflags &amp; (uint32_t)(USART_ISR_PE | USART_ISR_FE | USART_ISR_ORE | USART_ISR_NE));</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR2_SLVEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;  <span class="keywordflow">if</span> (errorflags == 0U)</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;  {</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;    <span class="comment">/* USART in mode Receiver ---------------------------------------------------*/</span></div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;<span class="preprocessor">#if defined(USART_CR1_FIFOEN)</span></div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;    <span class="keywordflow">if</span> (((isrflags &amp; USART_ISR_RXNE_RXFNE) != 0U)</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;        &amp;&amp; (((cr1its &amp; USART_CR1_RXNEIE_RXFNEIE) != 0U)</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;            || ((cr3its &amp; USART_CR3_RXFTIE) != 0U)))</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;#<span class="keywordflow">else</span></div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;    <span class="keywordflow">if</span> (((isrflags &amp; USART_ISR_RXNE) != 0U)</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;        &amp;&amp; ((cr1its &amp; USART_CR1_RXNEIE) != 0U))</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR1_FIFOEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;    {</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;      <span class="keywordflow">if</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6e2691c9e9cd2cee513abc69094596f6">RxISR</a> != NULL)</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;      {</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;        husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6e2691c9e9cd2cee513abc69094596f6">RxISR</a>(husart);</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;      }</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;    }</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;  }</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160; </div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;  <span class="comment">/* If some errors occur */</span></div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;<span class="preprocessor">#if defined(USART_CR1_FIFOEN)</span></div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;  <span class="keywordflow">if</span> ((errorflags != 0U)</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;      &amp;&amp; (((cr3its &amp; (USART_CR3_RXFTIE | USART_CR3_EIE)) != 0U)</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;          || ((cr1its &amp; (USART_CR1_RXNEIE_RXFNEIE | USART_CR1_PEIE)) != 0U)))</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;  <span class="keywordflow">if</span> ((errorflags != 0U)</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;      &amp;&amp; (((cr3its &amp; USART_CR3_EIE) != 0U)</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;          || ((cr1its &amp; (USART_CR1_RXNEIE | USART_CR1_PEIE)) != 0U)))</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR1_FIFOEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;  {</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;    <span class="comment">/* USART parity error interrupt occurred -------------------------------------*/</span></div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;    <span class="keywordflow">if</span> (((isrflags &amp; USART_ISR_PE) != 0U) &amp;&amp; ((cr1its &amp; USART_CR1_PEIE) != 0U))</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;    {</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;      __HAL_USART_CLEAR_IT(husart, USART_CLEAR_PEF);</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160; </div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;      husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ac8fbc6455a3506ccbe22c0f4c9d6a34d">ErrorCode</a> |= HAL_USART_ERROR_PE;</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;    }</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160; </div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;    <span class="comment">/* USART frame error interrupt occurred --------------------------------------*/</span></div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;    <span class="keywordflow">if</span> (((isrflags &amp; USART_ISR_FE) != 0U) &amp;&amp; ((cr3its &amp; USART_CR3_EIE) != 0U))</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;    {</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;      __HAL_USART_CLEAR_IT(husart, USART_CLEAR_FEF);</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160; </div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;      husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ac8fbc6455a3506ccbe22c0f4c9d6a34d">ErrorCode</a> |= HAL_USART_ERROR_FE;</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;    }</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160; </div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;    <span class="comment">/* USART noise error interrupt occurred --------------------------------------*/</span></div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;    <span class="keywordflow">if</span> (((isrflags &amp; USART_ISR_NE) != 0U) &amp;&amp; ((cr3its &amp; USART_CR3_EIE) != 0U))</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;    {</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;      __HAL_USART_CLEAR_IT(husart, USART_CLEAR_NEF);</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160; </div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;      husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ac8fbc6455a3506ccbe22c0f4c9d6a34d">ErrorCode</a> |= HAL_USART_ERROR_NE;</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;    }</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160; </div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;    <span class="comment">/* USART Over-Run interrupt occurred -----------------------------------------*/</span></div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;<span class="preprocessor">#if defined(USART_CR1_FIFOEN)</span></div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;    <span class="keywordflow">if</span> (((isrflags &amp; USART_ISR_ORE) != 0U)</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;        &amp;&amp; (((cr1its &amp; USART_CR1_RXNEIE_RXFNEIE) != 0U) ||</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;            ((cr3its &amp; (USART_CR3_RXFTIE | USART_CR3_EIE)) != 0U)))</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;    <span class="keywordflow">if</span> (((isrflags &amp; USART_ISR_ORE) != 0U)</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;        &amp;&amp; (((cr1its &amp; USART_CR1_RXNEIE) != 0U) ||</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;            ((cr3its &amp; USART_CR3_EIE) != 0U)))</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR1_FIFOEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;    {</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;      __HAL_USART_CLEAR_IT(husart, USART_CLEAR_OREF);</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160; </div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;      husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ac8fbc6455a3506ccbe22c0f4c9d6a34d">ErrorCode</a> |= HAL_USART_ERROR_ORE;</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;    }</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160; </div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;<span class="preprocessor">#if defined(USART_CR2_SLVEN)</span></div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;    <span class="comment">/* USART SPI slave underrun error interrupt occurred -------------------------*/</span></div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;    <span class="keywordflow">if</span> (((isrflags &amp; USART_ISR_UDR) != 0U) &amp;&amp; ((cr3its &amp; USART_CR3_EIE) != 0U))</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;    {</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;      <span class="comment">/* Ignore SPI slave underrun errors when reception is going on */</span></div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;      <span class="keywordflow">if</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#aa830327a9f308378a609fc427c729de4">State</a> == <a class="code" href="group__USART__Exported__Types.html#gga502e7abdfa6b24f0f6b40cf60c7383c5a4943f2dd7af684bfad7688b16e149f0d">HAL_USART_STATE_BUSY_RX</a>)</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;      {</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;        __HAL_USART_CLEAR_UDRFLAG(husart);</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;      }</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;      {</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;        __HAL_USART_CLEAR_UDRFLAG(husart);</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;        husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ac8fbc6455a3506ccbe22c0f4c9d6a34d">ErrorCode</a> |= HAL_USART_ERROR_UDR;</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;      }</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;    }</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR2_SLVEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160; </div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;    <span class="comment">/* Call USART Error Call back function if need be --------------------------*/</span></div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;    <span class="keywordflow">if</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ac8fbc6455a3506ccbe22c0f4c9d6a34d">ErrorCode</a> != HAL_USART_ERROR_NONE)</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;    {</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;      <span class="comment">/* USART in mode Receiver ---------------------------------------------------*/</span></div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;<span class="preprocessor">#if defined(USART_CR1_FIFOEN)</span></div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;      <span class="keywordflow">if</span> (((isrflags &amp; USART_ISR_RXNE_RXFNE) != 0U)</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;          &amp;&amp; (((cr1its &amp; USART_CR1_RXNEIE_RXFNEIE) != 0U)</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;              || ((cr3its &amp; USART_CR3_RXFTIE) != 0U)))</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;      <span class="keywordflow">if</span> (((isrflags &amp; USART_ISR_RXNE) != 0U)</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;          &amp;&amp; ((cr1its &amp; USART_CR1_RXNEIE) != 0U))</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR1_FIFOEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;      {</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;        <span class="keywordflow">if</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6e2691c9e9cd2cee513abc69094596f6">RxISR</a> != NULL)</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;        {</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;          husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6e2691c9e9cd2cee513abc69094596f6">RxISR</a>(husart);</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;        }</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;      }</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160; </div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;      <span class="comment">/* If Overrun error occurs, or if any error occurs in DMA mode reception,</span></div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;<span class="comment">         consider error as blocking */</span></div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;      errorcode = husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ac8fbc6455a3506ccbe22c0f4c9d6a34d">ErrorCode</a> &amp; HAL_USART_ERROR_ORE;</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;      <span class="keywordflow">if</span> ((HAL_IS_BIT_SET(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_DMAR)) ||</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;          (errorcode != 0U))</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;      {</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;        <span class="comment">/* Blocking error : transfer is aborted</span></div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;<span class="comment">           Set the USART state ready to be able to start again the process,</span></div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;<span class="comment">           Disable Interrupts, and disable DMA requests, if ongoing */</span></div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;        <a class="code" href="group__USART__Private__Functions.html#ga4e6101bda9cdac3948d7855ef4d7e556">USART_EndTransfer</a>(husart);</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160; </div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;        <span class="comment">/* Disable the USART DMA Rx request if enabled */</span></div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;        <span class="keywordflow">if</span> (HAL_IS_BIT_SET(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_DMAR))</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;        {</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;          <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_DMAR | USART_CR3_DMAR);</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160; </div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;          <span class="comment">/* Abort the USART DMA Tx channel */</span></div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;          <span class="keywordflow">if</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a11000808cb7a216077a51691aaceba95">hdmatx</a> != NULL)</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;          {</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;            <span class="comment">/* Set the USART Tx DMA Abort callback to NULL : no callback</span></div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;<span class="comment">               executed at end of DMA abort procedure */</span></div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;            husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a11000808cb7a216077a51691aaceba95">hdmatx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a5866f59e3a12760e559c4547ebf19d37">XferAbortCallback</a> = NULL;</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160; </div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;            <span class="comment">/* Abort DMA TX */</span></div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;            (void)<a class="code" href="group__DMA__Exported__Functions__Group2.html#ga6677d7e614747341a58ffd7a048fd390">HAL_DMA_Abort_IT</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a11000808cb7a216077a51691aaceba95">hdmatx</a>);</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;          }</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160; </div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;          <span class="comment">/* Abort the USART DMA Rx channel */</span></div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;          <span class="keywordflow">if</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6d8f4e4b414b8fbfd62aa60f29c38ec9">hdmarx</a> != NULL)</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;          {</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;            <span class="comment">/* Set the USART Rx DMA Abort callback :</span></div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;<span class="comment">               will lead to call HAL_USART_ErrorCallback() at end of DMA abort procedure */</span></div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;            husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6d8f4e4b414b8fbfd62aa60f29c38ec9">hdmarx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a5866f59e3a12760e559c4547ebf19d37">XferAbortCallback</a> = <a class="code" href="group__USART__Private__Functions.html#gaa86bc5ef0ab7e40521467e78b80bfddd">USART_DMAAbortOnError</a>;</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160; </div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;            <span class="comment">/* Abort DMA RX */</span></div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__DMA__Exported__Functions__Group2.html#ga6677d7e614747341a58ffd7a048fd390">HAL_DMA_Abort_IT</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6d8f4e4b414b8fbfd62aa60f29c38ec9">hdmarx</a>) != <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;            {</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;              <span class="comment">/* Call Directly husart-&gt;hdmarx-&gt;XferAbortCallback function in case of error */</span></div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;              husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6d8f4e4b414b8fbfd62aa60f29c38ec9">hdmarx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a5866f59e3a12760e559c4547ebf19d37">XferAbortCallback</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6d8f4e4b414b8fbfd62aa60f29c38ec9">hdmarx</a>);</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;            }</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;          }</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;          {</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;            <span class="comment">/* Call user error callback */</span></div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;<span class="preprocessor">#if (USE_HAL_USART_REGISTER_CALLBACKS == 1)</span></div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;            <span class="comment">/* Call registered Error Callback */</span></div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;            husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a7e7dc36a31037cd910ebcfe7ec076ed7">ErrorCallback</a>(husart);</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;            <span class="comment">/* Call legacy weak Error Callback */</span></div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;            <a class="code" href="group__USART__Exported__Functions__Group2.html#ga6886a45a724a2180a8002366ecf46a9d">HAL_USART_ErrorCallback</a>(husart);</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USE_HAL_USART_REGISTER_CALLBACKS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;          }</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;        }</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;        {</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;          <span class="comment">/* Call user error callback */</span></div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;<span class="preprocessor">#if (USE_HAL_USART_REGISTER_CALLBACKS == 1)</span></div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;          <span class="comment">/* Call registered Error Callback */</span></div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;          husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a7e7dc36a31037cd910ebcfe7ec076ed7">ErrorCallback</a>(husart);</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;          <span class="comment">/* Call legacy weak Error Callback */</span></div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;          <a class="code" href="group__USART__Exported__Functions__Group2.html#ga6886a45a724a2180a8002366ecf46a9d">HAL_USART_ErrorCallback</a>(husart);</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USE_HAL_USART_REGISTER_CALLBACKS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;        }</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;      }</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;      {</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;        <span class="comment">/* Non Blocking error : transfer could go on.</span></div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;<span class="comment">           Error is notified to user through user error callback */</span></div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;<span class="preprocessor">#if (USE_HAL_USART_REGISTER_CALLBACKS == 1)</span></div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;        <span class="comment">/* Call registered Error Callback */</span></div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;        husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a7e7dc36a31037cd910ebcfe7ec076ed7">ErrorCallback</a>(husart);</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;        <span class="comment">/* Call legacy weak Error Callback */</span></div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;        <a class="code" href="group__USART__Exported__Functions__Group2.html#ga6886a45a724a2180a8002366ecf46a9d">HAL_USART_ErrorCallback</a>(husart);</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USE_HAL_USART_REGISTER_CALLBACKS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;        husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ac8fbc6455a3506ccbe22c0f4c9d6a34d">ErrorCode</a> = HAL_USART_ERROR_NONE;</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;      }</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;    }</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160; </div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;  } <span class="comment">/* End if some error occurs */</span></div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160; </div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160; </div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;  <span class="comment">/* USART in mode Transmitter ------------------------------------------------*/</span></div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;<span class="preprocessor">#if defined(USART_CR1_FIFOEN)</span></div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;  <span class="keywordflow">if</span> (((isrflags &amp; USART_ISR_TXE_TXFNF) != 0U)</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;      &amp;&amp; (((cr1its &amp; USART_CR1_TXEIE_TXFNFIE) != 0U)</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;          || ((cr3its &amp; USART_CR3_TXFTIE) != 0U)))</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;  <span class="keywordflow">if</span> (((isrflags &amp; USART_ISR_TXE) != 0U)</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;      &amp;&amp; ((cr1its &amp; USART_CR1_TXEIE) != 0U))</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR1_FIFOEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;  {</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;    <span class="keywordflow">if</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a83d29166fa78814668c65fb9d35767fb">TxISR</a> != NULL)</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;    {</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;      husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a83d29166fa78814668c65fb9d35767fb">TxISR</a>(husart);</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;    }</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;  }</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160; </div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;  <span class="comment">/* USART in mode Transmitter (transmission end) -----------------------------*/</span></div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;  <span class="keywordflow">if</span> (((isrflags &amp; USART_ISR_TC) != 0U) &amp;&amp; ((cr1its &amp; USART_CR1_TCIE) != 0U))</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;  {</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;    <a class="code" href="group__USART__Private__Functions.html#ga5fe9523bcb2c79dffb9781b2f7e59b64">USART_EndTransmit_IT</a>(husart);</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;  }</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160; </div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;<span class="preprocessor">#if defined(USART_CR1_FIFOEN)</span></div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;  <span class="comment">/* USART TX Fifo Empty occurred ----------------------------------------------*/</span></div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;  <span class="keywordflow">if</span> (((isrflags &amp; USART_ISR_TXFE) != 0U) &amp;&amp; ((cr1its &amp; USART_CR1_TXFEIE) != 0U))</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;  {</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;<span class="preprocessor">#if (USE_HAL_USART_REGISTER_CALLBACKS == 1)</span></div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;    <span class="comment">/* Call registered Tx Fifo Empty Callback */</span></div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a23513f8c567745d40a2e6a9c080932d2">TxFifoEmptyCallback</a>(husart);</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;    <span class="comment">/* Call legacy weak Tx Fifo Empty Callback */</span></div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;    <a class="code" href="group__USARTEx__Exported__Functions__Group1.html#gaf2e069a92883ccced147b7b453ddcebc">HAL_USARTEx_TxFifoEmptyCallback</a>(husart);</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USE_HAL_USART_REGISTER_CALLBACKS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;  }</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160; </div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;  <span class="comment">/* USART RX Fifo Full occurred ----------------------------------------------*/</span></div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;  <span class="keywordflow">if</span> (((isrflags &amp; USART_ISR_RXFF) != 0U) &amp;&amp; ((cr1its &amp; USART_CR1_RXFFIE) != 0U))</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;  {</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;<span class="preprocessor">#if (USE_HAL_USART_REGISTER_CALLBACKS == 1)</span></div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;    <span class="comment">/* Call registered Rx Fifo Full Callback */</span></div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#abb6ae9c0f96ebbf02469756c0e612ac2">RxFifoFullCallback</a>(husart);</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;    <span class="comment">/* Call legacy weak Rx Fifo Full Callback */</span></div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;    <a class="code" href="group__USARTEx__Exported__Functions__Group1.html#ga73280efd5a6ec1fcb8499274393759a0">HAL_USARTEx_RxFifoFullCallback</a>(husart);</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USE_HAL_USART_REGISTER_CALLBACKS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;  }</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR1_FIFOEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga1da8a5ce515c18b9960d366812bf737e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1da8a5ce515c18b9960d366812bf737e">&#9670;&nbsp;</a></span>HAL_USART_Receive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_USART_Receive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>husart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pRxData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>Timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive an amount of data in blocking mode. </p>
<dl class="section note"><dt>Note</dt><dd>To receive synchronous data, dummy data are simultaneously transmitted. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">husart</td><td>USART handle. </td></tr>
    <tr><td class="paramname">pRxData</td><td>Pointer to data buffer. </td></tr>
    <tr><td class="paramname">Size</td><td>Amount of data to be received. </td></tr>
    <tr><td class="paramname">Timeout</td><td>Timeout duration. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__usart_8c_source.html#l00852">852</a> of file <a class="el" href="stm32l4xx__hal__usart_8c_source.html">stm32l4xx_hal_usart.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;{</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  uint8_t  *prxdata8bits;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;  uint16_t *prxdata16bits;</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;  uint16_t uhMask;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  uint32_t tickstart;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160; </div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;  <span class="keywordflow">if</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#aa830327a9f308378a609fc427c729de4">State</a> == <a class="code" href="group__USART__Exported__Types.html#gga502e7abdfa6b24f0f6b40cf60c7383c5ac707f3dc06c16fce84d167b03441e3d1">HAL_USART_STATE_READY</a>)</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;  {</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    <span class="keywordflow">if</span> ((pRxData == NULL) || (Size == 0U))</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    {</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;      <span class="keywordflow">return</span>  HAL_ERROR;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    }</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160; </div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <span class="comment">/* Process Locked */</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(husart);</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160; </div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ac8fbc6455a3506ccbe22c0f4c9d6a34d">ErrorCode</a> = HAL_USART_ERROR_NONE;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#aa830327a9f308378a609fc427c729de4">State</a> = <a class="code" href="group__USART__Exported__Types.html#gga502e7abdfa6b24f0f6b40cf60c7383c5a4943f2dd7af684bfad7688b16e149f0d">HAL_USART_STATE_BUSY_RX</a>;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160; </div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <span class="comment">/* Init tickstart for timeout managment*/</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    tickstart = <a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>();</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160; </div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a39548adb4533a0c1fb452078d6e8c872">RxXferSize</a> = Size;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a1301a145dcb6cd6ddc389b7e27e72d62">RxXferCount</a> = Size;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160; </div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <span class="comment">/* Computation of USART mask to apply to RDR register */</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    USART_MASK_COMPUTATION(husart);</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    uhMask = husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a5120e074284a793f8e21426df45a7ec6">Mask</a>;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160; </div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="comment">/* In case of 9bits/No Parity transfer, pRxData needs to be handled as a uint16_t pointer */</span></div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    <span class="keywordflow">if</span> ((husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a273bb4fbe1b8f222810068578a78d5a3">Init</a>.<a class="code" href="group__USART__Exported__Types.html#ac4012d27b28014f60a3ad987c62d4fc7">WordLength</a> == USART_WORDLENGTH_9B) &amp;&amp; (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a273bb4fbe1b8f222810068578a78d5a3">Init</a>.<a class="code" href="group__USART__Exported__Types.html#a87eb81cdeb80ee5c3d96aecbe9e75612">Parity</a> == USART_PARITY_NONE))</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    {</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;      prxdata8bits  = NULL;</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;      prxdata16bits = (uint16_t *) pRxData;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    }</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    {</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;      prxdata8bits  = pRxData;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;      prxdata16bits = NULL;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    }</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160; </div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <span class="comment">/* as long as data have to be received */</span></div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    <span class="keywordflow">while</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a1301a145dcb6cd6ddc389b7e27e72d62">RxXferCount</a> &gt; 0U)</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    {</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;<span class="preprocessor">#if defined(USART_CR2_SLVEN)</span></div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;      <span class="keywordflow">if</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a515298328f193d87ae76baaaf7c6013a">SlaveMode</a> == USART_SLAVEMODE_DISABLE)</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR2_SLVEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;      {</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        <span class="comment">/* Wait until TXE flag is set to send dummy byte in order to generate the</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;<span class="comment">        * clock for the slave to send data.</span></div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;<span class="comment">        * Whatever the frame length (7, 8 or 9-bit long), the same dummy value</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;<span class="comment">        * can be written for all the cases. */</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__USART__Private__Functions.html#ga6d57689a72b36e10d45b353bcf1487a2">USART_WaitOnFlagUntilTimeout</a>(husart, USART_FLAG_TXE, RESET, tickstart, Timeout) != <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;        {</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;          <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;        }</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;TDR = (USART_DUMMY_DATA &amp; (uint16_t)0x0FF);</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;      }</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160; </div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;      <span class="comment">/* Wait for RXNE Flag */</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="group__USART__Private__Functions.html#ga6d57689a72b36e10d45b353bcf1487a2">USART_WaitOnFlagUntilTimeout</a>(husart, USART_FLAG_RXNE, RESET, tickstart, Timeout) != <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;      {</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;        <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;      }</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160; </div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;      <span class="keywordflow">if</span> (prxdata8bits == NULL)</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;      {</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        *prxdata16bits = (uint16_t)(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;RDR &amp; uhMask);</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        prxdata16bits++;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;      }</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;      {</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;        *prxdata8bits = (uint8_t)(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;RDR &amp; (uint8_t)(uhMask &amp; 0xFFU));</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        prxdata8bits++;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;      }</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160; </div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;      husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a1301a145dcb6cd6ddc389b7e27e72d62">RxXferCount</a>--;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160; </div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    }</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160; </div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;<span class="preprocessor">#if defined(USART_CR2_SLVEN)</span></div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    <span class="comment">/* Clear SPI slave underrun flag and discard transmit data */</span></div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    <span class="keywordflow">if</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a515298328f193d87ae76baaaf7c6013a">SlaveMode</a> == USART_SLAVEMODE_ENABLE)</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    {</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;      __HAL_USART_CLEAR_UDRFLAG(husart);</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;      __HAL_USART_SEND_REQ(husart, USART_TXDATA_FLUSH_REQUEST);</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    }</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR2_SLVEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160; </div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <span class="comment">/* At end of Rx process, restore husart-&gt;State to Ready */</span></div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#aa830327a9f308378a609fc427c729de4">State</a> = <a class="code" href="group__USART__Exported__Types.html#gga502e7abdfa6b24f0f6b40cf60c7383c5ac707f3dc06c16fce84d167b03441e3d1">HAL_USART_STATE_READY</a>;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160; </div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(husart);</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160; </div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  }</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;  {</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    <span class="keywordflow">return</span> HAL_BUSY;</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;  }</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gab0322771e1ddbb8c2ac6dd75e7e1c90e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab0322771e1ddbb8c2ac6dd75e7e1c90e">&#9670;&nbsp;</a></span>HAL_USART_Receive_DMA()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_USART_Receive_DMA </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>husart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pRxData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive an amount of data in DMA mode. </p>
<dl class="section note"><dt>Note</dt><dd>When the USART parity is enabled (PCE = 1), the received data contain the parity bit (MSB position). </dd>
<dd>
The USART DMA transmit channel must be configured in order to generate the clock for the slave. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">husart</td><td>USART handle. </td></tr>
    <tr><td class="paramname">pRxData</td><td>pointer to data buffer. </td></tr>
    <tr><td class="paramname">Size</td><td>amount of data to be received. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__usart_8c_source.html#l01495">1495</a> of file <a class="el" href="stm32l4xx__hal__usart_8c_source.html">stm32l4xx_hal_usart.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;{</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;  HAL_StatusTypeDef status = <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;  uint32_t *tmp = (uint32_t *)&amp;pRxData;</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160; </div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;  <span class="comment">/* Check that a Rx process is not already ongoing */</span></div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;  <span class="keywordflow">if</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#aa830327a9f308378a609fc427c729de4">State</a> == <a class="code" href="group__USART__Exported__Types.html#gga502e7abdfa6b24f0f6b40cf60c7383c5ac707f3dc06c16fce84d167b03441e3d1">HAL_USART_STATE_READY</a>)</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;  {</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    <span class="keywordflow">if</span> ((pRxData == NULL) || (Size == 0U))</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    {</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;      <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    }</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160; </div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    <span class="comment">/* Process Locked */</span></div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(husart);</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160; </div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a9b515aaeac06125c4abba9dd053606dc">pRxBuffPtr</a> = pRxData;</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a39548adb4533a0c1fb452078d6e8c872">RxXferSize</a> = Size;</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a8e9b92faf2f261b9fbb2db6cc08114cb">pTxBuffPtr</a> = pRxData;</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a8fa271afb87f7239d9f60c1fba746da5">TxXferSize</a> = Size;</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160; </div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ac8fbc6455a3506ccbe22c0f4c9d6a34d">ErrorCode</a> = HAL_USART_ERROR_NONE;</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#aa830327a9f308378a609fc427c729de4">State</a> = <a class="code" href="group__USART__Exported__Types.html#gga502e7abdfa6b24f0f6b40cf60c7383c5a4943f2dd7af684bfad7688b16e149f0d">HAL_USART_STATE_BUSY_RX</a>;</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160; </div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    <span class="keywordflow">if</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6d8f4e4b414b8fbfd62aa60f29c38ec9">hdmarx</a> != NULL)</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    {</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;      <span class="comment">/* Set the USART DMA Rx transfer complete callback */</span></div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;      husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6d8f4e4b414b8fbfd62aa60f29c38ec9">hdmarx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a4f323d8234b3f5f454a639e9df3cba23">XferCpltCallback</a> = <a class="code" href="group__USART__Private__Functions.html#ga41aad1654bcec9d68295c9f2e13a2c60">USART_DMAReceiveCplt</a>;</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160; </div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;      <span class="comment">/* Set the USART DMA Half transfer complete callback */</span></div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;      husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6d8f4e4b414b8fbfd62aa60f29c38ec9">hdmarx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a2e343c6a9135222a8efb8ca5bb5dad8c">XferHalfCpltCallback</a> = <a class="code" href="group__USART__Private__Functions.html#gaac0a64b34f1ea5f483db3d72c1e2184e">USART_DMARxHalfCplt</a>;</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160; </div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;      <span class="comment">/* Set the USART DMA Rx transfer error callback */</span></div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;      husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6d8f4e4b414b8fbfd62aa60f29c38ec9">hdmarx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a5905bba1de7dc9d803a50dfb44d0a9e8">XferErrorCallback</a> = <a class="code" href="group__USART__Private__Functions.html#ga4083e5e8c8ebff18ce53469ccdaaad42">USART_DMAError</a>;</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160; </div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;      <span class="comment">/* Enable the USART receive DMA channel */</span></div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;      status = <a class="code" href="group__DMA__Exported__Functions__Group2.html#ga7eddc0931ac8a3d77b23d6d5e68407c7">HAL_DMA_Start_IT</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6d8f4e4b414b8fbfd62aa60f29c38ec9">hdmarx</a>, (uint32_t)&amp;husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;RDR, *(uint32_t *)tmp, Size);</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    }</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160; </div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;<span class="preprocessor">#if defined(USART_CR2_SLVEN)</span></div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    <span class="keywordflow">if</span> ((status == <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>) &amp;&amp;</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;        (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a515298328f193d87ae76baaaf7c6013a">SlaveMode</a> == USART_SLAVEMODE_DISABLE))</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR2_SLVEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    {</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;      <span class="comment">/* Enable the USART transmit DMA channel: the transmit channel is used in order</span></div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;<span class="comment">         to generate in the non-blocking mode the clock to the slave device,</span></div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;<span class="comment">         this mode isn&#39;t a simplex receive mode but a full-duplex receive mode */</span></div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160; </div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;      <span class="comment">/* Set the USART DMA Tx Complete and Error callback to Null */</span></div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;      <span class="keywordflow">if</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a11000808cb7a216077a51691aaceba95">hdmatx</a> != NULL)</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;      {</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;        husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a11000808cb7a216077a51691aaceba95">hdmatx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a5905bba1de7dc9d803a50dfb44d0a9e8">XferErrorCallback</a> = NULL;</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;        husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a11000808cb7a216077a51691aaceba95">hdmatx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a2e343c6a9135222a8efb8ca5bb5dad8c">XferHalfCpltCallback</a> = NULL;</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;        husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a11000808cb7a216077a51691aaceba95">hdmatx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a4f323d8234b3f5f454a639e9df3cba23">XferCpltCallback</a> = NULL;</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;        status = <a class="code" href="group__DMA__Exported__Functions__Group2.html#ga7eddc0931ac8a3d77b23d6d5e68407c7">HAL_DMA_Start_IT</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a11000808cb7a216077a51691aaceba95">hdmatx</a>, *(uint32_t *)tmp, (uint32_t)&amp;husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;TDR, Size);</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;      }</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    }</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160; </div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;    <span class="keywordflow">if</span> (status == <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    {</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;      <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(husart);</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160; </div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;      <span class="comment">/* Enable the USART Parity Error Interrupt */</span></div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;      SET_BIT(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR1, USART_CR1_PEIE);</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160; </div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;      <span class="comment">/* Enable the USART Error Interrupt: (Frame error, noise error, overrun error) */</span></div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;      SET_BIT(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_EIE);</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160; </div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;      <span class="comment">/* Enable the DMA transfer for the receiver request by setting the DMAR bit</span></div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;<span class="comment">         in the USART CR3 register */</span></div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;      SET_BIT(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_DMAR);</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160; </div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;      <span class="comment">/* Enable the DMA transfer for transmit request by setting the DMAT bit</span></div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;<span class="comment">         in the USART CR3 register */</span></div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;      SET_BIT(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_DMAT);</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160; </div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;    }</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;    {</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;      <span class="keywordflow">if</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6d8f4e4b414b8fbfd62aa60f29c38ec9">hdmarx</a> != NULL)</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;      {</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;        status = <a class="code" href="group__DMA__Exported__Functions__Group2.html#ga001f9fb04328a7460f9ff16908ff987c">HAL_DMA_Abort</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6d8f4e4b414b8fbfd62aa60f29c38ec9">hdmarx</a>);</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;      }</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160; </div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;      <span class="comment">/* No need to check on error code */</span></div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;      UNUSED(status);</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160; </div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;      <span class="comment">/* Set error code to DMA */</span></div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;      husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ac8fbc6455a3506ccbe22c0f4c9d6a34d">ErrorCode</a> = HAL_USART_ERROR_DMA;</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160; </div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;      <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(husart);</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160; </div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;      <span class="comment">/* Restore husart-&gt;State to ready */</span></div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;      husart-&gt;<a class="code" href="group__USART__Exported__Types.html#aa830327a9f308378a609fc427c729de4">State</a> = <a class="code" href="group__USART__Exported__Types.html#gga502e7abdfa6b24f0f6b40cf60c7383c5ac707f3dc06c16fce84d167b03441e3d1">HAL_USART_STATE_READY</a>;</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160; </div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;      <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    }</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;  }</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;  {</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    <span class="keywordflow">return</span> HAL_BUSY;</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;  }</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga19816dd7809a5dba59f309172cb7ea2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga19816dd7809a5dba59f309172cb7ea2d">&#9670;&nbsp;</a></span>HAL_USART_Receive_IT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_USART_Receive_IT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>husart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pRxData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive an amount of data in interrupt mode. </p>
<dl class="section note"><dt>Note</dt><dd>To receive synchronous data, dummy data are simultaneously transmitted. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">husart</td><td>USART handle. </td></tr>
    <tr><td class="paramname">pRxData</td><td>pointer to data buffer. </td></tr>
    <tr><td class="paramname">Size</td><td>amount of data to be received. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__usart_8c_source.html#l01195">1195</a> of file <a class="el" href="stm32l4xx__hal__usart_8c_source.html">stm32l4xx_hal_usart.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;{</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;<span class="preprocessor">#if defined(USART_CR1_FIFOEN)</span></div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;  uint16_t nb_dummy_data;</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR1_FIFOEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160; </div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;  <span class="keywordflow">if</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#aa830327a9f308378a609fc427c729de4">State</a> == <a class="code" href="group__USART__Exported__Types.html#gga502e7abdfa6b24f0f6b40cf60c7383c5ac707f3dc06c16fce84d167b03441e3d1">HAL_USART_STATE_READY</a>)</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;  {</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    <span class="keywordflow">if</span> ((pRxData == NULL) || (Size == 0U))</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    {</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;      <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    }</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160; </div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <span class="comment">/* Process Locked */</span></div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(husart);</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160; </div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a9b515aaeac06125c4abba9dd053606dc">pRxBuffPtr</a>  = pRxData;</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a39548adb4533a0c1fb452078d6e8c872">RxXferSize</a>  = Size;</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a1301a145dcb6cd6ddc389b7e27e72d62">RxXferCount</a> = Size;</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6e2691c9e9cd2cee513abc69094596f6">RxISR</a>       = NULL;</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160; </div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    USART_MASK_COMPUTATION(husart);</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160; </div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ac8fbc6455a3506ccbe22c0f4c9d6a34d">ErrorCode</a> = HAL_USART_ERROR_NONE;</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#aa830327a9f308378a609fc427c729de4">State</a> = <a class="code" href="group__USART__Exported__Types.html#gga502e7abdfa6b24f0f6b40cf60c7383c5a4943f2dd7af684bfad7688b16e149f0d">HAL_USART_STATE_BUSY_RX</a>;</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160; </div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    <span class="comment">/* Enable the USART Error Interrupt: (Frame error, noise error, overrun error) */</span></div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    SET_BIT(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_EIE);</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160; </div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;<span class="preprocessor">#if defined(USART_CR1_FIFOEN)</span></div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    <span class="comment">/* Configure Rx interrupt processing */</span></div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    <span class="keywordflow">if</span> ((husart-&gt;<a class="code" href="group__USART__Exported__Types.html#acd581f0b0ab90827fb07cff142347e28">FifoMode</a> == USART_FIFOMODE_ENABLE) &amp;&amp; (Size &gt;= husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a3d85c98abdfa4482d15ed780ffa6d385">NbRxDataToProcess</a>))</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    {</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;      <span class="comment">/* Set the Rx ISR function pointer according to the data word length */</span></div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;      <span class="keywordflow">if</span> ((husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a273bb4fbe1b8f222810068578a78d5a3">Init</a>.<a class="code" href="group__USART__Exported__Types.html#ac4012d27b28014f60a3ad987c62d4fc7">WordLength</a> == USART_WORDLENGTH_9B) &amp;&amp; (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a273bb4fbe1b8f222810068578a78d5a3">Init</a>.<a class="code" href="group__USART__Exported__Types.html#a87eb81cdeb80ee5c3d96aecbe9e75612">Parity</a> == USART_PARITY_NONE))</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;      {</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;        husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6e2691c9e9cd2cee513abc69094596f6">RxISR</a> = <a class="code" href="group__USART__Private__Functions.html#ga958030f33003efbc7ab2f335a698073a">USART_RxISR_16BIT_FIFOEN</a>;</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;      }</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;      {</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;        husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6e2691c9e9cd2cee513abc69094596f6">RxISR</a> = <a class="code" href="group__USART__Private__Functions.html#gaa1ebe96b487f3dc8a15ee5d6cdfbfb4e">USART_RxISR_8BIT_FIFOEN</a>;</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;      }</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160; </div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;      <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(husart);</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160; </div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;      <span class="comment">/* Enable the USART Parity Error interrupt and RX FIFO Threshold interrupt */</span></div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;      SET_BIT(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR1, USART_CR1_PEIE);</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;      SET_BIT(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_RXFTIE);</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    }</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR1_FIFOEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    {</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;      <span class="comment">/* Set the Rx ISR function pointer according to the data word length */</span></div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;      <span class="keywordflow">if</span> ((husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a273bb4fbe1b8f222810068578a78d5a3">Init</a>.<a class="code" href="group__USART__Exported__Types.html#ac4012d27b28014f60a3ad987c62d4fc7">WordLength</a> == USART_WORDLENGTH_9B) &amp;&amp; (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a273bb4fbe1b8f222810068578a78d5a3">Init</a>.<a class="code" href="group__USART__Exported__Types.html#a87eb81cdeb80ee5c3d96aecbe9e75612">Parity</a> == USART_PARITY_NONE))</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;      {</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;        husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6e2691c9e9cd2cee513abc69094596f6">RxISR</a> = <a class="code" href="group__USART__Private__Functions.html#gab00cd7d045b430c86bc200e7a33731f9">USART_RxISR_16BIT</a>;</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;      }</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;      {</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;        husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6e2691c9e9cd2cee513abc69094596f6">RxISR</a> = <a class="code" href="group__USART__Private__Functions.html#ga55dec863a01f715a7bc19e456dfce672">USART_RxISR_8BIT</a>;</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;      }</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160; </div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;      <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(husart);</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160; </div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;      <span class="comment">/* Enable the USART Parity Error and Data Register not empty Interrupts */</span></div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;<span class="preprocessor">#if defined(USART_CR1_FIFOEN)</span></div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;      SET_BIT(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR1, USART_CR1_PEIE | USART_CR1_RXNEIE_RXFNEIE);</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;      SET_BIT(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR1, USART_CR1_PEIE | USART_CR1_RXNEIE);</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR1_FIFOEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    }</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160; </div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;<span class="preprocessor">#if defined(USART_CR2_SLVEN)</span></div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <span class="keywordflow">if</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a515298328f193d87ae76baaaf7c6013a">SlaveMode</a> == USART_SLAVEMODE_DISABLE)</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR2_SLVEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    {</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;      <span class="comment">/* Send dummy data in order to generate the clock for the Slave to send the next data.</span></div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;<span class="comment">         When FIFO mode is disabled only one data must be transferred.</span></div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;<span class="comment">         When FIFO mode is enabled data must be transmitted until the RX FIFO reaches its threshold.</span></div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;<span class="comment">      */</span></div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;<span class="preprocessor">#if defined(USART_CR1_FIFOEN)</span></div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;      <span class="keywordflow">if</span> ((husart-&gt;<a class="code" href="group__USART__Exported__Types.html#acd581f0b0ab90827fb07cff142347e28">FifoMode</a> == USART_FIFOMODE_ENABLE) &amp;&amp; (Size &gt;= husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a3d85c98abdfa4482d15ed780ffa6d385">NbRxDataToProcess</a>))</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;      {</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;        <span class="keywordflow">for</span> (nb_dummy_data = husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a3d85c98abdfa4482d15ed780ffa6d385">NbRxDataToProcess</a> ; nb_dummy_data &gt; 0U ; nb_dummy_data--)</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;        {</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;          husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;TDR = (USART_DUMMY_DATA &amp; (uint16_t)0x00FF);</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;        }</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;      }</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR1_FIFOEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;      {</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;        husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;TDR = (USART_DUMMY_DATA &amp; (uint16_t)0x00FF);</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;      }</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    }</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160; </div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;  }</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;  {</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    <span class="keywordflow">return</span> HAL_BUSY;</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  }</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga758d52f84a345159fad4abb513652b49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga758d52f84a345159fad4abb513652b49">&#9670;&nbsp;</a></span>HAL_USART_RxCpltCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak void HAL_USART_RxCpltCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>husart</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rx Transfer completed callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">husart</td><td>USART handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__usart_8c_source.html#l02415">2415</a> of file <a class="el" href="stm32l4xx__hal__usart_8c_source.html">stm32l4xx_hal_usart.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;{</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;  <span class="comment">/* Prevent unused argument(s) compilation warning */</span></div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;  UNUSED(husart);</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160; </div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;  <span class="comment">/* NOTE: This function should not be modified, when the callback is needed,</span></div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;<span class="comment">           the HAL_USART_RxCpltCallback can be implemented in the user file.</span></div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gacb5b420845e16d30d4ae6736f5f6c250"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacb5b420845e16d30d4ae6736f5f6c250">&#9670;&nbsp;</a></span>HAL_USART_RxHalfCpltCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak void HAL_USART_RxHalfCpltCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>husart</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rx Half Transfer completed callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">husart</td><td>USART handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__usart_8c_source.html#l02430">2430</a> of file <a class="el" href="stm32l4xx__hal__usart_8c_source.html">stm32l4xx_hal_usart.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;{</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;  <span class="comment">/* Prevent unused argument(s) compilation warning */</span></div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;  UNUSED(husart);</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160; </div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;  <span class="comment">/* NOTE : This function should not be modified, when the callback is needed,</span></div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;<span class="comment">            the HAL_USART_RxHalfCpltCallback can be implemented in the user file</span></div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gaa80425d3a8fa74a17f74cb03a3c2ad05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa80425d3a8fa74a17f74cb03a3c2ad05">&#9670;&nbsp;</a></span>HAL_USART_Transmit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_USART_Transmit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>husart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pTxData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>Timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Simplex send an amount of data in blocking mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">husart</td><td>USART handle. </td></tr>
    <tr><td class="paramname">pTxData</td><td>Pointer to data buffer. </td></tr>
    <tr><td class="paramname">Size</td><td>Amount of data to be sent. </td></tr>
    <tr><td class="paramname">Timeout</td><td>Timeout duration. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__usart_8c_source.html#l00758">758</a> of file <a class="el" href="stm32l4xx__hal__usart_8c_source.html">stm32l4xx_hal_usart.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;{</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  uint8_t  *ptxdata8bits;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  uint16_t *ptxdata16bits;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  uint32_t tickstart;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160; </div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  <span class="keywordflow">if</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#aa830327a9f308378a609fc427c729de4">State</a> == <a class="code" href="group__USART__Exported__Types.html#gga502e7abdfa6b24f0f6b40cf60c7383c5ac707f3dc06c16fce84d167b03441e3d1">HAL_USART_STATE_READY</a>)</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  {</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="keywordflow">if</span> ((pTxData == NULL) || (Size == 0U))</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    {</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;      <span class="keywordflow">return</span>  HAL_ERROR;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    }</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160; </div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="comment">/* Process Locked */</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(husart);</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160; </div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ac8fbc6455a3506ccbe22c0f4c9d6a34d">ErrorCode</a> = HAL_USART_ERROR_NONE;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#aa830327a9f308378a609fc427c729de4">State</a> = <a class="code" href="group__USART__Exported__Types.html#gga502e7abdfa6b24f0f6b40cf60c7383c5a2ee8ab5e15829c484ab4c4fbec68d3f6">HAL_USART_STATE_BUSY_TX</a>;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160; </div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <span class="comment">/* Init tickstart for timeout managment*/</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    tickstart = <a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>();</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160; </div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a8fa271afb87f7239d9f60c1fba746da5">TxXferSize</a> = Size;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a2d01e878e36618b0a990ee1c66297961">TxXferCount</a> = Size;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160; </div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="comment">/* In case of 9bits/No Parity transfer, pTxData needs to be handled as a uint16_t pointer */</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <span class="keywordflow">if</span> ((husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a273bb4fbe1b8f222810068578a78d5a3">Init</a>.<a class="code" href="group__USART__Exported__Types.html#ac4012d27b28014f60a3ad987c62d4fc7">WordLength</a> == USART_WORDLENGTH_9B) &amp;&amp; (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a273bb4fbe1b8f222810068578a78d5a3">Init</a>.<a class="code" href="group__USART__Exported__Types.html#a87eb81cdeb80ee5c3d96aecbe9e75612">Parity</a> == USART_PARITY_NONE))</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    {</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;      ptxdata8bits  = NULL;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;      ptxdata16bits = (uint16_t *) pTxData;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    }</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    {</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      ptxdata8bits  = pTxData;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;      ptxdata16bits = NULL;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    }</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160; </div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="comment">/* Check the remaining data to be sent */</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="keywordflow">while</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a2d01e878e36618b0a990ee1c66297961">TxXferCount</a> &gt; 0U)</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    {</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="group__USART__Private__Functions.html#ga6d57689a72b36e10d45b353bcf1487a2">USART_WaitOnFlagUntilTimeout</a>(husart, USART_FLAG_TXE, RESET, tickstart, Timeout) != <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;      {</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;      }</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;      <span class="keywordflow">if</span> (ptxdata8bits == NULL)</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;      {</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;TDR = (uint16_t)(*ptxdata16bits &amp; 0x01FFU);</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        ptxdata16bits++;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;      }</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;      {</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;        husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;TDR = (uint8_t)(*ptxdata8bits &amp; 0xFFU);</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        ptxdata8bits++;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;      }</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160; </div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;      husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a2d01e878e36618b0a990ee1c66297961">TxXferCount</a>--;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    }</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160; </div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__USART__Private__Functions.html#ga6d57689a72b36e10d45b353bcf1487a2">USART_WaitOnFlagUntilTimeout</a>(husart, USART_FLAG_TC, RESET, tickstart, Timeout) != <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    {</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;      <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    }</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160; </div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <span class="comment">/* Clear Transmission Complete Flag */</span></div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    __HAL_USART_CLEAR_FLAG(husart, USART_CLEAR_TCF);</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160; </div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    <span class="comment">/* Clear overrun flag and discard the received data */</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    __HAL_USART_CLEAR_OREFLAG(husart);</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    __HAL_USART_SEND_REQ(husart, USART_RXDATA_FLUSH_REQUEST);</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    __HAL_USART_SEND_REQ(husart, USART_TXDATA_FLUSH_REQUEST);</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160; </div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <span class="comment">/* At end of Tx process, restore husart-&gt;State to Ready */</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#aa830327a9f308378a609fc427c729de4">State</a> = <a class="code" href="group__USART__Exported__Types.html#gga502e7abdfa6b24f0f6b40cf60c7383c5ac707f3dc06c16fce84d167b03441e3d1">HAL_USART_STATE_READY</a>;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160; </div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(husart);</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160; </div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  }</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  {</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <span class="keywordflow">return</span> HAL_BUSY;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  }</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga3d52e7ec93f6111e87c11daa8c00d1a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3d52e7ec93f6111e87c11daa8c00d1a1">&#9670;&nbsp;</a></span>HAL_USART_Transmit_DMA()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_USART_Transmit_DMA </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>husart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pTxData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send an amount of data in DMA mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">husart</td><td>USART handle. </td></tr>
    <tr><td class="paramname">pTxData</td><td>pointer to data buffer. </td></tr>
    <tr><td class="paramname">Size</td><td>amount of data to be sent. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__usart_8c_source.html#l01413">1413</a> of file <a class="el" href="stm32l4xx__hal__usart_8c_source.html">stm32l4xx_hal_usart.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;{</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;  HAL_StatusTypeDef status = <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;  uint32_t *tmp;</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160; </div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;  <span class="keywordflow">if</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#aa830327a9f308378a609fc427c729de4">State</a> == <a class="code" href="group__USART__Exported__Types.html#gga502e7abdfa6b24f0f6b40cf60c7383c5ac707f3dc06c16fce84d167b03441e3d1">HAL_USART_STATE_READY</a>)</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;  {</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    <span class="keywordflow">if</span> ((pTxData == NULL) || (Size == 0U))</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    {</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;      <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    }</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160; </div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    <span class="comment">/* Process Locked */</span></div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(husart);</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160; </div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a8e9b92faf2f261b9fbb2db6cc08114cb">pTxBuffPtr</a> = pTxData;</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a8fa271afb87f7239d9f60c1fba746da5">TxXferSize</a> = Size;</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a2d01e878e36618b0a990ee1c66297961">TxXferCount</a> = Size;</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160; </div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ac8fbc6455a3506ccbe22c0f4c9d6a34d">ErrorCode</a> = HAL_USART_ERROR_NONE;</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#aa830327a9f308378a609fc427c729de4">State</a> = <a class="code" href="group__USART__Exported__Types.html#gga502e7abdfa6b24f0f6b40cf60c7383c5a2ee8ab5e15829c484ab4c4fbec68d3f6">HAL_USART_STATE_BUSY_TX</a>;</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160; </div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    <span class="keywordflow">if</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a11000808cb7a216077a51691aaceba95">hdmatx</a> != NULL)</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    {</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;      <span class="comment">/* Set the USART DMA transfer complete callback */</span></div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;      husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a11000808cb7a216077a51691aaceba95">hdmatx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a4f323d8234b3f5f454a639e9df3cba23">XferCpltCallback</a> = <a class="code" href="group__USART__Private__Functions.html#ga8a698c159058079178814d9e85a9e9c0">USART_DMATransmitCplt</a>;</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160; </div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;      <span class="comment">/* Set the USART DMA Half transfer complete callback */</span></div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;      husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a11000808cb7a216077a51691aaceba95">hdmatx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a2e343c6a9135222a8efb8ca5bb5dad8c">XferHalfCpltCallback</a> = <a class="code" href="group__USART__Private__Functions.html#gaf6992131929bc520ed33a4ad6dbca1f2">USART_DMATxHalfCplt</a>;</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160; </div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;      <span class="comment">/* Set the DMA error callback */</span></div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;      husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a11000808cb7a216077a51691aaceba95">hdmatx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a5905bba1de7dc9d803a50dfb44d0a9e8">XferErrorCallback</a> = <a class="code" href="group__USART__Private__Functions.html#ga4083e5e8c8ebff18ce53469ccdaaad42">USART_DMAError</a>;</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160; </div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;      <span class="comment">/* Enable the USART transmit DMA channel */</span></div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;      tmp = (uint32_t *)&amp;pTxData;</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;      status = <a class="code" href="group__DMA__Exported__Functions__Group2.html#ga7eddc0931ac8a3d77b23d6d5e68407c7">HAL_DMA_Start_IT</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a11000808cb7a216077a51691aaceba95">hdmatx</a>, *(uint32_t *)tmp, (uint32_t)&amp;husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;TDR, Size);</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    }</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160; </div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    <span class="keywordflow">if</span> (status == <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    {</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;      <span class="comment">/* Clear the TC flag in the ICR register */</span></div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;      __HAL_USART_CLEAR_FLAG(husart, USART_CLEAR_TCF);</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160; </div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;      <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(husart);</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160; </div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;      <span class="comment">/* Enable the DMA transfer for transmit request by setting the DMAT bit</span></div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;<span class="comment">         in the USART CR3 register */</span></div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;      SET_BIT(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_DMAT);</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160; </div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;    }</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;    {</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;      <span class="comment">/* Set error code to DMA */</span></div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;      husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ac8fbc6455a3506ccbe22c0f4c9d6a34d">ErrorCode</a> = HAL_USART_ERROR_DMA;</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160; </div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;      <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(husart);</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160; </div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;      <span class="comment">/* Restore husart-&gt;State to ready */</span></div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;      husart-&gt;<a class="code" href="group__USART__Exported__Types.html#aa830327a9f308378a609fc427c729de4">State</a> = <a class="code" href="group__USART__Exported__Types.html#gga502e7abdfa6b24f0f6b40cf60c7383c5ac707f3dc06c16fce84d167b03441e3d1">HAL_USART_STATE_READY</a>;</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160; </div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;      <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    }</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;  }</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;  {</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    <span class="keywordflow">return</span> HAL_BUSY;</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;  }</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gaee43a3d0faab6467aea5663f8b0e87b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaee43a3d0faab6467aea5663f8b0e87b0">&#9670;&nbsp;</a></span>HAL_USART_Transmit_IT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_USART_Transmit_IT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>husart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pTxData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send an amount of data in interrupt mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">husart</td><td>USART handle. </td></tr>
    <tr><td class="paramname">pTxData</td><td>pointer to data buffer. </td></tr>
    <tr><td class="paramname">Size</td><td>amount of data to be sent. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__usart_8c_source.html#l01113">1113</a> of file <a class="el" href="stm32l4xx__hal__usart_8c_source.html">stm32l4xx_hal_usart.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;{</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  <span class="keywordflow">if</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#aa830327a9f308378a609fc427c729de4">State</a> == <a class="code" href="group__USART__Exported__Types.html#gga502e7abdfa6b24f0f6b40cf60c7383c5ac707f3dc06c16fce84d167b03441e3d1">HAL_USART_STATE_READY</a>)</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;  {</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    <span class="keywordflow">if</span> ((pTxData == NULL) || (Size == 0U))</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    {</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;      <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    }</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160; </div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    <span class="comment">/* Process Locked */</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(husart);</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160; </div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a8e9b92faf2f261b9fbb2db6cc08114cb">pTxBuffPtr</a>  = pTxData;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a8fa271afb87f7239d9f60c1fba746da5">TxXferSize</a>  = Size;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a2d01e878e36618b0a990ee1c66297961">TxXferCount</a> = Size;</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a83d29166fa78814668c65fb9d35767fb">TxISR</a>       = NULL;</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160; </div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ac8fbc6455a3506ccbe22c0f4c9d6a34d">ErrorCode</a> = HAL_USART_ERROR_NONE;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#aa830327a9f308378a609fc427c729de4">State</a>     = <a class="code" href="group__USART__Exported__Types.html#gga502e7abdfa6b24f0f6b40cf60c7383c5a2ee8ab5e15829c484ab4c4fbec68d3f6">HAL_USART_STATE_BUSY_TX</a>;</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160; </div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <span class="comment">/* The USART Error Interrupts: (Frame error, noise error, overrun error)</span></div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;<span class="comment">    are not managed by the USART Transmit Process to avoid the overrun interrupt</span></div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;<span class="comment">    when the usart mode is configured for transmit and receive &quot;USART_MODE_TX_RX&quot;</span></div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;<span class="comment">    to benefit for the frame error and noise interrupts the usart mode should be</span></div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;<span class="comment">    configured only for transmit &quot;USART_MODE_TX&quot; */</span></div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160; </div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;<span class="preprocessor">#if defined(USART_CR1_FIFOEN)</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    <span class="comment">/* Configure Tx interrupt processing */</span></div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    <span class="keywordflow">if</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#acd581f0b0ab90827fb07cff142347e28">FifoMode</a> == USART_FIFOMODE_ENABLE)</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    {</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;      <span class="comment">/* Set the Tx ISR function pointer according to the data word length */</span></div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;      <span class="keywordflow">if</span> ((husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a273bb4fbe1b8f222810068578a78d5a3">Init</a>.<a class="code" href="group__USART__Exported__Types.html#ac4012d27b28014f60a3ad987c62d4fc7">WordLength</a> == USART_WORDLENGTH_9B) &amp;&amp; (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a273bb4fbe1b8f222810068578a78d5a3">Init</a>.<a class="code" href="group__USART__Exported__Types.html#a87eb81cdeb80ee5c3d96aecbe9e75612">Parity</a> == USART_PARITY_NONE))</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;      {</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;        husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a83d29166fa78814668c65fb9d35767fb">TxISR</a> = <a class="code" href="group__USART__Private__Functions.html#ga3b33445d566764d27c8d5466ef959655">USART_TxISR_16BIT_FIFOEN</a>;</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;      }</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;      {</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;        husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a83d29166fa78814668c65fb9d35767fb">TxISR</a> = <a class="code" href="group__USART__Private__Functions.html#gaf209f576b56067cd2ab09c04f9f4154d">USART_TxISR_8BIT_FIFOEN</a>;</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;      }</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160; </div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;      <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(husart);</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160; </div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;      <span class="comment">/* Enable the TX FIFO threshold interrupt */</span></div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;      __HAL_USART_ENABLE_IT(husart, USART_IT_TXFT);</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    }</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR1_FIFOEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    {</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;      <span class="comment">/* Set the Tx ISR function pointer according to the data word length */</span></div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;      <span class="keywordflow">if</span> ((husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a273bb4fbe1b8f222810068578a78d5a3">Init</a>.<a class="code" href="group__USART__Exported__Types.html#ac4012d27b28014f60a3ad987c62d4fc7">WordLength</a> == USART_WORDLENGTH_9B) &amp;&amp; (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a273bb4fbe1b8f222810068578a78d5a3">Init</a>.<a class="code" href="group__USART__Exported__Types.html#a87eb81cdeb80ee5c3d96aecbe9e75612">Parity</a> == USART_PARITY_NONE))</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;      {</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;        husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a83d29166fa78814668c65fb9d35767fb">TxISR</a> = <a class="code" href="group__USART__Private__Functions.html#ga7a03b5bebecb6e52619dfff580bd819e">USART_TxISR_16BIT</a>;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;      }</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;      {</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;        husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a83d29166fa78814668c65fb9d35767fb">TxISR</a> = <a class="code" href="group__USART__Private__Functions.html#ga292f05e322adc7e274e5f50b414dfe03">USART_TxISR_8BIT</a>;</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;      }</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160; </div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;      <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(husart);</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160; </div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;      <span class="comment">/* Enable the USART Transmit Data Register Empty Interrupt */</span></div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;      __HAL_USART_ENABLE_IT(husart, USART_IT_TXE);</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    }</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160; </div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;  }</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;  {</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    <span class="keywordflow">return</span> HAL_BUSY;</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;  }</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gad6da6800e21d17bd021f5d0cc068f271"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad6da6800e21d17bd021f5d0cc068f271">&#9670;&nbsp;</a></span>HAL_USART_TransmitReceive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_USART_TransmitReceive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>husart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pTxData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pRxData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>Timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Full-Duplex Send and Receive an amount of data in blocking mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">husart</td><td>USART handle. </td></tr>
    <tr><td class="paramname">pTxData</td><td>pointer to TX data buffer. </td></tr>
    <tr><td class="paramname">pRxData</td><td>pointer to RX data buffer. </td></tr>
    <tr><td class="paramname">Size</td><td>amount of data to be sent (same amount to be received). </td></tr>
    <tr><td class="paramname">Timeout</td><td>Timeout duration. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__usart_8c_source.html#l00965">965</a> of file <a class="el" href="stm32l4xx__hal__usart_8c_source.html">stm32l4xx_hal_usart.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;{</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  uint8_t  *prxdata8bits;</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  uint16_t *prxdata16bits;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  uint8_t  *ptxdata8bits;</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;  uint16_t *ptxdata16bits;</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  uint16_t uhMask;</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  uint16_t rxdatacount;</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;  uint32_t tickstart;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160; </div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;  <span class="keywordflow">if</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#aa830327a9f308378a609fc427c729de4">State</a> == <a class="code" href="group__USART__Exported__Types.html#gga502e7abdfa6b24f0f6b40cf60c7383c5ac707f3dc06c16fce84d167b03441e3d1">HAL_USART_STATE_READY</a>)</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  {</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    <span class="keywordflow">if</span> ((pTxData == NULL) || (pRxData == NULL) || (Size == 0U))</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    {</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;      <span class="keywordflow">return</span>  HAL_ERROR;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    }</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160; </div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    <span class="comment">/* Process Locked */</span></div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(husart);</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160; </div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ac8fbc6455a3506ccbe22c0f4c9d6a34d">ErrorCode</a> = HAL_USART_ERROR_NONE;</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#aa830327a9f308378a609fc427c729de4">State</a> = <a class="code" href="group__USART__Exported__Types.html#gga502e7abdfa6b24f0f6b40cf60c7383c5a4943f2dd7af684bfad7688b16e149f0d">HAL_USART_STATE_BUSY_RX</a>;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160; </div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    <span class="comment">/* Init tickstart for timeout managment*/</span></div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    tickstart = <a class="code" href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a>();</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160; </div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a39548adb4533a0c1fb452078d6e8c872">RxXferSize</a> = Size;</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a8fa271afb87f7239d9f60c1fba746da5">TxXferSize</a> = Size;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a2d01e878e36618b0a990ee1c66297961">TxXferCount</a> = Size;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a1301a145dcb6cd6ddc389b7e27e72d62">RxXferCount</a> = Size;</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160; </div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    <span class="comment">/* Computation of USART mask to apply to RDR register */</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    USART_MASK_COMPUTATION(husart);</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    uhMask = husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a5120e074284a793f8e21426df45a7ec6">Mask</a>;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160; </div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    <span class="comment">/* In case of 9bits/No Parity transfer, pRxData needs to be handled as a uint16_t pointer */</span></div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    <span class="keywordflow">if</span> ((husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a273bb4fbe1b8f222810068578a78d5a3">Init</a>.<a class="code" href="group__USART__Exported__Types.html#ac4012d27b28014f60a3ad987c62d4fc7">WordLength</a> == USART_WORDLENGTH_9B) &amp;&amp; (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a273bb4fbe1b8f222810068578a78d5a3">Init</a>.<a class="code" href="group__USART__Exported__Types.html#a87eb81cdeb80ee5c3d96aecbe9e75612">Parity</a> == USART_PARITY_NONE))</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    {</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;      prxdata8bits  = NULL;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;      ptxdata8bits  = NULL;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;      ptxdata16bits = (uint16_t *) pTxData;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;      prxdata16bits = (uint16_t *) pRxData;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    }</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    {</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;      prxdata8bits  = pRxData;</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;      ptxdata8bits  = pTxData;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;      ptxdata16bits = NULL;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;      prxdata16bits = NULL;</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    }</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160; </div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;<span class="preprocessor">#if defined(USART_CR2_SLVEN)</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <span class="keywordflow">if</span> ((husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a2d01e878e36618b0a990ee1c66297961">TxXferCount</a> == 0x01U) || (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a515298328f193d87ae76baaaf7c6013a">SlaveMode</a> == USART_SLAVEMODE_ENABLE))</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <span class="keywordflow">if</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a2d01e878e36618b0a990ee1c66297961">TxXferCount</a> == 0x01U)</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR2_SLVEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    {</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;      <span class="comment">/* Wait until TXE flag is set to send data */</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="group__USART__Private__Functions.html#ga6d57689a72b36e10d45b353bcf1487a2">USART_WaitOnFlagUntilTimeout</a>(husart, USART_FLAG_TXE, RESET, tickstart, Timeout) != <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;      {</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;        <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;      }</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;      <span class="keywordflow">if</span> (ptxdata8bits == NULL)</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;      {</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;        husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;TDR = (uint16_t)(*ptxdata16bits &amp; uhMask);</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;        ptxdata16bits++;</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;      }</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;      {</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;TDR = (uint8_t)(*ptxdata8bits &amp; (uint8_t)(uhMask &amp; 0xFFU));</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;        ptxdata8bits++;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;      }</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160; </div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;      husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a2d01e878e36618b0a990ee1c66297961">TxXferCount</a>--;</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    }</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160; </div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="comment">/* Check the remain data to be sent */</span></div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <span class="comment">/* rxdatacount is a temporary variable for MISRAC2012-Rule-13.5 */</span></div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    rxdatacount = husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a1301a145dcb6cd6ddc389b7e27e72d62">RxXferCount</a>;</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <span class="keywordflow">while</span> ((husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a2d01e878e36618b0a990ee1c66297961">TxXferCount</a> &gt; 0U) || (rxdatacount &gt; 0U))</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    {</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;      <span class="keywordflow">if</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a2d01e878e36618b0a990ee1c66297961">TxXferCount</a> &gt; 0U)</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;      {</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        <span class="comment">/* Wait until TXE flag is set to send data */</span></div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__USART__Private__Functions.html#ga6d57689a72b36e10d45b353bcf1487a2">USART_WaitOnFlagUntilTimeout</a>(husart, USART_FLAG_TXE, RESET, tickstart, Timeout) != <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;        {</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;          <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;        }</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        <span class="keywordflow">if</span> (ptxdata8bits == NULL)</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;        {</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;          husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;TDR = (uint16_t)(*ptxdata16bits &amp; uhMask);</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;          ptxdata16bits++;</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;        }</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;        {</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;          husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;TDR = (uint8_t)(*ptxdata8bits &amp; (uint8_t)(uhMask &amp; 0xFFU));</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;          ptxdata8bits++;</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;        }</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160; </div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;        husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a2d01e878e36618b0a990ee1c66297961">TxXferCount</a>--;</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;      }</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160; </div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;      <span class="keywordflow">if</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a1301a145dcb6cd6ddc389b7e27e72d62">RxXferCount</a> &gt; 0U)</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;      {</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        <span class="comment">/* Wait for RXNE Flag */</span></div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__USART__Private__Functions.html#ga6d57689a72b36e10d45b353bcf1487a2">USART_WaitOnFlagUntilTimeout</a>(husart, USART_FLAG_RXNE, RESET, tickstart, Timeout) != <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        {</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;          <span class="keywordflow">return</span> HAL_TIMEOUT;</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        }</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160; </div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;        <span class="keywordflow">if</span> (prxdata8bits == NULL)</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;        {</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;          *prxdata16bits = (uint16_t)(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;RDR &amp; uhMask);</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;          prxdata16bits++;</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;        }</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;        {</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;          *prxdata8bits = (uint8_t)(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;RDR &amp; (uint8_t)(uhMask &amp; 0xFFU));</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;          prxdata8bits++;</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;        }</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160; </div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;        husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a1301a145dcb6cd6ddc389b7e27e72d62">RxXferCount</a>--;</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;      }</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;      rxdatacount = husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a1301a145dcb6cd6ddc389b7e27e72d62">RxXferCount</a>;</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    }</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160; </div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    <span class="comment">/* At end of TxRx process, restore husart-&gt;State to Ready */</span></div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#aa830327a9f308378a609fc427c729de4">State</a> = <a class="code" href="group__USART__Exported__Types.html#gga502e7abdfa6b24f0f6b40cf60c7383c5ac707f3dc06c16fce84d167b03441e3d1">HAL_USART_STATE_READY</a>;</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160; </div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(husart);</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160; </div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;  }</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;  {</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="keywordflow">return</span> HAL_BUSY;</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;  }</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga8ad37a3c54b720f1f0a2a32dafcac6df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8ad37a3c54b720f1f0a2a32dafcac6df">&#9670;&nbsp;</a></span>HAL_USART_TransmitReceive_DMA()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_USART_TransmitReceive_DMA </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>husart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pTxData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pRxData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Full-Duplex Transmit Receive an amount of data in non-blocking mode. </p>
<dl class="section note"><dt>Note</dt><dd>When the USART parity is enabled (PCE = 1) the data received contain the parity bit. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">husart</td><td>USART handle. </td></tr>
    <tr><td class="paramname">pTxData</td><td>pointer to TX data buffer. </td></tr>
    <tr><td class="paramname">pRxData</td><td>pointer to RX data buffer. </td></tr>
    <tr><td class="paramname">Size</td><td>amount of data to be received/sent. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__usart_8c_source.html#l01611">1611</a> of file <a class="el" href="stm32l4xx__hal__usart_8c_source.html">stm32l4xx_hal_usart.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;{</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;  HAL_StatusTypeDef status;</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;  uint32_t *tmp;</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160; </div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;  <span class="keywordflow">if</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#aa830327a9f308378a609fc427c729de4">State</a> == <a class="code" href="group__USART__Exported__Types.html#gga502e7abdfa6b24f0f6b40cf60c7383c5ac707f3dc06c16fce84d167b03441e3d1">HAL_USART_STATE_READY</a>)</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;  {</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    <span class="keywordflow">if</span> ((pTxData == NULL) || (pRxData == NULL) || (Size == 0U))</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    {</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;      <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    }</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160; </div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    <span class="comment">/* Process Locked */</span></div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(husart);</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160; </div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a9b515aaeac06125c4abba9dd053606dc">pRxBuffPtr</a> = pRxData;</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a39548adb4533a0c1fb452078d6e8c872">RxXferSize</a> = Size;</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a8e9b92faf2f261b9fbb2db6cc08114cb">pTxBuffPtr</a> = pTxData;</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a8fa271afb87f7239d9f60c1fba746da5">TxXferSize</a> = Size;</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160; </div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ac8fbc6455a3506ccbe22c0f4c9d6a34d">ErrorCode</a> = HAL_USART_ERROR_NONE;</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#aa830327a9f308378a609fc427c729de4">State</a> = <a class="code" href="group__USART__Exported__Types.html#gga502e7abdfa6b24f0f6b40cf60c7383c5aab5458c5e3bf1fbd3065ef8fb0109e63">HAL_USART_STATE_BUSY_TX_RX</a>;</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160; </div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;    <span class="keywordflow">if</span> ((husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6d8f4e4b414b8fbfd62aa60f29c38ec9">hdmarx</a> != NULL) &amp;&amp; (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a11000808cb7a216077a51691aaceba95">hdmatx</a> != NULL))</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;    {</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;      <span class="comment">/* Set the USART DMA Rx transfer complete callback */</span></div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;      husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6d8f4e4b414b8fbfd62aa60f29c38ec9">hdmarx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a4f323d8234b3f5f454a639e9df3cba23">XferCpltCallback</a> = <a class="code" href="group__USART__Private__Functions.html#ga41aad1654bcec9d68295c9f2e13a2c60">USART_DMAReceiveCplt</a>;</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160; </div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;      <span class="comment">/* Set the USART DMA Half transfer complete callback */</span></div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;      husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6d8f4e4b414b8fbfd62aa60f29c38ec9">hdmarx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a2e343c6a9135222a8efb8ca5bb5dad8c">XferHalfCpltCallback</a> = <a class="code" href="group__USART__Private__Functions.html#gaac0a64b34f1ea5f483db3d72c1e2184e">USART_DMARxHalfCplt</a>;</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160; </div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;      <span class="comment">/* Set the USART DMA Tx transfer complete callback */</span></div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;      husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a11000808cb7a216077a51691aaceba95">hdmatx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a4f323d8234b3f5f454a639e9df3cba23">XferCpltCallback</a> = <a class="code" href="group__USART__Private__Functions.html#ga8a698c159058079178814d9e85a9e9c0">USART_DMATransmitCplt</a>;</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160; </div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;      <span class="comment">/* Set the USART DMA Half transfer complete callback */</span></div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;      husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a11000808cb7a216077a51691aaceba95">hdmatx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a2e343c6a9135222a8efb8ca5bb5dad8c">XferHalfCpltCallback</a> = <a class="code" href="group__USART__Private__Functions.html#gaf6992131929bc520ed33a4ad6dbca1f2">USART_DMATxHalfCplt</a>;</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160; </div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;      <span class="comment">/* Set the USART DMA Tx transfer error callback */</span></div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;      husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a11000808cb7a216077a51691aaceba95">hdmatx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a5905bba1de7dc9d803a50dfb44d0a9e8">XferErrorCallback</a> = <a class="code" href="group__USART__Private__Functions.html#ga4083e5e8c8ebff18ce53469ccdaaad42">USART_DMAError</a>;</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160; </div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;      <span class="comment">/* Set the USART DMA Rx transfer error callback */</span></div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;      husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6d8f4e4b414b8fbfd62aa60f29c38ec9">hdmarx</a>-&gt;<a class="code" href="struct____DMA__HandleTypeDef.html#a5905bba1de7dc9d803a50dfb44d0a9e8">XferErrorCallback</a> = <a class="code" href="group__USART__Private__Functions.html#ga4083e5e8c8ebff18ce53469ccdaaad42">USART_DMAError</a>;</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160; </div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;      <span class="comment">/* Enable the USART receive DMA channel */</span></div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;      tmp = (uint32_t *)&amp;pRxData;</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;      status = <a class="code" href="group__DMA__Exported__Functions__Group2.html#ga7eddc0931ac8a3d77b23d6d5e68407c7">HAL_DMA_Start_IT</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6d8f4e4b414b8fbfd62aa60f29c38ec9">hdmarx</a>, (uint32_t)&amp;husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;RDR, *(uint32_t *)tmp, Size);</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160; </div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;      <span class="comment">/* Enable the USART transmit DMA channel */</span></div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;      <span class="keywordflow">if</span> (status == <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;      {</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;        tmp = (uint32_t *)&amp;pTxData;</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;        status = <a class="code" href="group__DMA__Exported__Functions__Group2.html#ga7eddc0931ac8a3d77b23d6d5e68407c7">HAL_DMA_Start_IT</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a11000808cb7a216077a51691aaceba95">hdmatx</a>, *(uint32_t *)tmp, (uint32_t)&amp;husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;TDR, Size);</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;      }</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;    }</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    {</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;      status = HAL_ERROR;</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    }</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160; </div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    <span class="keywordflow">if</span> (status == <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>)</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    {</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;      <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(husart);</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160; </div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;      <span class="comment">/* Enable the USART Parity Error Interrupt */</span></div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;      SET_BIT(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR1, USART_CR1_PEIE);</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160; </div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;      <span class="comment">/* Enable the USART Error Interrupt: (Frame error, noise error, overrun error) */</span></div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;      SET_BIT(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_EIE);</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160; </div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;      <span class="comment">/* Clear the TC flag in the ICR register */</span></div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;      __HAL_USART_CLEAR_FLAG(husart, USART_CLEAR_TCF);</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160; </div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;      <span class="comment">/* Enable the DMA transfer for the receiver request by setting the DMAR bit</span></div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;<span class="comment">         in the USART CR3 register */</span></div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;      SET_BIT(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_DMAR);</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160; </div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;      <span class="comment">/* Enable the DMA transfer for transmit request by setting the DMAT bit</span></div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;<span class="comment">         in the USART CR3 register */</span></div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;      SET_BIT(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_DMAT);</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160; </div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;    }</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;    {</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;      <span class="keywordflow">if</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6d8f4e4b414b8fbfd62aa60f29c38ec9">hdmarx</a> != NULL)</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;      {</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;        status = <a class="code" href="group__DMA__Exported__Functions__Group2.html#ga001f9fb04328a7460f9ff16908ff987c">HAL_DMA_Abort</a>(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6d8f4e4b414b8fbfd62aa60f29c38ec9">hdmarx</a>);</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;      }</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160; </div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;      <span class="comment">/* No need to check on error code */</span></div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;      UNUSED(status);</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160; </div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;      <span class="comment">/* Set error code to DMA */</span></div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;      husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ac8fbc6455a3506ccbe22c0f4c9d6a34d">ErrorCode</a> = HAL_USART_ERROR_DMA;</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160; </div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;      <span class="comment">/* Process Unlocked */</span></div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(husart);</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160; </div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;      <span class="comment">/* Restore husart-&gt;State to ready */</span></div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;      husart-&gt;<a class="code" href="group__USART__Exported__Types.html#aa830327a9f308378a609fc427c729de4">State</a> = <a class="code" href="group__USART__Exported__Types.html#gga502e7abdfa6b24f0f6b40cf60c7383c5ac707f3dc06c16fce84d167b03441e3d1">HAL_USART_STATE_READY</a>;</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160; </div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;      <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;    }</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;  }</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;  {</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;    <span class="keywordflow">return</span> HAL_BUSY;</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;  }</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gaf67f2b883594afd0027f10a518a3f595"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf67f2b883594afd0027f10a518a3f595">&#9670;&nbsp;</a></span>HAL_USART_TransmitReceive_IT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_USART_TransmitReceive_IT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>husart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pTxData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pRxData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Full-Duplex Send and Receive an amount of data in interrupt mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">husart</td><td>USART handle. </td></tr>
    <tr><td class="paramname">pTxData</td><td>pointer to TX data buffer. </td></tr>
    <tr><td class="paramname">pRxData</td><td>pointer to RX data buffer. </td></tr>
    <tr><td class="paramname">Size</td><td>amount of data to be sent (same amount to be received). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__usart_8c_source.html#l01308">1308</a> of file <a class="el" href="stm32l4xx__hal__usart_8c_source.html">stm32l4xx_hal_usart.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;{</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160; </div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;  <span class="keywordflow">if</span> (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#aa830327a9f308378a609fc427c729de4">State</a> == <a class="code" href="group__USART__Exported__Types.html#gga502e7abdfa6b24f0f6b40cf60c7383c5ac707f3dc06c16fce84d167b03441e3d1">HAL_USART_STATE_READY</a>)</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;  {</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    <span class="keywordflow">if</span> ((pTxData == NULL) || (pRxData == NULL) || (Size == 0U))</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    {</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;      <span class="keywordflow">return</span> HAL_ERROR;</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    }</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160; </div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    <span class="comment">/* Process Locked */</span></div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a>(husart);</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160; </div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a9b515aaeac06125c4abba9dd053606dc">pRxBuffPtr</a> = pRxData;</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a39548adb4533a0c1fb452078d6e8c872">RxXferSize</a> = Size;</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a1301a145dcb6cd6ddc389b7e27e72d62">RxXferCount</a> = Size;</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a8e9b92faf2f261b9fbb2db6cc08114cb">pTxBuffPtr</a> = pTxData;</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a8fa271afb87f7239d9f60c1fba746da5">TxXferSize</a> = Size;</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a2d01e878e36618b0a990ee1c66297961">TxXferCount</a> = Size;</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160; </div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <span class="comment">/* Computation of USART mask to apply to RDR register */</span></div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    USART_MASK_COMPUTATION(husart);</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160; </div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ac8fbc6455a3506ccbe22c0f4c9d6a34d">ErrorCode</a> = HAL_USART_ERROR_NONE;</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    husart-&gt;<a class="code" href="group__USART__Exported__Types.html#aa830327a9f308378a609fc427c729de4">State</a> = <a class="code" href="group__USART__Exported__Types.html#gga502e7abdfa6b24f0f6b40cf60c7383c5aab5458c5e3bf1fbd3065ef8fb0109e63">HAL_USART_STATE_BUSY_TX_RX</a>;</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160; </div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;<span class="preprocessor">#if defined(USART_CR1_FIFOEN)</span></div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    <span class="comment">/* Configure TxRx interrupt processing */</span></div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    <span class="keywordflow">if</span> ((husart-&gt;<a class="code" href="group__USART__Exported__Types.html#acd581f0b0ab90827fb07cff142347e28">FifoMode</a> == USART_FIFOMODE_ENABLE) &amp;&amp; (Size &gt;= husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a3d85c98abdfa4482d15ed780ffa6d385">NbRxDataToProcess</a>))</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    {</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;      <span class="comment">/* Set the Rx ISR function pointer according to the data word length */</span></div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;      <span class="keywordflow">if</span> ((husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a273bb4fbe1b8f222810068578a78d5a3">Init</a>.<a class="code" href="group__USART__Exported__Types.html#ac4012d27b28014f60a3ad987c62d4fc7">WordLength</a> == USART_WORDLENGTH_9B) &amp;&amp; (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a273bb4fbe1b8f222810068578a78d5a3">Init</a>.<a class="code" href="group__USART__Exported__Types.html#a87eb81cdeb80ee5c3d96aecbe9e75612">Parity</a> == USART_PARITY_NONE))</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;      {</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;        husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a83d29166fa78814668c65fb9d35767fb">TxISR</a> = <a class="code" href="group__USART__Private__Functions.html#ga3b33445d566764d27c8d5466ef959655">USART_TxISR_16BIT_FIFOEN</a>;</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;        husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6e2691c9e9cd2cee513abc69094596f6">RxISR</a> = <a class="code" href="group__USART__Private__Functions.html#ga958030f33003efbc7ab2f335a698073a">USART_RxISR_16BIT_FIFOEN</a>;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;      }</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;      {</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;        husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a83d29166fa78814668c65fb9d35767fb">TxISR</a> = <a class="code" href="group__USART__Private__Functions.html#gaf209f576b56067cd2ab09c04f9f4154d">USART_TxISR_8BIT_FIFOEN</a>;</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;        husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6e2691c9e9cd2cee513abc69094596f6">RxISR</a> = <a class="code" href="group__USART__Private__Functions.html#gaa1ebe96b487f3dc8a15ee5d6cdfbfb4e">USART_RxISR_8BIT_FIFOEN</a>;</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;      }</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160; </div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;      <span class="comment">/* Process Locked */</span></div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(husart);</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160; </div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;      <span class="comment">/* Enable the USART Error Interrupt: (Frame error, noise error, overrun error) */</span></div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;      SET_BIT(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_EIE);</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160; </div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;      <span class="comment">/* Enable the USART Parity Error interrupt  */</span></div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;      SET_BIT(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR1, USART_CR1_PEIE);</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160; </div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;      <span class="comment">/* Enable the TX and  RX FIFO Threshold interrupts */</span></div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;      SET_BIT(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, (USART_CR3_TXFTIE | USART_CR3_RXFTIE));</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    }</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR1_FIFOEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    {</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;      <span class="keywordflow">if</span> ((husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a273bb4fbe1b8f222810068578a78d5a3">Init</a>.<a class="code" href="group__USART__Exported__Types.html#ac4012d27b28014f60a3ad987c62d4fc7">WordLength</a> == USART_WORDLENGTH_9B) &amp;&amp; (husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a273bb4fbe1b8f222810068578a78d5a3">Init</a>.<a class="code" href="group__USART__Exported__Types.html#a87eb81cdeb80ee5c3d96aecbe9e75612">Parity</a> == USART_PARITY_NONE))</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;      {</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;        husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a83d29166fa78814668c65fb9d35767fb">TxISR</a> = <a class="code" href="group__USART__Private__Functions.html#ga7a03b5bebecb6e52619dfff580bd819e">USART_TxISR_16BIT</a>;</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;        husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6e2691c9e9cd2cee513abc69094596f6">RxISR</a> = <a class="code" href="group__USART__Private__Functions.html#gab00cd7d045b430c86bc200e7a33731f9">USART_RxISR_16BIT</a>;</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;      }</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;      {</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;        husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a83d29166fa78814668c65fb9d35767fb">TxISR</a> = <a class="code" href="group__USART__Private__Functions.html#ga292f05e322adc7e274e5f50b414dfe03">USART_TxISR_8BIT</a>;</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;        husart-&gt;<a class="code" href="group__USART__Exported__Types.html#a6e2691c9e9cd2cee513abc69094596f6">RxISR</a> = <a class="code" href="group__USART__Private__Functions.html#ga55dec863a01f715a7bc19e456dfce672">USART_RxISR_8BIT</a>;</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;      }</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160; </div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;      <span class="comment">/* Process Locked */</span></div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;      <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a>(husart);</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160; </div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;      <span class="comment">/* Enable the USART Error Interrupt: (Frame error, noise error, overrun error) */</span></div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;      SET_BIT(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR3, USART_CR3_EIE);</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160; </div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;      <span class="comment">/* Enable the USART Parity Error and USART Data Register not empty Interrupts */</span></div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;<span class="preprocessor">#if defined(USART_CR1_FIFOEN)</span></div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;      SET_BIT(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR1, USART_CR1_PEIE | USART_CR1_RXNEIE_RXFNEIE);</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;      SET_BIT(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR1, USART_CR1_PEIE | USART_CR1_RXNEIE);</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR1_FIFOEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160; </div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;      <span class="comment">/* Enable the USART Transmit Data Register Empty Interrupt */</span></div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;<span class="preprocessor">#if defined(USART_CR1_FIFOEN)</span></div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;      SET_BIT(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR1, USART_CR1_TXEIE_TXFNFIE);</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;      SET_BIT(husart-&gt;<a class="code" href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">Instance</a>-&gt;CR1, USART_CR1_TXEIE);</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* USART_CR1_FIFOEN */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    }</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160; </div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a>;</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;  }</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;  {</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    <span class="keywordflow">return</span> HAL_BUSY;</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;  }</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gac10ab92d62f031a705a69f817481bc77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac10ab92d62f031a705a69f817481bc77">&#9670;&nbsp;</a></span>HAL_USART_TxCpltCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak void HAL_USART_TxCpltCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>husart</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tx Transfer completed callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">husart</td><td>USART handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__usart_8c_source.html#l02385">2385</a> of file <a class="el" href="stm32l4xx__hal__usart_8c_source.html">stm32l4xx_hal_usart.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;{</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;  <span class="comment">/* Prevent unused argument(s) compilation warning */</span></div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;  UNUSED(husart);</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160; </div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;  <span class="comment">/* NOTE : This function should not be modified, when the callback is needed,</span></div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;<span class="comment">            the HAL_USART_TxCpltCallback can be implemented in the user file.</span></div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gaaceafca68a695b32a996c4ab826eb07e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaceafca68a695b32a996c4ab826eb07e">&#9670;&nbsp;</a></span>HAL_USART_TxHalfCpltCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak void HAL_USART_TxHalfCpltCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>husart</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tx Half Transfer completed callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">husart</td><td>USART handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__usart_8c_source.html#l02400">2400</a> of file <a class="el" href="stm32l4xx__hal__usart_8c_source.html">stm32l4xx_hal_usart.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;{</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;  <span class="comment">/* Prevent unused argument(s) compilation warning */</span></div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;  UNUSED(husart);</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160; </div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;  <span class="comment">/* NOTE: This function should not be modified, when the callback is needed,</span></div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;<span class="comment">           the HAL_USART_TxHalfCpltCallback can be implemented in the user file.</span></div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga307a8a22bd3f892ba8417280f62efaa3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga307a8a22bd3f892ba8417280f62efaa3">&#9670;&nbsp;</a></span>HAL_USART_TxRxCpltCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak void HAL_USART_TxRxCpltCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__USART__Exported__Types.html#ga8730d4b94e91fd2b90030553694b495f">USART_HandleTypeDef</a> *&#160;</td>
          <td class="paramname"><em>husart</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tx/Rx Transfers completed callback for the non-blocking process. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">husart</td><td>USART handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="stm32l4xx__hal__usart_8c_source.html#l02445">2445</a> of file <a class="el" href="stm32l4xx__hal__usart_8c_source.html">stm32l4xx_hal_usart.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;{</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;  <span class="comment">/* Prevent unused argument(s) compilation warning */</span></div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;  UNUSED(husart);</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160; </div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;  <span class="comment">/* NOTE : This function should not be modified, when the callback is needed,</span></div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;<span class="comment">            the HAL_USART_TxRxCpltCallback can be implemented in the user file</span></div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="agroup__USART__Exported__Types_html_aa830327a9f308378a609fc427c729de4"><div class="ttname"><a href="group__USART__Exported__Types.html#aa830327a9f308378a609fc427c729de4">__USART_HandleTypeDef::State</a></div><div class="ttdeci">__IO HAL_USART_StateTypeDef State</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8h_source.html#l00166">stm32l4xx_hal_usart.h:166</a></div></div>
<div class="ttc" id="agroup__USART__Exported__Types_html_a7e7dc36a31037cd910ebcfe7ec076ed7"><div class="ttname"><a href="group__USART__Exported__Types.html#a7e7dc36a31037cd910ebcfe7ec076ed7">__USART_HandleTypeDef::ErrorCallback</a></div><div class="ttdeci">void(* ErrorCallback)(struct __USART_HandleTypeDef *husart)</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8h_source.html#l00176">stm32l4xx_hal_usart.h:176</a></div></div>
<div class="ttc" id="agroup__RTCEx__Exported__Functions__Group2_html_ga4734c37dd6682d79ce748b9bff126f66"><div class="ttname"><a href="group__RTCEx__Exported__Functions__Group2.html#ga4734c37dd6682d79ce748b9bff126f66">CLEAR_BIT</a></div><div class="ttdeci">CLEAR_BIT(hrtc-&gt;Instance-&gt;CR, RTC_CR_WUTE)</div></div>
<div class="ttc" id="agroup__RTCEx__Exported__Functions__Group2_html_ga3feac430acb1b5e74ad139639f3af9ca"><div class="ttname"><a href="group__RTCEx__Exported__Functions__Group2.html#ga3feac430acb1b5e74ad139639f3af9ca">__HAL_UNLOCK</a></div><div class="ttdeci">__HAL_UNLOCK(hrtc)</div></div>
<div class="ttc" id="agroup__USART__Exported__Types_html_a87eb81cdeb80ee5c3d96aecbe9e75612"><div class="ttname"><a href="group__USART__Exported__Types.html#a87eb81cdeb80ee5c3d96aecbe9e75612">USART_InitTypeDef::Parity</a></div><div class="ttdeci">uint32_t Parity</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8h_source.html#l00063">stm32l4xx_hal_usart.h:63</a></div></div>
<div class="ttc" id="agroup__USART__Exported__Types_html_ac8fbc6455a3506ccbe22c0f4c9d6a34d"><div class="ttname"><a href="group__USART__Exported__Types.html#ac8fbc6455a3506ccbe22c0f4c9d6a34d">__USART_HandleTypeDef::ErrorCode</a></div><div class="ttdeci">__IO uint32_t ErrorCode</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8h_source.html#l00168">stm32l4xx_hal_usart.h:168</a></div></div>
<div class="ttc" id="astruct____DMA__HandleTypeDef_html_a5866f59e3a12760e559c4547ebf19d37"><div class="ttname"><a href="struct____DMA__HandleTypeDef.html#a5866f59e3a12760e559c4547ebf19d37">__DMA_HandleTypeDef::XferAbortCallback</a></div><div class="ttdeci">void(* XferAbortCallback)(struct __DMA_HandleTypeDef *hdma)</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__dma_8h_source.html#l00131">stm32l4xx_hal_dma.h:131</a></div></div>
<div class="ttc" id="agroup__USART__Exported__Types_html_a23513f8c567745d40a2e6a9c080932d2"><div class="ttname"><a href="group__USART__Exported__Types.html#a23513f8c567745d40a2e6a9c080932d2">__USART_HandleTypeDef::TxFifoEmptyCallback</a></div><div class="ttdeci">void(* TxFifoEmptyCallback)(struct __USART_HandleTypeDef *husart)</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8h_source.html#l00180">stm32l4xx_hal_usart.h:180</a></div></div>
<div class="ttc" id="agroup__USART__Exported__Types_html_a11000808cb7a216077a51691aaceba95"><div class="ttname"><a href="group__USART__Exported__Types.html#a11000808cb7a216077a51691aaceba95">__USART_HandleTypeDef::hdmatx</a></div><div class="ttdeci">DMA_HandleTypeDef * hdmatx</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8h_source.html#l00160">stm32l4xx_hal_usart.h:160</a></div></div>
<div class="ttc" id="agroup__USART__Private__Functions_html_ga589a1b7e1257d05824382ea20cd0a941"><div class="ttname"><a href="group__USART__Private__Functions.html#ga589a1b7e1257d05824382ea20cd0a941">USART_DMATxAbortCallback</a></div><div class="ttdeci">static void USART_DMATxAbortCallback(DMA_HandleTypeDef *hdma)</div><div class="ttdoc">DMA USART Tx communication abort callback, when initiated by user (To be called at end of DMA Tx Abor...</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8c_source.html#l02790">stm32l4xx_hal_usart.c:2790</a></div></div>
<div class="ttc" id="agroup__USART__Exported__Types_html_a39548adb4533a0c1fb452078d6e8c872"><div class="ttname"><a href="group__USART__Exported__Types.html#a39548adb4533a0c1fb452078d6e8c872">__USART_HandleTypeDef::RxXferSize</a></div><div class="ttdeci">uint16_t RxXferSize</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8h_source.html#l00134">stm32l4xx_hal_usart.h:134</a></div></div>
<div class="ttc" id="agroup__DMA__Exported__Functions__Group2_html_ga6677d7e614747341a58ffd7a048fd390"><div class="ttname"><a href="group__DMA__Exported__Functions__Group2.html#ga6677d7e614747341a58ffd7a048fd390">HAL_DMA_Abort_IT</a></div><div class="ttdeci">HAL_StatusTypeDef HAL_DMA_Abort_IT(DMA_HandleTypeDef *hdma)</div><div class="ttdoc">Aborts the DMA Transfer in Interrupt mode.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__dma_8c_source.html#l00608">stm32l4xx_hal_dma.c:608</a></div></div>
<div class="ttc" id="agroup__USART__Private__Functions_html_gab00cd7d045b430c86bc200e7a33731f9"><div class="ttname"><a href="group__USART__Private__Functions.html#gab00cd7d045b430c86bc200e7a33731f9">USART_RxISR_16BIT</a></div><div class="ttdeci">static void USART_RxISR_16BIT(USART_HandleTypeDef *husart)</div><div class="ttdoc">Simplex receive an amount of data in non-blocking mode.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8c_source.html#l03420">stm32l4xx_hal_usart.c:3420</a></div></div>
<div class="ttc" id="agroup__USART__Exported__Types_html_ac4012d27b28014f60a3ad987c62d4fc7"><div class="ttname"><a href="group__USART__Exported__Types.html#ac4012d27b28014f60a3ad987c62d4fc7">USART_InitTypeDef::WordLength</a></div><div class="ttdeci">uint32_t WordLength</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8h_source.html#l00057">stm32l4xx_hal_usart.h:57</a></div></div>
<div class="ttc" id="agroup__USART__Private__Functions_html_gaa1ebe96b487f3dc8a15ee5d6cdfbfb4e"><div class="ttname"><a href="group__USART__Private__Functions.html#gaa1ebe96b487f3dc8a15ee5d6cdfbfb4e">USART_RxISR_8BIT_FIFOEN</a></div><div class="ttdeci">static void USART_RxISR_8BIT_FIFOEN(USART_HandleTypeDef *husart)</div><div class="ttdoc">Simplex receive an amount of data in non-blocking mode.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8c_source.html#l03535">stm32l4xx_hal_usart.c:3535</a></div></div>
<div class="ttc" id="astruct____DMA__HandleTypeDef_html_a4f323d8234b3f5f454a639e9df3cba23"><div class="ttname"><a href="struct____DMA__HandleTypeDef.html#a4f323d8234b3f5f454a639e9df3cba23">__DMA_HandleTypeDef::XferCpltCallback</a></div><div class="ttdeci">void(* XferCpltCallback)(struct __DMA_HandleTypeDef *hdma)</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__dma_8h_source.html#l00125">stm32l4xx_hal_dma.h:125</a></div></div>
<div class="ttc" id="agroup__USART__Exported__Types_html_a273bb4fbe1b8f222810068578a78d5a3"><div class="ttname"><a href="group__USART__Exported__Types.html#a273bb4fbe1b8f222810068578a78d5a3">__USART_HandleTypeDef::Init</a></div><div class="ttdeci">USART_InitTypeDef Init</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8h_source.html#l00124">stm32l4xx_hal_usart.h:124</a></div></div>
<div class="ttc" id="agroup__USART__Private__Functions_html_ga5fe9523bcb2c79dffb9781b2f7e59b64"><div class="ttname"><a href="group__USART__Private__Functions.html#ga5fe9523bcb2c79dffb9781b2f7e59b64">USART_EndTransmit_IT</a></div><div class="ttdeci">static void USART_EndTransmit_IT(USART_HandleTypeDef *husart)</div><div class="ttdoc">Wraps up transmission in non-blocking mode.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8c_source.html#l03251">stm32l4xx_hal_usart.c:3251</a></div></div>
<div class="ttc" id="agroup__HAL__Exported__Functions__Group2_html_gac9b3a85a73735ac840d0dcb59bc0fdd6"><div class="ttname"><a href="group__HAL__Exported__Functions__Group2.html#gac9b3a85a73735ac840d0dcb59bc0fdd6">HAL_GetTick</a></div><div class="ttdeci">uint32_t HAL_GetTick(void)</div><div class="ttdoc">Provide a tick value in millisecond.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal_8c_source.html#l00337">stm32l4xx_hal.c:337</a></div></div>
<div class="ttc" id="agroup__USART__Private__Functions_html_ga8a698c159058079178814d9e85a9e9c0"><div class="ttname"><a href="group__USART__Private__Functions.html#ga8a698c159058079178814d9e85a9e9c0">USART_DMATransmitCplt</a></div><div class="ttdeci">static void USART_DMATransmitCplt(DMA_HandleTypeDef *hdma)</div><div class="ttdoc">DMA USART transmit process complete callback.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8c_source.html#l02590">stm32l4xx_hal_usart.c:2590</a></div></div>
<div class="ttc" id="agroup__USART__Exported__Types_html_abb6ae9c0f96ebbf02469756c0e612ac2"><div class="ttname"><a href="group__USART__Exported__Types.html#abb6ae9c0f96ebbf02469756c0e612ac2">__USART_HandleTypeDef::RxFifoFullCallback</a></div><div class="ttdeci">void(* RxFifoFullCallback)(struct __USART_HandleTypeDef *husart)</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8h_source.html#l00179">stm32l4xx_hal_usart.h:179</a></div></div>
<div class="ttc" id="astruct____DMA__HandleTypeDef_html_a5905bba1de7dc9d803a50dfb44d0a9e8"><div class="ttname"><a href="struct____DMA__HandleTypeDef.html#a5905bba1de7dc9d803a50dfb44d0a9e8">__DMA_HandleTypeDef::XferErrorCallback</a></div><div class="ttdeci">void(* XferErrorCallback)(struct __DMA_HandleTypeDef *hdma)</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__dma_8h_source.html#l00129">stm32l4xx_hal_dma.h:129</a></div></div>
<div class="ttc" id="astruct____DMA__HandleTypeDef_html_a2e343c6a9135222a8efb8ca5bb5dad8c"><div class="ttname"><a href="struct____DMA__HandleTypeDef.html#a2e343c6a9135222a8efb8ca5bb5dad8c">__DMA_HandleTypeDef::XferHalfCpltCallback</a></div><div class="ttdeci">void(* XferHalfCpltCallback)(struct __DMA_HandleTypeDef *hdma)</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__dma_8h_source.html#l00127">stm32l4xx_hal_dma.h:127</a></div></div>
<div class="ttc" id="agroup__USART__Exported__Types_html_a6d8f4e4b414b8fbfd62aa60f29c38ec9"><div class="ttname"><a href="group__USART__Exported__Types.html#a6d8f4e4b414b8fbfd62aa60f29c38ec9">__USART_HandleTypeDef::hdmarx</a></div><div class="ttdeci">DMA_HandleTypeDef * hdmarx</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8h_source.html#l00162">stm32l4xx_hal_usart.h:162</a></div></div>
<div class="ttc" id="agroup__USART__Exported__Types_html_a3d85c98abdfa4482d15ed780ffa6d385"><div class="ttname"><a href="group__USART__Exported__Types.html#a3d85c98abdfa4482d15ed780ffa6d385">__USART_HandleTypeDef::NbRxDataToProcess</a></div><div class="ttdeci">uint16_t NbRxDataToProcess</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8h_source.html#l00141">stm32l4xx_hal_usart.h:141</a></div></div>
<div class="ttc" id="agroup__USART__Exported__Types_html_ae3bb9a1d22e69aee98990276363f5dc4"><div class="ttname"><a href="group__USART__Exported__Types.html#ae3bb9a1d22e69aee98990276363f5dc4">__USART_HandleTypeDef::Instance</a></div><div class="ttdeci">USART_TypeDef * Instance</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8h_source.html#l00122">stm32l4xx_hal_usart.h:122</a></div></div>
<div class="ttc" id="agroup__USART__Exported__Types_html_a515298328f193d87ae76baaaf7c6013a"><div class="ttname"><a href="group__USART__Exported__Types.html#a515298328f193d87ae76baaaf7c6013a">__USART_HandleTypeDef::SlaveMode</a></div><div class="ttdeci">uint32_t SlaveMode</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8h_source.html#l00147">stm32l4xx_hal_usart.h:147</a></div></div>
<div class="ttc" id="agroup__USART__Exported__Types_html_a8fa271afb87f7239d9f60c1fba746da5"><div class="ttname"><a href="group__USART__Exported__Types.html#a8fa271afb87f7239d9f60c1fba746da5">__USART_HandleTypeDef::TxXferSize</a></div><div class="ttdeci">uint16_t TxXferSize</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8h_source.html#l00128">stm32l4xx_hal_usart.h:128</a></div></div>
<div class="ttc" id="agroup__USART__Private__Functions_html_gaf209f576b56067cd2ab09c04f9f4154d"><div class="ttname"><a href="group__USART__Private__Functions.html#gaf209f576b56067cd2ab09c04f9f4154d">USART_TxISR_8BIT_FIFOEN</a></div><div class="ttdeci">static void USART_TxISR_8BIT_FIFOEN(USART_HandleTypeDef *husart)</div><div class="ttdoc">Simplex send an amount of data in non-blocking mode.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8c_source.html#l03162">stm32l4xx_hal_usart.c:3162</a></div></div>
<div class="ttc" id="agroup__USART__Exported__Types_html_acd581f0b0ab90827fb07cff142347e28"><div class="ttname"><a href="group__USART__Exported__Types.html#acd581f0b0ab90827fb07cff142347e28">__USART_HandleTypeDef::FifoMode</a></div><div class="ttdeci">uint32_t FifoMode</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8h_source.html#l00152">stm32l4xx_hal_usart.h:152</a></div></div>
<div class="ttc" id="agroup__USART__Exported__Types_html_gga502e7abdfa6b24f0f6b40cf60c7383c5aab5458c5e3bf1fbd3065ef8fb0109e63"><div class="ttname"><a href="group__USART__Exported__Types.html#gga502e7abdfa6b24f0f6b40cf60c7383c5aab5458c5e3bf1fbd3065ef8fb0109e63">HAL_USART_STATE_BUSY_TX_RX</a></div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8h_source.html#l00099">stm32l4xx_hal_usart.h:99</a></div></div>
<div class="ttc" id="agroup__USART__Exported__Types_html_a7428e6a5e0101046aecbc0c3cc209375"><div class="ttname"><a href="group__USART__Exported__Types.html#a7428e6a5e0101046aecbc0c3cc209375">__USART_HandleTypeDef::AbortCpltCallback</a></div><div class="ttdeci">void(* AbortCpltCallback)(struct __USART_HandleTypeDef *husart)</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8h_source.html#l00177">stm32l4xx_hal_usart.h:177</a></div></div>
<div class="ttc" id="agroup__USART__Private__Functions_html_ga41aad1654bcec9d68295c9f2e13a2c60"><div class="ttname"><a href="group__USART__Private__Functions.html#ga41aad1654bcec9d68295c9f2e13a2c60">USART_DMAReceiveCplt</a></div><div class="ttdeci">static void USART_DMAReceiveCplt(DMA_HandleTypeDef *hdma)</div><div class="ttdoc">DMA USART receive process complete callback.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8c_source.html#l02648">stm32l4xx_hal_usart.c:2648</a></div></div>
<div class="ttc" id="agroup__USART__Private__Functions_html_ga292f05e322adc7e274e5f50b414dfe03"><div class="ttname"><a href="group__USART__Private__Functions.html#ga292f05e322adc7e274e5f50b414dfe03">USART_TxISR_8BIT</a></div><div class="ttdeci">static void USART_TxISR_8BIT(USART_HandleTypeDef *husart)</div><div class="ttdoc">Simplex send an amount of data in non-blocking mode.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8c_source.html#l03090">stm32l4xx_hal_usart.c:3090</a></div></div>
<div class="ttc" id="agroup__USART__Private__Functions_html_gaa86bc5ef0ab7e40521467e78b80bfddd"><div class="ttname"><a href="group__USART__Private__Functions.html#gaa86bc5ef0ab7e40521467e78b80bfddd">USART_DMAAbortOnError</a></div><div class="ttdeci">static void USART_DMAAbortOnError(DMA_HandleTypeDef *hdma)</div><div class="ttdoc">DMA USART communication abort callback, when initiated by HAL services on Error (To be called at end ...</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8c_source.html#l02767">stm32l4xx_hal_usart.c:2767</a></div></div>
<div class="ttc" id="agroup__USART__Private__Functions_html_ga55dec863a01f715a7bc19e456dfce672"><div class="ttname"><a href="group__USART__Private__Functions.html#ga55dec863a01f715a7bc19e456dfce672">USART_RxISR_8BIT</a></div><div class="ttdeci">static void USART_RxISR_8BIT(USART_HandleTypeDef *husart)</div><div class="ttdoc">Simplex receive an amount of data in non-blocking mode.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8c_source.html#l03308">stm32l4xx_hal_usart.c:3308</a></div></div>
<div class="ttc" id="agroup__USART__Exported__Types_html_gga502e7abdfa6b24f0f6b40cf60c7383c5a2ee8ab5e15829c484ab4c4fbec68d3f6"><div class="ttname"><a href="group__USART__Exported__Types.html#gga502e7abdfa6b24f0f6b40cf60c7383c5a2ee8ab5e15829c484ab4c4fbec68d3f6">HAL_USART_STATE_BUSY_TX</a></div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8h_source.html#l00097">stm32l4xx_hal_usart.h:97</a></div></div>
<div class="ttc" id="agroup__USART__Exported__Types_html_a8e9b92faf2f261b9fbb2db6cc08114cb"><div class="ttname"><a href="group__USART__Exported__Types.html#a8e9b92faf2f261b9fbb2db6cc08114cb">__USART_HandleTypeDef::pTxBuffPtr</a></div><div class="ttdeci">uint8_t * pTxBuffPtr</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8h_source.html#l00126">stm32l4xx_hal_usart.h:126</a></div></div>
<div class="ttc" id="agroup__USART__Exported__Functions__Group2_html_gac6e067472d6e7771e7ab3bc4e230f91a"><div class="ttname"><a href="group__USART__Exported__Functions__Group2.html#gac6e067472d6e7771e7ab3bc4e230f91a">HAL_USART_AbortCpltCallback</a></div><div class="ttdeci">void HAL_USART_AbortCpltCallback(USART_HandleTypeDef *husart)</div><div class="ttdoc">USART Abort Complete callback.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8c_source.html#l02475">stm32l4xx_hal_usart.c:2475</a></div></div>
<div class="ttc" id="agroup__USART__Exported__Types_html_gga502e7abdfa6b24f0f6b40cf60c7383c5ac707f3dc06c16fce84d167b03441e3d1"><div class="ttname"><a href="group__USART__Exported__Types.html#gga502e7abdfa6b24f0f6b40cf60c7383c5ac707f3dc06c16fce84d167b03441e3d1">HAL_USART_STATE_READY</a></div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8h_source.html#l00095">stm32l4xx_hal_usart.h:95</a></div></div>
<div class="ttc" id="agroup__USART__Exported__Types_html_gga502e7abdfa6b24f0f6b40cf60c7383c5a4943f2dd7af684bfad7688b16e149f0d"><div class="ttname"><a href="group__USART__Exported__Types.html#gga502e7abdfa6b24f0f6b40cf60c7383c5a4943f2dd7af684bfad7688b16e149f0d">HAL_USART_STATE_BUSY_RX</a></div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8h_source.html#l00098">stm32l4xx_hal_usart.h:98</a></div></div>
<div class="ttc" id="agroup__USART__Exported__Types_html_a1301a145dcb6cd6ddc389b7e27e72d62"><div class="ttname"><a href="group__USART__Exported__Types.html#a1301a145dcb6cd6ddc389b7e27e72d62">__USART_HandleTypeDef::RxXferCount</a></div><div class="ttdeci">__IO uint16_t RxXferCount</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8h_source.html#l00136">stm32l4xx_hal_usart.h:136</a></div></div>
<div class="ttc" id="agroup__RTCEx__Exported__Functions__Group2_html_ga05dcbf41f5c5e42a592e9ad9e351391e"><div class="ttname"><a href="group__RTCEx__Exported__Functions__Group2.html#ga05dcbf41f5c5e42a592e9ad9e351391e">HAL_OK</a></div><div class="ttdeci">return HAL_OK</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__rtc__ex_8c_source.html#l00885">stm32l4xx_hal_rtc_ex.c:885</a></div></div>
<div class="ttc" id="agroup__DMA__Exported__Functions__Group2_html_ga7eddc0931ac8a3d77b23d6d5e68407c7"><div class="ttname"><a href="group__DMA__Exported__Functions__Group2.html#ga7eddc0931ac8a3d77b23d6d5e68407c7">HAL_DMA_Start_IT</a></div><div class="ttdeci">HAL_StatusTypeDef HAL_DMA_Start_IT(DMA_HandleTypeDef *hdma, uint32_t SrcAddress, uint32_t DstAddress, uint32_t DataLength)</div><div class="ttdoc">Start the DMA Transfer with interrupt enabled.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__dma_8c_source.html#l00473">stm32l4xx_hal_dma.c:473</a></div></div>
<div class="ttc" id="agroup__USART__Exported__Types_html_a83d29166fa78814668c65fb9d35767fb"><div class="ttname"><a href="group__USART__Exported__Types.html#a83d29166fa78814668c65fb9d35767fb">__USART_HandleTypeDef::TxISR</a></div><div class="ttdeci">void(* TxISR)(struct __USART_HandleTypeDef *husart)</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8h_source.html#l00158">stm32l4xx_hal_usart.h:158</a></div></div>
<div class="ttc" id="agroup__USARTEx__Exported__Functions__Group1_html_gaf2e069a92883ccced147b7b453ddcebc"><div class="ttname"><a href="group__USARTEx__Exported__Functions__Group1.html#gaf2e069a92883ccced147b7b453ddcebc">HAL_USARTEx_TxFifoEmptyCallback</a></div><div class="ttdeci">void HAL_USARTEx_TxFifoEmptyCallback(USART_HandleTypeDef *husart)</div><div class="ttdoc">USART TX Fifo empty callback.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart__ex_8c_source.html#l00123">stm32l4xx_hal_usart_ex.c:123</a></div></div>
<div class="ttc" id="agroup__USART__Exported__Types_html_a6e2691c9e9cd2cee513abc69094596f6"><div class="ttname"><a href="group__USART__Exported__Types.html#a6e2691c9e9cd2cee513abc69094596f6">__USART_HandleTypeDef::RxISR</a></div><div class="ttdeci">void(* RxISR)(struct __USART_HandleTypeDef *husart)</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8h_source.html#l00156">stm32l4xx_hal_usart.h:156</a></div></div>
<div class="ttc" id="agroup__USART__Private__Functions_html_ga4083e5e8c8ebff18ce53469ccdaaad42"><div class="ttname"><a href="group__USART__Private__Functions.html#ga4083e5e8c8ebff18ce53469ccdaaad42">USART_DMAError</a></div><div class="ttdeci">static void USART_DMAError(DMA_HandleTypeDef *hdma)</div><div class="ttdoc">DMA USART communication error callback.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8c_source.html#l02741">stm32l4xx_hal_usart.c:2741</a></div></div>
<div class="ttc" id="agroup__USARTEx__Exported__Functions__Group1_html_ga73280efd5a6ec1fcb8499274393759a0"><div class="ttname"><a href="group__USARTEx__Exported__Functions__Group1.html#ga73280efd5a6ec1fcb8499274393759a0">HAL_USARTEx_RxFifoFullCallback</a></div><div class="ttdeci">void HAL_USARTEx_RxFifoFullCallback(USART_HandleTypeDef *husart)</div><div class="ttdoc">USART RX Fifo full callback.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart__ex_8c_source.html#l00108">stm32l4xx_hal_usart_ex.c:108</a></div></div>
<div class="ttc" id="agroup__DMA__Exported__Functions__Group2_html_ga001f9fb04328a7460f9ff16908ff987c"><div class="ttname"><a href="group__DMA__Exported__Functions__Group2.html#ga001f9fb04328a7460f9ff16908ff987c">HAL_DMA_Abort</a></div><div class="ttdeci">HAL_StatusTypeDef HAL_DMA_Abort(DMA_HandleTypeDef *hdma)</div><div class="ttdoc">Abort the DMA Transfer.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__dma_8c_source.html#l00546">stm32l4xx_hal_dma.c:546</a></div></div>
<div class="ttc" id="agroup__USART__Private__Functions_html_ga3b33445d566764d27c8d5466ef959655"><div class="ttname"><a href="group__USART__Private__Functions.html#ga3b33445d566764d27c8d5466ef959655">USART_TxISR_16BIT_FIFOEN</a></div><div class="ttdeci">static void USART_TxISR_16BIT_FIFOEN(USART_HandleTypeDef *husart)</div><div class="ttdoc">Simplex send an amount of data in non-blocking mode.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8c_source.html#l03207">stm32l4xx_hal_usart.c:3207</a></div></div>
<div class="ttc" id="agroup__USART__Private__Functions_html_ga4e6101bda9cdac3948d7855ef4d7e556"><div class="ttname"><a href="group__USART__Private__Functions.html#ga4e6101bda9cdac3948d7855ef4d7e556">USART_EndTransfer</a></div><div class="ttdeci">static void USART_EndTransfer(USART_HandleTypeDef *husart)</div><div class="ttdoc">End ongoing transfer on USART peripheral (following error detection or Transfer completion).</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8c_source.html#l02568">stm32l4xx_hal_usart.c:2568</a></div></div>
<div class="ttc" id="agroup__USART__Exported__Functions__Group2_html_ga6886a45a724a2180a8002366ecf46a9d"><div class="ttname"><a href="group__USART__Exported__Functions__Group2.html#ga6886a45a724a2180a8002366ecf46a9d">HAL_USART_ErrorCallback</a></div><div class="ttdeci">void HAL_USART_ErrorCallback(USART_HandleTypeDef *husart)</div><div class="ttdoc">USART error callback.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8c_source.html#l02460">stm32l4xx_hal_usart.c:2460</a></div></div>
<div class="ttc" id="agroup__USART__Private__Functions_html_ga958030f33003efbc7ab2f335a698073a"><div class="ttname"><a href="group__USART__Private__Functions.html#ga958030f33003efbc7ab2f335a698073a">USART_RxISR_16BIT_FIFOEN</a></div><div class="ttdeci">static void USART_RxISR_16BIT_FIFOEN(USART_HandleTypeDef *husart)</div><div class="ttdoc">Simplex receive an amount of data in non-blocking mode.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8c_source.html#l03678">stm32l4xx_hal_usart.c:3678</a></div></div>
<div class="ttc" id="agroup__USART__Exported__Types_html_a5120e074284a793f8e21426df45a7ec6"><div class="ttname"><a href="group__USART__Exported__Types.html#a5120e074284a793f8e21426df45a7ec6">__USART_HandleTypeDef::Mask</a></div><div class="ttdeci">uint16_t Mask</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8h_source.html#l00138">stm32l4xx_hal_usart.h:138</a></div></div>
<div class="ttc" id="agroup__USART__Exported__Types_html_a2d01e878e36618b0a990ee1c66297961"><div class="ttname"><a href="group__USART__Exported__Types.html#a2d01e878e36618b0a990ee1c66297961">__USART_HandleTypeDef::TxXferCount</a></div><div class="ttdeci">__IO uint16_t TxXferCount</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8h_source.html#l00130">stm32l4xx_hal_usart.h:130</a></div></div>
<div class="ttc" id="agroup__USART__Private__Functions_html_gabf2006d10d37daab3938965bc6019f9f"><div class="ttname"><a href="group__USART__Private__Functions.html#gabf2006d10d37daab3938965bc6019f9f">USART_DMARxAbortCallback</a></div><div class="ttdeci">static void USART_DMARxAbortCallback(DMA_HandleTypeDef *hdma)</div><div class="ttdoc">DMA USART Rx communication abort callback, when initiated by user (To be called at end of DMA Rx Abor...</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8c_source.html#l02838">stm32l4xx_hal_usart.c:2838</a></div></div>
<div class="ttc" id="agroup__DMA__Exported__Functions__Group3_html_gabc0735694a0dd08e352b796d7fa7634f"><div class="ttname"><a href="group__DMA__Exported__Functions__Group3.html#gabc0735694a0dd08e352b796d7fa7634f">HAL_DMA_GetError</a></div><div class="ttdeci">uint32_t HAL_DMA_GetError(DMA_HandleTypeDef *hdma)</div><div class="ttdoc">Return the DMA error code.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__dma_8c_source.html#l01042">stm32l4xx_hal_dma.c:1042</a></div></div>
<div class="ttc" id="agroup__RTCEx__Exported__Functions__Group2_html_ga88b8891e30e4b1c54fecb1235c95870d"><div class="ttname"><a href="group__RTCEx__Exported__Functions__Group2.html#ga88b8891e30e4b1c54fecb1235c95870d">__HAL_LOCK</a></div><div class="ttdeci">__HAL_LOCK(hrtc)</div></div>
<div class="ttc" id="agroup__USART__Private__Functions_html_gaac0a64b34f1ea5f483db3d72c1e2184e"><div class="ttname"><a href="group__USART__Private__Functions.html#gaac0a64b34f1ea5f483db3d72c1e2184e">USART_DMARxHalfCplt</a></div><div class="ttdeci">static void USART_DMARxHalfCplt(DMA_HandleTypeDef *hdma)</div><div class="ttdoc">DMA USART receive process half complete callback.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8c_source.html#l02723">stm32l4xx_hal_usart.c:2723</a></div></div>
<div class="ttc" id="agroup__USART__Private__Functions_html_ga6d57689a72b36e10d45b353bcf1487a2"><div class="ttname"><a href="group__USART__Private__Functions.html#ga6d57689a72b36e10d45b353bcf1487a2">USART_WaitOnFlagUntilTimeout</a></div><div class="ttdeci">static HAL_StatusTypeDef USART_WaitOnFlagUntilTimeout(USART_HandleTypeDef *husart, uint32_t Flag, FlagStatus Status, uint32_t Tickstart, uint32_t Timeout)</div><div class="ttdoc">Handle USART Communication Timeout.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8c_source.html#l02886">stm32l4xx_hal_usart.c:2886</a></div></div>
<div class="ttc" id="agroup__USART__Exported__Types_html_ga502e7abdfa6b24f0f6b40cf60c7383c5"><div class="ttname"><a href="group__USART__Exported__Types.html#ga502e7abdfa6b24f0f6b40cf60c7383c5">HAL_USART_StateTypeDef</a></div><div class="ttdeci">HAL_USART_StateTypeDef</div><div class="ttdoc">HAL USART State structures definition.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8h_source.html#l00092">stm32l4xx_hal_usart.h:92</a></div></div>
<div class="ttc" id="agroup__USART__Exported__Types_html_a9b515aaeac06125c4abba9dd053606dc"><div class="ttname"><a href="group__USART__Exported__Types.html#a9b515aaeac06125c4abba9dd053606dc">__USART_HandleTypeDef::pRxBuffPtr</a></div><div class="ttdeci">uint8_t * pRxBuffPtr</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8h_source.html#l00132">stm32l4xx_hal_usart.h:132</a></div></div>
<div class="ttc" id="agroup__USART__Private__Functions_html_gaf6992131929bc520ed33a4ad6dbca1f2"><div class="ttname"><a href="group__USART__Private__Functions.html#gaf6992131929bc520ed33a4ad6dbca1f2">USART_DMATxHalfCplt</a></div><div class="ttdeci">static void USART_DMATxHalfCplt(DMA_HandleTypeDef *hdma)</div><div class="ttdoc">DMA USART transmit process half complete callback.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8c_source.html#l02630">stm32l4xx_hal_usart.c:2630</a></div></div>
<div class="ttc" id="agroup__USART__Private__Functions_html_ga7a03b5bebecb6e52619dfff580bd819e"><div class="ttname"><a href="group__USART__Private__Functions.html#ga7a03b5bebecb6e52619dfff580bd819e">USART_TxISR_16BIT</a></div><div class="ttdeci">static void USART_TxISR_16BIT(USART_HandleTypeDef *husart)</div><div class="ttdoc">Simplex send an amount of data in non-blocking mode.</div><div class="ttdef"><b>Definition:</b> <a href="stm32l4xx__hal__usart_8c_source.html#l03125">stm32l4xx_hal_usart.c:3125</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.16 </li>
  </ul>
</div>
</body>
</html>
